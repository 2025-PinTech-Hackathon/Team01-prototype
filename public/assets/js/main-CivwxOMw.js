(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();const rn=!1;var jt=Array.isArray,hi=Array.prototype.indexOf,Fr=Array.from,Rn=Object.defineProperty,nt=Object.getOwnPropertyDescriptor,xn=Object.getOwnPropertyDescriptors,pi=Object.prototype,mi=Array.prototype,jr=Object.getPrototypeOf,nn=Object.isExtensible;function kt(e){return typeof e=="function"}const it=()=>{};function gi(e){return e()}function Ot(e){for(var t=0;t<e.length;t++)e[t]()}const Be=2,Sn=4,ar=8,Nr=16,Ze=32,wt=64,Kt=128,Ae=256,Qt=512,xe=1024,ze=2048,ut=4096,Xe=8192,sr=16384,bi=32768,ur=65536,wi=1<<17,yi=1<<19,Tn=1<<20,Lr=1<<21,ot=Symbol("$state"),Cn=Symbol("legacy props");function kn(e){return e===this.v}function Ln(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Wr(e){return!Ln(e,this.v)}function _i(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ri(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function xi(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Si(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ti(e){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function Ci(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ki(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Li(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ai(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let yt=!1,Ei=!1;function Mi(){yt=!0}const qr=1,Vr=2,An=4,Di=8,Oi=16,Ui=1,Ii=2,Pi=4,Bi=8,Fi=16,ji=1,Ni=2,Ce=Symbol(),Wi="http://www.w3.org/1999/xhtml";function qi(){throw new Error("https://svelte.dev/e/invalid_default_snippet")}function lr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let ee=null;function on(e){ee=e}function vt(e,t=!1,n){var i=ee={p:ee,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};yt&&!t&&(ee.l={s:null,u:null,r1:[],r2:Pt(!1)}),$r(()=>{i.d=!0})}function ht(e){const t=ee;if(t!==null){const c=t.e;if(c!==null){var n=ae,i=oe;t.e=null;try{for(var o=0;o<c.length;o++){var a=c[o];st(a.effect),$e(a.reaction),Gr(a.fn)}}finally{st(n),$e(i)}}ee=t.p,t.m=!0}return{}}function Nt(){return!yt||ee!==null&&ee.l===null}function tt(e){if(typeof e!="object"||e===null||ot in e)return e;const t=jr(e);if(t!==pi&&t!==mi)return e;var n=new Map,i=jt(e),o=Je(0),a=oe,c=f=>{var v=oe;$e(a);var b=f();return $e(v),b};return i&&n.set("length",Je(e.length)),new Proxy(e,{defineProperty(f,v,b){(!("value"in b)||b.configurable===!1||b.enumerable===!1||b.writable===!1)&&ki();var y=n.get(v);return y===void 0?(y=c(()=>Je(b.value)),n.set(v,y)):te(y,c(()=>tt(b.value))),!0},deleteProperty(f,v){var b=n.get(v);if(b===void 0)v in f&&(n.set(v,c(()=>Je(Ce))),_r(o));else{if(i&&typeof v=="string"){var y=n.get("length"),x=Number(v);Number.isInteger(x)&&x<y.v&&te(y,x)}te(b,Ce),_r(o)}return!0},get(f,v,b){var E;if(v===ot)return e;var y=n.get(v),x=v in f;if(y===void 0&&(!x||(E=nt(f,v))!=null&&E.writable)&&(y=c(()=>Je(tt(x?f[v]:Ce))),n.set(v,y)),y!==void 0){var w=B(y);return w===Ce?void 0:w}return Reflect.get(f,v,b)},getOwnPropertyDescriptor(f,v){var b=Reflect.getOwnPropertyDescriptor(f,v);if(b&&"value"in b){var y=n.get(v);y&&(b.value=B(y))}else if(b===void 0){var x=n.get(v),w=x==null?void 0:x.v;if(x!==void 0&&w!==Ce)return{enumerable:!0,configurable:!0,value:w,writable:!0}}return b},has(f,v){var w;if(v===ot)return!0;var b=n.get(v),y=b!==void 0&&b.v!==Ce||Reflect.has(f,v);if(b!==void 0||ae!==null&&(!y||(w=nt(f,v))!=null&&w.writable)){b===void 0&&(b=c(()=>Je(y?tt(f[v]):Ce)),n.set(v,b));var x=B(b);if(x===Ce)return!1}return y},set(f,v,b,y){var re;var x=n.get(v),w=v in f;if(i&&v==="length")for(var E=b;E<x.v;E+=1){var A=n.get(E+"");A!==void 0?te(A,Ce):E in f&&(A=c(()=>Je(Ce)),n.set(E+"",A))}x===void 0?(!w||(re=nt(f,v))!=null&&re.writable)&&(x=c(()=>Je(void 0)),te(x,c(()=>tt(b))),n.set(v,x)):(w=x.v!==Ce,te(x,c(()=>tt(b))));var G=Reflect.getOwnPropertyDescriptor(f,v);if(G!=null&&G.set&&G.set.call(y,b),!w){if(i&&typeof v=="string"){var W=n.get("length"),Q=Number(v);Number.isInteger(Q)&&Q>=W.v&&te(W,Q+1)}_r(o)}return!0},ownKeys(f){B(o);var v=Reflect.ownKeys(f).filter(x=>{var w=n.get(x);return w===void 0||w.v!==Ce});for(var[b,y]of n)y.v!==Ce&&!(b in f)&&v.push(b);return v},setPrototypeOf(){Li()}})}function _r(e,t=1){te(e,e.v+t)}function Ut(e){var t=Be|ze,n=oe!==null&&(oe.f&Be)!==0?oe:null;return ae===null||n!==null&&(n.f&Ae)!==0?t|=Ae:ae.f|=Tn,{ctx:ee,deps:null,effects:null,equals:kn,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??ae}}function fr(e){const t=Ut(e);return t.equals=Wr,t}function En(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)at(t[n])}}function Vi(e){for(var t=e.parent;t!==null;){if((t.f&Be)===0)return t;t=t.parent}return null}function Mn(e){var t,n=ae;st(Vi(e));try{En(e),t=Kn(e)}finally{st(n)}return t}function Dn(e){var t=Mn(e),n=(rt||(e.f&Ae)!==0)&&e.deps!==null?ut:xe;Ue(e,n),e.equals(t)||(e.v=t,e.wv=Hn())}const It=new Map;function Pt(e,t){var n={f:0,v:e,reactions:null,equals:kn,rv:0,wv:0};return n}function Je(e,t){const n=Pt(e);return eo(n),n}function qe(e,t=!1){var i;const n=Pt(e);return t||(n.equals=Wr),yt&&ee!==null&&ee.l!==null&&((i=ee.l).s??(i.s=[])).push(n),n}function Rr(e,t){return te(e,Fe(()=>B(e))),t}function te(e,t,n=!1){oe!==null&&!We&&Nt()&&(oe.f&(Be|Nr))!==0&&!(Re!=null&&Re.includes(e))&&Ai();let i=n?tt(t):t;return Ar(e,i)}function Ar(e,t){if(!e.equals(t)){var n=e.v;Wt?It.set(e,t):It.set(e,n),e.v=t,(e.f&Be)!==0&&((e.f&ze)!==0&&Mn(e),Ue(e,(e.f&Ae)===0?xe:ut)),e.wv=Hn(),On(e,ze),Nt()&&ae!==null&&(ae.f&xe)!==0&&(ae.f&(Ze|wt))===0&&(Oe===null?to([e]):Oe.push(e))}return t}function On(e,t){var n=e.reactions;if(n!==null)for(var i=Nt(),o=n.length,a=0;a<o;a++){var c=n[a],f=c.f;(f&ze)===0&&(!i&&c===ae||(Ue(c,t),(f&(xe|Ae))!==0&&((f&Be)!==0?On(c,ut):pr(c))))}}let zi=!1;var an,Un,In,Pn;function $i(){if(an===void 0){an=window,Un=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;In=nt(t,"firstChild").get,Pn=nt(t,"nextSibling").get,nn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),nn(n)&&(n.__t=void 0)}}function zr(e=""){return document.createTextNode(e)}function Jt(e){return In.call(e)}function dr(e){return Pn.call(e)}function ie(e,t){return Jt(e)}function At(e,t){{var n=Jt(e);return n instanceof Comment&&n.data===""?dr(n):n}}function le(e,t=1,n=!1){let i=e;for(;t--;)i=dr(i);return i}function Gi(e){e.textContent=""}function Bn(e){ae===null&&oe===null&&xi(),oe!==null&&(oe.f&Ae)!==0&&ae===null&&Ri(),Wt&&_i()}function Hi(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function _t(e,t,n,i=!0){var o=ae,a={ctx:ee,deps:null,nodes_start:null,nodes_end:null,f:e|ze,first:null,fn:t,last:null,next:null,parent:o,prev:null,teardown:null,transitions:null,wv:0};if(n)try{hr(a),a.f|=bi}catch(v){throw at(a),v}else t!==null&&pr(a);var c=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(Tn|Kt))===0;if(!c&&i&&(o!==null&&Hi(a,o),oe!==null&&(oe.f&Be)!==0)){var f=oe;(f.effects??(f.effects=[])).push(a)}return a}function $r(e){const t=_t(ar,null,!1);return Ue(t,xe),t.teardown=e,t}function Er(e){Bn();var t=ae!==null&&(ae.f&Ze)!==0&&ee!==null&&!ee.m;if(t){var n=ee;(n.e??(n.e=[])).push({fn:e,effect:ae,reaction:oe})}else{var i=Gr(e);return i}}function Yi(e){return Bn(),Rt(e)}function Ki(e){const t=_t(wt,e,!0);return(n={})=>new Promise(i=>{n.outro?Bt(t,()=>{at(t),i(void 0)}):(at(t),i(void 0))})}function Gr(e){return _t(Sn,e,!1)}function Fn(e,t){var n=ee,i={effect:null,ran:!1};n.l.r1.push(i),i.effect=Rt(()=>{e(),!i.ran&&(i.ran=!0,te(n.l.r2,!0),Fe(t))})}function jn(){var e=ee;Rt(()=>{if(B(e.l.r2)){for(var t of e.l.r1){var n=t.effect;(n.f&xe)!==0&&Ue(n,ut),xt(n)&&hr(n),t.ran=!1}e.l.r2.v=!1}})}function Rt(e){return _t(ar,e,!0)}function gt(e,t=[],n=Ut){const i=t.map(n);return cr(()=>e(...i.map(B)))}function cr(e,t=0){return _t(ar|Nr|t,e,!0)}function bt(e,t=!0){return _t(ar|Ze,e,!0,t)}function Nn(e){var t=e.teardown;if(t!==null){const n=Wt,i=oe;sn(!0),$e(null);try{t.call(null)}finally{sn(n),$e(i)}}}function Wn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var i=n.next;(n.f&wt)!==0?n.parent=null:at(n,t),n=i}}function Qi(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Ze)===0&&at(t),t=n}}function at(e,t=!0){var n=!1;(t||(e.f&yi)!==0)&&e.nodes_start!==null&&(Ji(e.nodes_start,e.nodes_end),n=!0),Wn(e,t&&!n),rr(e,0),Ue(e,sr);var i=e.transitions;if(i!==null)for(const a of i)a.stop();Nn(e);var o=e.parent;o!==null&&o.first!==null&&qn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Ji(e,t){for(;e!==null;){var n=e===t?null:dr(e);e.remove(),e=n}}function qn(e){var t=e.parent,n=e.prev,i=e.next;n!==null&&(n.next=i),i!==null&&(i.prev=n),t!==null&&(t.first===e&&(t.first=i),t.last===e&&(t.last=n))}function Bt(e,t){var n=[];Hr(e,n,!0),Vn(n,()=>{at(e),t&&t()})}function Vn(e,t){var n=e.length;if(n>0){var i=()=>--n||t();for(var o of e)o.out(i)}else t()}function Hr(e,t,n){if((e.f&Xe)===0){if(e.f^=Xe,e.transitions!==null)for(const c of e.transitions)(c.is_global||n)&&t.push(c);for(var i=e.first;i!==null;){var o=i.next,a=(i.f&ur)!==0||(i.f&Ze)!==0;Hr(i,t,a?n:!1),i=o}}}function Xt(e){zn(e,!0)}function zn(e,t){if((e.f&Xe)!==0){e.f^=Xe,(e.f&xe)===0&&(e.f^=xe),xt(e)&&(Ue(e,ze),pr(e));for(var n=e.first;n!==null;){var i=n.next,o=(n.f&ur)!==0||(n.f&Ze)!==0;zn(n,o?t:!1),n=i}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let Ft=[],Mr=[];function $n(){var e=Ft;Ft=[],Ot(e)}function Xi(){var e=Mr;Mr=[],Ot(e)}function Yr(e){Ft.length===0&&queueMicrotask($n),Ft.push(e)}function Zi(){Ft.length>0&&$n(),Mr.length>0&&Xi()}let Ht=!1,Zt=!1,er=null,dt=!1,Wt=!1;function sn(e){Wt=e}let Et=[];let oe=null,We=!1;function $e(e){oe=e}let ae=null;function st(e){ae=e}let Re=null;function eo(e){oe!==null&&oe.f&Lr&&(Re===null?Re=[e]:Re.push(e))}let _e=null,Le=0,Oe=null;function to(e){Oe=e}let Gn=1,tr=0,rt=!1;function Hn(){return++Gn}function xt(e){var x;var t=e.f;if((t&ze)!==0)return!0;if((t&ut)!==0){var n=e.deps,i=(t&Ae)!==0;if(n!==null){var o,a,c=(t&Qt)!==0,f=i&&ae!==null&&!rt,v=n.length;if(c||f){var b=e,y=b.parent;for(o=0;o<v;o++)a=n[o],(c||!((x=a==null?void 0:a.reactions)!=null&&x.includes(b)))&&(a.reactions??(a.reactions=[])).push(b);c&&(b.f^=Qt),f&&y!==null&&(y.f&Ae)===0&&(b.f^=Ae)}for(o=0;o<v;o++)if(a=n[o],xt(a)&&Dn(a),a.wv>e.wv)return!0}(!i||ae!==null&&!rt)&&Ue(e,xe)}return!1}function ro(e,t){for(var n=t;n!==null;){if((n.f&Kt)!==0)try{n.fn(e);return}catch{n.f^=Kt}n=n.parent}throw Ht=!1,e}function un(e){return(e.f&sr)===0&&(e.parent===null||(e.parent.f&Kt)===0)}function vr(e,t,n,i){if(Ht){if(n===null&&(Ht=!1),un(t))throw e;return}if(n!==null&&(Ht=!0),ro(e,t),un(t))throw e}function Yn(e,t,n=!0){var i=e.reactions;if(i!==null)for(var o=0;o<i.length;o++){var a=i[o];Re!=null&&Re.includes(e)||((a.f&Be)!==0?Yn(a,t,!1):t===a&&(n?Ue(a,ze):(a.f&xe)!==0&&Ue(a,ut),pr(a)))}}function Kn(e){var E;var t=_e,n=Le,i=Oe,o=oe,a=rt,c=Re,f=ee,v=We,b=e.f;_e=null,Le=0,Oe=null,rt=(b&Ae)!==0&&(We||!dt||oe===null),oe=(b&(Ze|wt))===0?e:null,Re=null,on(e.ctx),We=!1,tr++,e.f|=Lr;try{var y=(0,e.fn)(),x=e.deps;if(_e!==null){var w;if(rr(e,Le),x!==null&&Le>0)for(x.length=Le+_e.length,w=0;w<_e.length;w++)x[Le+w]=_e[w];else e.deps=x=_e;if(!rt)for(w=Le;w<x.length;w++)((E=x[w]).reactions??(E.reactions=[])).push(e)}else x!==null&&Le<x.length&&(rr(e,Le),x.length=Le);if(Nt()&&Oe!==null&&!We&&x!==null&&(e.f&(Be|ut|ze))===0)for(w=0;w<Oe.length;w++)Yn(Oe[w],e);return o!==null&&o!==e&&(tr++,Oe!==null&&(i===null?i=Oe:i.push(...Oe))),y}finally{_e=t,Le=n,Oe=i,oe=o,rt=a,Re=c,on(f),We=v,e.f^=Lr}}function no(e,t){let n=t.reactions;if(n!==null){var i=hi.call(n,e);if(i!==-1){var o=n.length-1;o===0?n=t.reactions=null:(n[i]=n[o],n.pop())}}n===null&&(t.f&Be)!==0&&(_e===null||!_e.includes(t))&&(Ue(t,ut),(t.f&(Ae|Qt))===0&&(t.f^=Qt),En(t),rr(t,0))}function rr(e,t){var n=e.deps;if(n!==null)for(var i=t;i<n.length;i++)no(e,n[i])}function hr(e){var t=e.f;if((t&sr)===0){Ue(e,xe);var n=ae,i=ee,o=dt;ae=e,dt=!0;try{(t&Nr)!==0?Qi(e):Wn(e),Nn(e);var a=Kn(e);e.teardown=typeof a=="function"?a:null,e.wv=Gn;var c=e.deps,f;rn&&Ei&&e.f&ze}catch(v){vr(v,e,n,i||e.ctx)}finally{dt=o,ae=n}}}function io(){try{Si()}catch(e){if(er!==null)vr(e,er,null);else throw e}}function Qn(){var e=dt;try{var t=0;for(dt=!0;Et.length>0;){t++>1e3&&io();var n=Et,i=n.length;Et=[];for(var o=0;o<i;o++){var a=ao(n[o]);oo(a)}It.clear()}}finally{Zt=!1,dt=e,er=null}}function oo(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var i=e[n];if((i.f&(sr|Xe))===0)try{xt(i)&&(hr(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null?qn(i):i.fn=null))}catch(o){vr(o,i,null,i.ctx)}}}function pr(e){Zt||(Zt=!0,queueMicrotask(Qn));for(var t=er=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(wt|Ze))!==0){if((n&xe)===0)return;t.f^=xe}}Et.push(t)}function ao(e){for(var t=[],n=e;n!==null;){var i=n.f,o=(i&(Ze|wt))!==0,a=o&&(i&xe)!==0;if(!a&&(i&Xe)===0){if((i&Sn)!==0)t.push(n);else if(o)n.f^=xe;else try{xt(n)&&hr(n)}catch(v){vr(v,n,null,n.ctx)}var c=n.first;if(c!==null){n=c;continue}}var f=n.parent;for(n=n.next;n===null&&f!==null;)n=f.next,f=f.parent}return t}function so(e){for(var t;;){if(Zi(),Et.length===0)return t;Zt=!0,Qn()}}async function uo(){await Promise.resolve(),so()}function B(e){var t=e.f,n=(t&Be)!==0;if(oe!==null&&!We){if(!(Re!=null&&Re.includes(e))){var i=oe.deps;e.rv<tr&&(e.rv=tr,_e===null&&i!==null&&i[Le]===e?Le++:_e===null?_e=[e]:(!rt||!_e.includes(e))&&_e.push(e))}}else if(n&&e.deps===null&&e.effects===null){var o=e,a=o.parent;a!==null&&(a.f&Ae)===0&&(o.f^=Ae)}return n&&(o=e,xt(o)&&Dn(o)),Wt&&It.has(e)?It.get(e):e.v}function Fe(e){var t=We;try{return We=!0,e()}finally{We=t}}const lo=-7169;function Ue(e,t){e.f=e.f&lo|t}function Kr(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ot in e)Dr(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&ot in n&&Dr(n)}}}function Dr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let i in e)try{Dr(e[i],t)}catch{}const n=jr(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const i=xn(n);for(let o in i){const a=i[o].get;if(a)try{a.call(e)}catch{}}}}}const fo=["touchstart","touchmove"];function co(e){return fo.includes(e)}let ln=!1;function vo(){ln||(ln=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function Jn(e){var t=oe,n=ae;$e(null),st(null);try{return e()}finally{$e(t),st(n)}}function Xn(e,t,n,i=n){e.addEventListener(t,()=>Jn(n));const o=e.__on_r;o?e.__on_r=()=>{o(),i(!0)}:e.__on_r=()=>i(!0),vo()}const Zn=new Set,Or=new Set;function ho(e,t,n,i={}){function o(a){if(i.capture||Lt.call(t,a),!a.cancelBubble)return Jn(()=>n==null?void 0:n.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Yr(()=>{t.addEventListener(e,o,i)}):t.addEventListener(e,o,i),o}function Mt(e,t,n,i,o){var a={capture:i,passive:o},c=ho(e,t,n,a);(t===document.body||t===window||t===document)&&$r(()=>{t.removeEventListener(e,c,a)})}function po(e){for(var t=0;t<e.length;t++)Zn.add(e[t]);for(var n of Or)n(e)}function Lt(e){var re;var t=this,n=t.ownerDocument,i=e.type,o=((re=e.composedPath)==null?void 0:re.call(e))||[],a=o[0]||e.target,c=0,f=e.__root;if(f){var v=o.indexOf(f);if(v!==-1&&(t===document||t===window)){e.__root=t;return}var b=o.indexOf(t);if(b===-1)return;v<=b&&(c=v)}if(a=o[c]||e.target,a!==t){Rn(e,"currentTarget",{configurable:!0,get(){return a||n}});var y=oe,x=ae;$e(null),st(null);try{for(var w,E=[];a!==null;){var A=a.assignedSlot||a.parentNode||a.host||null;try{var G=a["__"+i];if(G!=null&&(!a.disabled||e.target===a))if(jt(G)){var[W,...Q]=G;W.apply(a,[e,...Q])}else G.call(a,e)}catch(J){w?E.push(J):w=J}if(e.cancelBubble||A===t||A===null)break;a=A}if(w){for(let J of E)queueMicrotask(()=>{throw J});throw w}}finally{e.__root=t,delete e.currentTarget,$e(y),st(x)}}}function mo(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Ur(e,t){var n=ae;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function be(e,t){var n=(t&ji)!==0,i=(t&Ni)!==0,o,a=!e.startsWith("<!>");return()=>{o===void 0&&(o=mo(a?e:"<!>"+e),n||(o=Jt(o)));var c=i||Un?document.importNode(o,!0):o.cloneNode(!0);if(n){var f=Jt(c),v=c.lastChild;Ur(f,v)}else Ur(c,c);return c}}function Yt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=zr();return e.append(t,n),Ur(t,n),e}function fe(e,t){e!==null&&e.before(t)}function ct(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function go(e,t){return bo(e,t)}const pt=new Map;function bo(e,{target:t,anchor:n,props:i={},events:o,context:a,intro:c=!0}){$i();var f=new Set,v=x=>{for(var w=0;w<x.length;w++){var E=x[w];if(!f.has(E)){f.add(E);var A=co(E);t.addEventListener(E,Lt,{passive:A});var G=pt.get(E);G===void 0?(document.addEventListener(E,Lt,{passive:A}),pt.set(E,1)):pt.set(E,G+1)}}};v(Fr(Zn)),Or.add(v);var b=void 0,y=Ki(()=>{var x=n??t.appendChild(zr());return bt(()=>{if(a){vt({});var w=ee;w.c=a}o&&(i.$$events=o),b=e(x,i)||{},a&&ht()}),()=>{var A;for(var w of f){t.removeEventListener(w,Lt);var E=pt.get(w);--E===0?(document.removeEventListener(w,Lt),pt.delete(w)):pt.set(w,E)}Or.delete(v),x!==n&&((A=x.parentNode)==null||A.removeChild(x))}});return wo.set(b,y),b}let wo=new WeakMap;function Ne(e,t,[n,i]=[0,0]){var o=e,a=null,c=null,f=Ce,v=n>0?ur:0,b=!1;const y=(w,E=!0)=>{b=!0,x(E,w)},x=(w,E)=>{f!==(f=w)&&(f?(a?Xt(a):E&&(a=bt(()=>E(o))),c&&Bt(c,()=>{c=null})):(c?Xt(c):E&&(c=bt(()=>E(o,[n+1,i]))),a&&Bt(a,()=>{a=null})))};cr(()=>{b=!1,t(y),b||x(null,null)},v)}function ei(e,t){return t}function yo(e,t,n,i){for(var o=[],a=t.length,c=0;c<a;c++)Hr(t[c].e,o,!0);var f=a>0&&o.length===0&&n!==null;if(f){var v=n.parentNode;Gi(v),v.append(n),i.clear(),et(e,t[0].prev,t[a-1].next)}Vn(o,()=>{for(var b=0;b<a;b++){var y=t[b];f||(i.delete(y.k),et(e,y.prev,y.next)),at(y.e,!f)}})}function ti(e,t,n,i,o,a=null){var c=e,f={flags:t,items:new Map,first:null},v=(t&An)!==0;if(v){var b=e;c=b.appendChild(zr())}var y=null,x=!1,w=fr(()=>{var E=n();return jt(E)?E:E==null?[]:Fr(E)});cr(()=>{var E=B(w),A=E.length;x&&A===0||(x=A===0,_o(E,f,c,o,t,i,n),a!==null&&(A===0?y?Xt(y):y=bt(()=>a(c)):y!==null&&Bt(y,()=>{y=null})),B(w))})}function _o(e,t,n,i,o,a,c){var ue,H,ne,Te;var f=(o&Di)!==0,v=(o&(qr|Vr))!==0,b=e.length,y=t.items,x=t.first,w=x,E,A=null,G,W=[],Q=[],re,J,P,S;if(f)for(S=0;S<b;S+=1)re=e[S],J=a(re,S),P=y.get(J),P!==void 0&&((ue=P.a)==null||ue.measure(),(G??(G=new Set)).add(P));for(S=0;S<b;S+=1){if(re=e[S],J=a(re,S),P=y.get(J),P===void 0){var F=w?w.e.nodes_start:n;A=xo(F,t,A,A===null?t.first:A.next,re,J,S,i,o,c),y.set(J,A),W=[],Q=[],w=A.next;continue}if(v&&Ro(P,re,S,o),(P.e.f&Xe)!==0&&(Xt(P.e),f&&((H=P.a)==null||H.unfix(),(G??(G=new Set)).delete(P))),P!==w){if(E!==void 0&&E.has(P)){if(W.length<Q.length){var C=Q[0],q;A=C.prev;var V=W[0],X=W[W.length-1];for(q=0;q<W.length;q+=1)fn(W[q],C,n);for(q=0;q<Q.length;q+=1)E.delete(Q[q]);et(t,V.prev,X.next),et(t,A,V),et(t,X,C),w=C,A=X,S-=1,W=[],Q=[]}else E.delete(P),fn(P,w,n),et(t,P.prev,P.next),et(t,P,A===null?t.first:A.next),et(t,A,P),A=P;continue}for(W=[],Q=[];w!==null&&w.k!==J;)(w.e.f&Xe)===0&&(E??(E=new Set)).add(w),Q.push(w),w=w.next;if(w===null)continue;P=w}W.push(P),A=P,w=P.next}if(w!==null||E!==void 0){for(var ve=E===void 0?[]:Fr(E);w!==null;)(w.e.f&Xe)===0&&ve.push(w),w=w.next;var Se=ve.length;if(Se>0){var Ge=(o&An)!==0&&b===0?n:null;if(f){for(S=0;S<Se;S+=1)(ne=ve[S].a)==null||ne.measure();for(S=0;S<Se;S+=1)(Te=ve[S].a)==null||Te.fix()}yo(t,ve,Ge,y)}}f&&Yr(()=>{var pe;if(G!==void 0)for(P of G)(pe=P.a)==null||pe.apply()}),ae.first=t.first&&t.first.e,ae.last=A&&A.e}function Ro(e,t,n,i){(i&qr)!==0&&Ar(e.v,t),(i&Vr)!==0?Ar(e.i,n):e.i=n}function xo(e,t,n,i,o,a,c,f,v,b){var y=(v&qr)!==0,x=(v&Oi)===0,w=y?x?qe(o):Pt(o):o,E=(v&Vr)===0?c:Pt(c),A={i:E,v:w,k:a,a:null,e:null,prev:n,next:i};try{return A.e=bt(()=>f(e,w,E,b),zi),A.e.prev=n&&n.e,A.e.next=i&&i.e,n===null?t.first=A:(n.next=A,n.e.next=A.e),i!==null&&(i.prev=A,i.e.prev=A.e),A}finally{}}function fn(e,t,n){for(var i=e.next?e.next.e.nodes_start:n,o=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==i;){var c=dr(a);o.before(a),a=c}}function et(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Ir(e,t,n){var i=e,o,a;cr(()=>{o!==(o=t())&&(a&&(Bt(a),a=null),o&&(a=bt(()=>n(i,o))))},ur)}function So(e,t,n){var i=e==null?"":""+e;return i===""?null:i}function To(e,t,n,i,o,a){var c=e.__className;if(c!==n||c===void 0){var f=So(n);f==null?e.removeAttribute("class"):e.className=f,e.__className=n}return a}const Co=Symbol("is custom element"),ko=Symbol("is html");function ri(e,t,n,i){var o=Lo(e);o[t]!==(o[t]=n)&&(n==null?e.removeAttribute(t):typeof n!="string"&&Ao(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Lo(e){return e.__attributes??(e.__attributes={[Co]:e.nodeName.includes("-"),[ko]:e.namespaceURI===Wi})}var dn=new Map;function Ao(e){var t=dn.get(e.nodeName);if(t)return t;dn.set(e.nodeName,t=[]);for(var n,i=e,o=Element.prototype;o!==i;){n=xn(i);for(var a in n)n[a].set&&t.push(a);i=jr(i)}return t}function Pr(e,t,n=t){var i=Nt();Xn(e,"input",o=>{var a=o?e.defaultValue:e.value;if(a=xr(e)?Sr(a):a,n(a),i&&a!==(a=t())){var c=e.selectionStart,f=e.selectionEnd;e.value=a??"",f!==null&&(e.selectionStart=c,e.selectionEnd=Math.min(f,e.value.length))}}),Fe(t)==null&&e.value&&n(xr(e)?Sr(e.value):e.value),Rt(()=>{var o=t();xr(e)&&o===Sr(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function Eo(e,t,n=t){Xn(e,"change",i=>{var o=i?e.defaultChecked:e.checked;n(o)}),Fe(t)==null&&n(e.checked),Rt(()=>{var i=t();e.checked=!!i})}function xr(e){var t=e.type;return t==="number"||t==="range"}function Sr(e){return e===""?null:+e}function cn(e,t){return e===t||(e==null?void 0:e[ot])===t}function Mo(e={},t,n,i){return Gr(()=>{var o,a;return Rt(()=>{o=a,a=[],Fe(()=>{e!==n(...a)&&(t(e,...a),o&&cn(n(...o),e)&&t(null,...o))})}),()=>{Yr(()=>{a&&cn(n(...a),e)&&t(null,...a)})}}),e}function Do(e){return function(...t){var n=t[0];return n.preventDefault(),e==null?void 0:e.apply(this,t)}}function qt(e=!1){const t=ee,n=t.l.u;if(!n)return;let i=()=>Kr(t.s);if(e){let o=0,a={};const c=Ut(()=>{let f=!1;const v=t.s;for(const b in v)v[b]!==a[b]&&(a[b]=v[b],f=!0);return f&&o++,o});i=()=>B(c)}n.b.length&&Yi(()=>{vn(t,i),Ot(n.b)}),Er(()=>{const o=Fe(()=>n.m.map(gi));return()=>{for(const a of o)typeof a=="function"&&a()}}),n.a.length&&Er(()=>{vn(t,i),Ot(n.a)})}function vn(e,t){if(e.l.s)for(const n of e.l.s)B(n);t()}function hn(e,t){var a;var n=(a=e.$$events)==null?void 0:a[t.type],i=jt(n)?n.slice():n==null?[]:[n];for(var o of i)o.call(this,t)}function Qr(e,t,n){if(e==null)return t(void 0),n&&n(void 0),it;const i=Fe(()=>e.subscribe(t,n));return i.unsubscribe?()=>i.unsubscribe():i}const mt=[];function ni(e,t){return{subscribe:St(e,t).subscribe}}function St(e,t=it){let n=null;const i=new Set;function o(f){if(Ln(e,f)&&(e=f,n)){const v=!mt.length;for(const b of i)b[1](),mt.push(b,e);if(v){for(let b=0;b<mt.length;b+=2)mt[b][0](mt[b+1]);mt.length=0}}}function a(f){o(f(e))}function c(f,v=it){const b=[f,v];return i.add(b),i.size===1&&(n=t(o,a)||it),f(e),()=>{i.delete(b),i.size===0&&n&&(n(),n=null)}}return{set:o,update:a,subscribe:c}}function ii(e,t,n){const i=!Array.isArray(e),o=i?[e]:e;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=t.length<2;return ni(n,(c,f)=>{let v=!1;const b=[];let y=0,x=it;const w=()=>{if(y)return;x();const A=t(i?b[0]:b,c,f);a?c(A):x=typeof A=="function"?A:it},E=o.map((A,G)=>Qr(A,W=>{b[G]=W,y&=~(1<<G),v&&w()},()=>{y|=1<<G}));return v=!0,w(),function(){Ot(E),x(),v=!1}})}function Oo(e){let t;return Qr(e,n=>t=n)(),t}let Gt=!1,Br=Symbol();function ft(e,t,n){const i=n[t]??(n[t]={store:null,source:qe(void 0),unsubscribe:it});if(i.store!==e&&!(Br in n))if(i.unsubscribe(),i.store=e??null,e==null)i.source.v=void 0,i.unsubscribe=it;else{var o=!0;i.unsubscribe=Qr(e,a=>{o?i.source.v=a:te(i.source,a)}),o=!1}return e&&Br in n?Oo(e):B(i.source)}function mr(){const e={};function t(){$r(()=>{for(var n in e)e[n].unsubscribe();Rn(e,Br,{enumerable:!1,value:!0})})}return[e,t]}function Uo(e){var t=Gt;try{return Gt=!1,[e(),Gt]}finally{Gt=t}}const Io={get(e,t){let n=e.props.length;for(;n--;){let i=e.props[n];if(kt(i)&&(i=i()),typeof i=="object"&&i!==null&&t in i)return i[t]}},set(e,t,n){let i=e.props.length;for(;i--;){let o=e.props[i];kt(o)&&(o=o());const a=nt(o,t);if(a&&a.set)return a.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let i=e.props[n];if(kt(i)&&(i=i()),typeof i=="object"&&i!==null&&t in i){const o=nt(i,t);return o&&!o.configurable&&(o.configurable=!0),o}}},has(e,t){if(t===ot||t===Cn)return!1;for(let n of e.props)if(kt(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){const t=[];for(let n of e.props){kt(n)&&(n=n());for(const i in n)t.includes(i)||t.push(i)}return t}};function pn(...e){return new Proxy({props:e},Io)}function mn(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function Ve(e,t,n,i){var F;var o=(n&Ui)!==0,a=!yt||(n&Ii)!==0,c=(n&Bi)!==0,f=(n&Fi)!==0,v=!1,b;c?[b,v]=Uo(()=>e[t]):b=e[t];var y=ot in e||Cn in e,x=c&&(((F=nt(e,t))==null?void 0:F.set)??(y&&t in e&&(C=>e[t]=C)))||void 0,w=i,E=!0,A=!1,G=()=>(A=!0,E&&(E=!1,f?w=Fe(i):w=i),w);b===void 0&&i!==void 0&&(x&&a&&Ci(),b=G(),x&&x(b));var W;if(a)W=()=>{var C=e[t];return C===void 0?G():(E=!0,A=!1,C)};else{var Q=(o?Ut:fr)(()=>e[t]);Q.f|=wi,W=()=>{var C=B(Q);return C!==void 0&&(w=void 0),C===void 0?w:C}}if((n&Pi)===0)return W;if(x){var re=e.$$legacy;return function(C,q){return arguments.length>0?((!a||!q||re||v)&&x(q?W():C),C):W()}}var J=!1,P=qe(b),S=Ut(()=>{var C=W(),q=B(P);return J?(J=!1,q):P.v=C});return c&&B(S),o||(S.equals=Wr),function(C,q){if(arguments.length>0){const V=q?B(S):a&&c?tt(C):C;if(!S.equals(V)){if(J=!0,te(P,V),A&&w!==void 0&&(w=V),mn(S))return C;Fe(()=>B(S))}return C}return mn(S)?S.v:B(S)}}function Jr(e){ee===null&&lr(),yt&&ee.l!==null?ai(ee).m.push(e):Er(()=>{const t=Fe(e);if(typeof t=="function")return t})}function Po(e){ee===null&&lr(),Jr(()=>()=>Fe(e))}function Bo(e,t,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:i})}function oi(){const e=ee;return e===null&&lr(),(t,n,i)=>{var a;const o=(a=e.s.$$events)==null?void 0:a[t];if(o){const c=jt(o)?o.slice():[o],f=Bo(t,n,i);for(const v of c)v.call(e.x,f);return!f.defaultPrevented}return!0}}function Fo(e){ee===null&&lr(),ee.l===null&&Ti(),ai(ee).a.push(e)}function ai(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const jo="5";var _n;typeof window<"u"&&((_n=window.__svelte??(window.__svelte={})).v??(_n.v=new Set)).add(jo);Mi();function No(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,i,o,a,c=[],f="",v=e.split("/");for(v[0]||v.shift();o=v.shift();)n=o[0],n==="*"?(c.push("wild"),f+="/(.*)"):n===":"?(i=o.indexOf("?",1),a=o.indexOf(".",1),c.push(o.substring(1,~i?i:~a?a:o.length)),f+=~i&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(f+=(~i?"?":"")+"\\"+o.substring(a))):f+="/"+o;return{keys:c,pattern:new RegExp("^"+f+"/?$","i")}}function gn(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let i="";return n>-1&&(i=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:i}}const Xr=ni(null,function(t){t(gn());const n=()=>{t(gn())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});ii(Xr,e=>e.location);ii(Xr,e=>e.querystring);const bn=St(void 0);function Wo(e){e?window.scrollTo(e.__svelte_spa_router_scrollX,e.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function qo(e,t){vt(t,!1);let n=Ve(t,"routes",24,()=>({})),i=Ve(t,"prefix",8,""),o=Ve(t,"restoreScrollState",8,!1);class a{constructor(F,C){if(!C||typeof C!="function"&&(typeof C!="object"||C._sveltesparouter!==!0))throw Error("Invalid component object");if(!F||typeof F=="string"&&(F.length<1||F.charAt(0)!="/"&&F.charAt(0)!="*")||typeof F=="object"&&!(F instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:q,keys:V}=No(F);this.path=F,typeof C=="object"&&C._sveltesparouter===!0?(this.component=C.component,this.conditions=C.conditions||[],this.userData=C.userData,this.props=C.props||{}):(this.component=()=>Promise.resolve(C),this.conditions=[],this.props={}),this._pattern=q,this._keys=V}match(F){if(i()){if(typeof i()=="string")if(F.startsWith(i()))F=F.substr(i().length)||"/";else return null;else if(i()instanceof RegExp){const X=F.match(i());if(X&&X[0])F=F.substr(X[0].length)||"/";else return null}}const C=this._pattern.exec(F);if(C===null)return null;if(this._keys===!1)return C;const q={};let V=0;for(;V<this._keys.length;){try{q[this._keys[V]]=decodeURIComponent(C[V+1]||"")||null}catch{q[this._keys[V]]=null}V++}return q}async checkConditions(F){for(let C=0;C<this.conditions.length;C++)if(!await this.conditions[C](F))return!1;return!0}}const c=[];n()instanceof Map?n().forEach((S,F)=>{c.push(new a(F,S))}):Object.keys(n()).forEach(S=>{c.push(new a(S,n()[S]))});let f=qe(null),v=qe(null),b=qe({});const y=oi();async function x(S,F){await uo(),y(S,F)}let w=null,E=null;o()&&(E=S=>{S.state&&(S.state.__svelte_spa_router_scrollY||S.state.__svelte_spa_router_scrollX)?w=S.state:w=null},window.addEventListener("popstate",E),Fo(()=>{Wo(w)}));let A=null,G=null;const W=Xr.subscribe(async S=>{A=S;let F=0;for(;F<c.length;){const C=c[F].match(S.location);if(!C){F++;continue}const q={route:c[F].path,location:S.location,querystring:S.querystring,userData:c[F].userData,params:C&&typeof C=="object"&&Object.keys(C).length?C:null};if(!await c[F].checkConditions(q)){te(f,null),G=null,x("conditionsFailed",q);return}x("routeLoading",Object.assign({},q));const V=c[F].component;if(G!=V){V.loading?(te(f,V.loading),G=V,te(v,V.loadingParams),te(b,{}),x("routeLoaded",Object.assign({},q,{component:B(f),name:B(f).name,params:B(v)}))):(te(f,null),G=null);const X=await V();if(S!=A)return;te(f,X&&X.default||X),G=V}C&&typeof C=="object"&&Object.keys(C).length?te(v,C):te(v,null),te(b,c[F].props),x("routeLoaded",Object.assign({},q,{component:B(f),name:B(f).name,params:B(v)})).then(()=>{bn.set(B(v))});return}te(f,null),G=null,bn.set(void 0)});Po(()=>{W(),E&&window.removeEventListener("popstate",E)}),Fn(()=>Kr(o()),()=>{history.scrollRestoration=o()?"manual":"auto"}),jn(),qt();var Q=Yt(),re=At(Q);{var J=S=>{var F=Yt(),C=At(F);Ir(C,()=>B(f),(q,V)=>{V(q,pn({get params(){return B(v)}},()=>B(b),{$$events:{routeEvent(X){hn.call(this,t,X)}}}))}),fe(S,F)},P=S=>{var F=Yt(),C=At(F);Ir(C,()=>B(f),(q,V)=>{V(q,pn(()=>B(b),{$$events:{routeEvent(X){hn.call(this,t,X)}}}))}),fe(S,F)};Ne(re,S=>{B(v)?S(J):S(P,!1)})}fe(e,Q),ht()}var Vo=be('<div class="h-full w-full flex flex-col mx-auto border p-5 rounded-3xl items-center justify-center space-y-4 bg-[#FFF8D8]"><h1 class="text-2xl font-bold text-gray-800">👋 Welcome Home!</h1> <p class="text-center px-4 text-gray-700">이곳은 Home 페이지입니다.</p> <a href="#/LLM" class="px-4 py-2 bg-[#FEE500] text-gray-800 rounded hover:bg-yellow-300 shadow">💬 채팅 시작</a></div>');function zo(e){var t=Vo();fe(e,t)}const Dt=St(null);async function $o(e,t){return new Promise(n=>{Dt.set({name:e,parameters:{...t},resolver:i=>n(i)})})}const nr=St(null);async function Go(e,t,n){return new Promise(i=>{nr.set({name:e,parameters:{...t},exceedLimit:n,resolver:o=>i(o)})})}const ir=St(null);async function or(e,t){return new Promise(n=>{ir.set({name:e,title:t,resolver:i=>n(i)})})}const Zr=St(!1);function Tr(){Zr.set(!0)}function Cr(){Zr.set(!1)}var se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ho(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kr={exports:{}},wn;function Yo(){return wn||(wn=1,function(e){/**
 * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a WebRTC JavaScript library for audio/video as well as screen activity recording. It supports Chrome, Firefox, Opera, Android, and Microsoft Edge. Platforms: Linux, Mac and Windows. 
 * @summary Record audio, video or screen inside the browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTC
 * @class
 * @example
 * var recorder = RecordRTC(mediaStream or [arrayOfMediaStream], {
 *     type: 'video', // audio or video or gif or canvas
 *     recorderType: MediaStreamRecorder || CanvasRecorder || StereoAudioRecorder || Etc
 * });
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, desiredSampRate: 16000, video: HTMLVideoElement, etc.}
 */function t(u,r){if(!u)throw"First parameter is required.";r=r||{type:"video"},r=new n(u,r);var s=this;function h(m){return r.disableLogs||console.log("RecordRTC version: ",s.version),m&&(r=new n(u,m)),r.disableLogs||console.log("started recording "+r.type+" stream."),L?(L.clearRecordedData(),L.record(),I("recording"),s.recordingDuration&&T(),s):(g(function(){s.recordingDuration&&T()}),s)}function g(m){m&&(r.initCallback=function(){m(),m=r.initCallback=null});var O=new i(u,r);L=new O(u,r),L.record(),I("recording"),r.disableLogs||console.log("Initialized recorderType:",L.constructor.name,"for output-type:",r.type)}function p(m){if(m=m||function(){},!L){D();return}if(s.state==="paused"){s.resumeRecording(),setTimeout(function(){p(m)},1);return}s.state!=="recording"&&!r.disableLogs&&console.warn('Recording state should be: "recording", however current state is: ',s.state),r.disableLogs||console.log("Stopped recording "+r.type+" stream."),r.type!=="gif"?L.stop(O):(L.stop(),O()),I("stopped");function O(z){if(!L){typeof m.call=="function"?m.call(s,""):m("");return}Object.keys(L).forEach(function(j){typeof L[j]!="function"&&(s[j]=L[j])});var d=L.blob;if(!d)if(z)L.blob=d=z;else throw"Recording failed.";if(d&&!r.disableLogs&&console.log(d.type,"->",Q(d.size)),m){var R;try{R=y.createObjectURL(d)}catch{}typeof m.call=="function"?m.call(s,R):m(R)}r.autoWriteToDisk&&U(function(j){var N={};N[r.type+"Blob"]=j,ue.Store(N)})}}function _(){if(!L){D();return}if(s.state!=="recording"){r.disableLogs||console.warn("Unable to pause the recording. Recording state: ",s.state);return}I("paused"),L.pause(),r.disableLogs||console.log("Paused recording.")}function l(){if(!L){D();return}if(s.state!=="paused"){r.disableLogs||console.warn("Unable to resume the recording. Recording state: ",s.state);return}I("recording"),L.resume(),r.disableLogs||console.log("Resumed recording.")}function k(m){postMessage(new FileReaderSync().readAsDataURL(m))}function U(m,O){if(!m)throw"Pass a callback function over getDataURL.";var z=O?O.blob:(L||{}).blob;if(!z){r.disableLogs||console.warn("Blob encoder did not finish its job yet."),setTimeout(function(){U(m,O)},1e3);return}if(typeof Worker<"u"&&!navigator.mozGetUserMedia){var d=j(k);d.onmessage=function(N){m(N.data)},d.postMessage(z)}else{var R=new FileReader;R.readAsDataURL(z),R.onload=function(N){m(N.target.result)}}function j(N){try{var Z=y.createObjectURL(new Blob([N.toString(),"this.onmessage =  function (eee) {"+N.name+"(eee.data);}"],{type:"application/javascript"})),Y=new Worker(Z);return y.revokeObjectURL(Z),Y}catch{}}}function T(m){if(m=m||0,s.state==="paused"){setTimeout(function(){T(m)},1e3);return}if(s.state!=="stopped"){if(m>=s.recordingDuration){p(s.onRecordingStopped);return}m+=1e3,setTimeout(function(){T(m)},1e3)}}function I(m){s&&(s.state=m,typeof s.onStateChanged.call=="function"?s.onStateChanged.call(s,m):s.onStateChanged(m))}var M='It seems that recorder is destroyed or "startRecording" is not invoked for '+r.type+" recorder.";function D(){r.disableLogs!==!0&&console.warn(M)}var L,$={startRecording:h,stopRecording:p,pauseRecording:_,resumeRecording:l,initRecorder:g,setRecordingDuration:function(m,O){if(typeof m>"u")throw"recordingDuration is required.";if(typeof m!="number")throw"recordingDuration must be a number.";return s.recordingDuration=m,s.onRecordingStopped=O||function(){},{onRecordingStopped:function(z){s.onRecordingStopped=z}}},clearRecordedData:function(){if(!L){D();return}L.clearRecordedData(),r.disableLogs||console.log("Cleared old recorded data.")},getBlob:function(){if(!L){D();return}return L.blob},getDataURL:U,toURL:function(){if(!L){D();return}return y.createObjectURL(L.blob)},getInternalRecorder:function(){return L},save:function(m){if(!L){D();return}re(L.blob,m)},getFromDisk:function(m){if(!L){D();return}t.getFromDisk(r.type,m)},setAdvertisementArray:function(m){r.advertisement=[];for(var O=m.length,z=0;z<O;z++)r.advertisement.push({duration:z,image:m[z]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){s.state==="recording"&&!r.disableLogs&&console.warn("Stop an active recorder."),L&&typeof L.clearRecordedData=="function"&&L.clearRecordedData(),L=null,I("inactive"),s.blob=null},onStateChanged:function(m){r.disableLogs||console.log("Recorder state changed:",m)},state:"inactive",getState:function(){return s.state},destroy:function(){var m=r.disableLogs;r={disableLogs:!0},s.reset(),I("destroyed"),$=s=null,C.AudioContextConstructor&&(C.AudioContextConstructor.close(),C.AudioContextConstructor=null),r.disableLogs=m,r.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.6.2"};if(!this)return s=$,$;for(var K in $)this[K]=$[K];return s=this,$}t.version="5.6.2",e.exports=t,t.getFromDisk=function(u,r){if(!r)throw"callback is mandatory.";console.log("Getting recorded "+(u==="all"?"blobs":u+" blob ")+" from disk!"),ue.Fetch(function(s,h){u!=="all"&&h===u+"Blob"&&r&&r(s),u==="all"&&r&&r(s,h.replace("Blob",""))})},t.writeToDisk=function(u){console.log("Writing recorded blob(s) to disk!"),u=u||{},u.audio&&u.video&&u.gif?u.audio.getDataURL(function(r){u.video.getDataURL(function(s){u.gif.getDataURL(function(h){ue.Store({audioBlob:r,videoBlob:s,gifBlob:h})})})}):u.audio&&u.video?u.audio.getDataURL(function(r){u.video.getDataURL(function(s){ue.Store({audioBlob:r,videoBlob:s})})}):u.audio&&u.gif?u.audio.getDataURL(function(r){u.gif.getDataURL(function(s){ue.Store({audioBlob:r,gifBlob:s})})}):u.video&&u.gif?u.video.getDataURL(function(r){u.gif.getDataURL(function(s){ue.Store({videoBlob:r,gifBlob:s})})}):u.audio?u.audio.getDataURL(function(r){ue.Store({audioBlob:r})}):u.video?u.video.getDataURL(function(r){ue.Store({videoBlob:r})}):u.gif&&u.gif.getDataURL(function(r){ue.Store({gifBlob:r})})};/**
 * {@link RecordRTCConfiguration} is an inner/private helper for {@link RecordRTC}.
 * @summary It configures the 2nd parameter passed over {@link RecordRTC} and returns a valid "config" object.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCConfiguration
 * @class
 * @example
 * var options = RecordRTCConfiguration(mediaStream, options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, getNativeBlob:true, etc.}
 */function n(u,r){return!r.recorderType&&!r.type&&(r.audio&&r.video?r.type="video":r.audio&&!r.video&&(r.type="audio")),r.recorderType&&!r.type&&(r.recorderType===Se||r.recorderType===ve||typeof we<"u"&&r.recorderType===we?r.type="video":r.recorderType===H?r.type="gif":r.recorderType===X?r.type="audio":r.recorderType===V&&(P(u,"audio").length&&P(u,"video").length||!P(u,"audio").length&&P(u,"video").length?r.type="video":P(u,"audio").length&&!P(u,"video").length&&(r.type="audio"))),typeof V<"u"&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(r.mimeType||(r.mimeType="video/webm"),r.type||(r.type=r.mimeType.split("/")[0]),r.bitsPerSecond),r.type||(r.mimeType&&(r.type=r.mimeType.split("/")[0]),r.type||(r.type="audio")),r}/**
 * {@link GetRecorderType} is an inner/private helper for {@link RecordRTC}.
 * @summary It returns best recorder-type available for your browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GetRecorderType
 * @class
 * @example
 * var RecorderType = GetRecorderType(options);
 * var recorder = new RecorderType(options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 */function i(u,r){var s;return(A||x||w)&&(s=X),typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&!A&&(s=V),r.type==="video"&&(A||w)&&(s=Se,typeof we<"u"&&typeof ReadableStream<"u"&&(s=we)),r.type==="gif"&&(s=H),r.type==="canvas"&&(s=ve),q()&&s!==ve&&s!==H&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(P(u,"video").length||P(u,"audio").length)&&(r.type==="audio"?typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("audio/webm")&&(s=V):typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("video/webm")&&(s=V)),u instanceof Array&&u.length&&(s=Te),r.recorderType&&(s=r.recorderType),!r.disableLogs&&s&&s.name&&console.log("Using recorderType:",s.name||s.constructor.name),!s&&G&&(s=V),s}/**
 * MRecordRTC runs on top of {@link RecordRTC} to bring multiple recordings in a single place, by providing simple API.
 * @summary MRecordRTC stands for "Multiple-RecordRTC".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MRecordRTC
 * @class
 * @example
 * var recorder = new MRecordRTC();
 * recorder.addStream(MediaStream);
 * recorder.mediaType = {
 *     audio: true, // or StereoAudioRecorder or MediaStreamRecorder
 *     video: true, // or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder or CanvasRecorder
 *     gif: true    // or GifRecorder
 * };
 * // mimeType is optional and should be set only in advance cases.
 * recorder.mimeType = {
 *     audio: 'audio/wav',
 *     video: 'video/webm',
 *     gif:   'image/gif'
 * };
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @requires {@link RecordRTC}
 */function o(u){this.addStream=function(r){r&&(u=r)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var r=this.mediaType,s,h=this.mimeType||{audio:null,video:null,gif:null};if(typeof r.audio!="function"&&q()&&!P(u,"audio").length&&(r.audio=!1),typeof r.video!="function"&&q()&&!P(u,"video").length&&(r.video=!1),typeof r.gif!="function"&&q()&&!P(u,"video").length&&(r.gif=!1),!r.audio&&!r.video&&!r.gif)throw"MediaStream must have either audio or video tracks.";if(r.audio&&(s=null,typeof r.audio=="function"&&(s=r.audio),this.audioRecorder=new t(u,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:s,mimeType:h.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),r.video||this.audioRecorder.startRecording()),r.video){s=null,typeof r.video=="function"&&(s=r.video);var g=u;if(q()&&r.audio&&typeof r.audio=="function"){var p=P(u,"video")[0];E?(g=new W,g.addTrack(p),s&&s===Se&&(s=V)):(g=new W,g.addTrack(p))}this.videoRecorder=new t(g,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:s,mimeType:h.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),r.audio||this.videoRecorder.startRecording()}if(r.audio&&r.video){var _=this,l=q()===!0;(r.audio instanceof X&&r.video||r.audio!==!0&&r.video!==!0&&r.audio!==r.video)&&(l=!1),l===!0?(_.audioRecorder=null,_.videoRecorder.startRecording()):_.videoRecorder.initRecorder(function(){_.audioRecorder.initRecorder(function(){_.videoRecorder.startRecording(),_.audioRecorder.startRecording()})})}r.gif&&(s=null,typeof r.gif=="function"&&(s=r.gif),this.gifRecorder=new t(u,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:s,mimeType:h.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(r){r=r||function(){},this.audioRecorder&&this.audioRecorder.stopRecording(function(s){r(s,"audio")}),this.videoRecorder&&this.videoRecorder.stopRecording(function(s){r(s,"video")}),this.gifRecorder&&this.gifRecorder.stopRecording(function(s){r(s,"gif")})},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(r){var s={};return this.audioRecorder&&(s.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(s.video=this.videoRecorder.getBlob()),this.gifRecorder&&(s.gif=this.gifRecorder.getBlob()),r&&r(s),s},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(r){this.getBlob(function(g){g.audio&&g.video?s(g.audio,function(p){s(g.video,function(_){r({audio:p,video:_})})}):g.audio?s(g.audio,function(p){r({audio:p})}):g.video&&s(g.video,function(p){r({video:p})})});function s(g,p){if(typeof Worker<"u"){var _=h(function(U){postMessage(new FileReaderSync().readAsDataURL(U))});_.onmessage=function(k){p(k.data)},_.postMessage(g)}else{var l=new FileReader;l.readAsDataURL(g),l.onload=function(k){p(k.target.result)}}}function h(g){var p=y.createObjectURL(new Blob([g.toString(),"this.onmessage =  function (eee) {"+g.name+"(eee.data);}"],{type:"application/javascript"})),_=new Worker(p),l;if(typeof y<"u")l=y;else if(typeof webkitURL<"u")l=webkitURL;else throw"Neither URL nor webkitURL detected.";return l.revokeObjectURL(p),_}},this.writeToDisk=function(){t.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(r){r=r||{audio:!0,video:!0,gif:!0},r.audio&&this.audioRecorder&&this.audioRecorder.save(typeof r.audio=="string"?r.audio:""),r.video&&this.videoRecorder&&this.videoRecorder.save(typeof r.video=="string"?r.video:""),r.gif&&this.gifRecorder&&this.gifRecorder.save(typeof r.gif=="string"?r.gif:"")}}o.getFromDisk=t.getFromDisk,o.writeToDisk=t.writeToDisk,typeof t<"u"&&(t.MRecordRTC=o);var a="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(u){u&&(typeof window<"u"||typeof se>"u"||(se.navigator={userAgent:a,getUserMedia:function(){}},se.console||(se.console={}),(typeof se.console.log>"u"||typeof se.console.error>"u")&&(se.console.error=se.console.log=se.console.log||function(){console.log(arguments)}),typeof document>"u"&&(u.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var r={getContext:function(){return r},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return r},u.HTMLVideoElement=function(){}),typeof location>"u"&&(u.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(u.screen={width:0,height:0}),typeof y>"u"&&(u.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),u.window=se))})(typeof se<"u"?se:null);var c=window.requestAnimationFrame;if(typeof c>"u"){if(typeof webkitRequestAnimationFrame<"u")c=webkitRequestAnimationFrame;else if(typeof mozRequestAnimationFrame<"u")c=mozRequestAnimationFrame;else if(typeof msRequestAnimationFrame<"u")c=msRequestAnimationFrame;else if(typeof c>"u"){var f=0;c=function(u,r){var s=new Date().getTime(),h=Math.max(0,16-(s-f)),g=setTimeout(function(){u(s+h)},h);return f=s+h,g}}}var v=window.cancelAnimationFrame;typeof v>"u"&&(typeof webkitCancelAnimationFrame<"u"?v=webkitCancelAnimationFrame:typeof mozCancelAnimationFrame<"u"?v=mozCancelAnimationFrame:typeof msCancelAnimationFrame<"u"?v=msCancelAnimationFrame:typeof v>"u"&&(v=function(u){clearTimeout(u)}));var b=window.AudioContext;typeof b>"u"&&(typeof webkitAudioContext<"u"&&(b=webkitAudioContext),typeof mozAudioContext<"u"&&(b=mozAudioContext));var y=window.URL;typeof y>"u"&&typeof webkitURL<"u"&&(y=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var x=navigator.userAgent.indexOf("Edge")!==-1&&(!!navigator.msSaveBlob||!!navigator.msSaveOrOpenBlob),w=!!window.opera||navigator.userAgent.indexOf("OPR/")!==-1,E=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),A=!w&&!x&&!!navigator.webkitGetUserMedia||J()||navigator.userAgent.toLowerCase().indexOf("chrome/")!==-1,G=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);G&&!A&&navigator.userAgent.indexOf("CriOS")!==-1&&(G=!1,A=!0);var W=window.MediaStream;typeof W>"u"&&typeof webkitMediaStream<"u"&&(W=webkitMediaStream),typeof W<"u"&&typeof W.prototype.stop>"u"&&(W.prototype.stop=function(){this.getTracks().forEach(function(u){u.stop()})});function Q(u){var r=1e3,s=["Bytes","KB","MB","GB","TB"];if(u===0)return"0 Bytes";var h=parseInt(Math.floor(Math.log(u)/Math.log(r)),10);return(u/Math.pow(r,h)).toPrecision(3)+" "+s[h]}function re(u,r){if(!u)throw"Blob object is required.";if(!u.type)try{u.type="video/webm"}catch{}var s=(u.type||"video/webm").split("/")[1];if(s.indexOf(";")!==-1&&(s=s.split(";")[0]),r&&r.indexOf(".")!==-1){var h=r.split(".");r=h[0],s=h[1]}var g=(r||Math.round(Math.random()*9999999999)+888888888)+"."+s;if(typeof navigator.msSaveOrOpenBlob<"u")return navigator.msSaveOrOpenBlob(u,g);if(typeof navigator.msSaveBlob<"u")return navigator.msSaveBlob(u,g);var p=document.createElement("a");p.href=y.createObjectURL(u),p.download=g,p.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(p),typeof p.click=="function"?p.click():(p.target="_blank",p.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),y.revokeObjectURL(p.href)}function J(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}function P(u,r){return!u||!u.getTracks?[]:u.getTracks().filter(function(s){return s.kind===(r||"audio")})}function S(u,r){"srcObject"in r?r.srcObject=u:"mozSrcObject"in r?r.mozSrcObject=u:r.srcObject=u}function F(u,r){if(typeof EBML>"u")throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var s=new EBML.Reader,h=new EBML.Decoder,g=EBML.tools,p=new FileReader;p.onload=function(_){var l=h.decode(this.result);l.forEach(function(I){s.read(I)}),s.stop();var k=g.makeMetadataSeekable(s.metadatas,s.duration,s.cues),U=this.result.slice(s.metadataSize),T=new Blob([k,U],{type:"video/webm"});r(T)},p.readAsArrayBuffer(u)}typeof t<"u"&&(t.invokeSaveAsDialog=re,t.getTracks=P,t.getSeekableBlob=F,t.bytesToSize=Q,t.isElectron=J);/**
 * Storage is a standalone object used by {@link RecordRTC} to store reusable objects e.g. "new AudioContext".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * Storage.AudioContext === webkitAudioContext
 * @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var C={};typeof b<"u"?C.AudioContext=b:typeof webkitAudioContext<"u"&&(C.AudioContext=webkitAudioContext),typeof t<"u"&&(t.Storage=C);function q(){if(E||G||x)return!0;var u=navigator.userAgent,r=""+parseFloat(navigator.appVersion),s=parseInt(navigator.appVersion,10),h,g;return(A||w)&&(h=u.indexOf("Chrome"),r=u.substring(h+7)),(g=r.indexOf(";"))!==-1&&(r=r.substring(0,g)),(g=r.indexOf(" "))!==-1&&(r=r.substring(0,g)),s=parseInt(""+r,10),isNaN(s)&&(r=""+parseFloat(navigator.appVersion),s=parseInt(navigator.appVersion,10)),s>=49}/**
 * MediaStreamRecorder is an abstraction layer for {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}. It is used by {@link RecordRTC} to record MediaStream(s) in both Chrome and Firefox.
 * @summary Runs top over {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://github.com/muaz-khan|Muaz Khan}
 * @typedef MediaStreamRecorder
 * @class
 * @example
 * var config = {
 *     mimeType: 'video/webm', // vp8, vp9, h264, mkv, opus/vorbis
 *     audioBitsPerSecond : 256 * 8 * 1024,
 *     videoBitsPerSecond : 256 * 8 * 1024,
 *     bitsPerSecond: 256 * 8 * 1024,  // if this is provided, skip above two
 *     checkForInactiveTracks: true,
 *     timeSlice: 1000, // concatenate intervals based blobs
 *     ondataavailable: function() {} // get intervals based blobs
 * }
 * var recorder = new MediaStreamRecorder(mediaStream, config);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs:true, initCallback: function, mimeType: "video/webm", timeSlice: 1000}
 * @throws Will throw an error if first argument "MediaStream" is missing. Also throws error if "MediaRecorder API" are not supported by the browser.
 */function V(u,r){var T=this;if(typeof u>"u")throw'First argument "MediaStream" is required.';if(typeof MediaRecorder>"u")throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if(r=r||{mimeType:"video/webm"},r.type==="audio"){if(P(u,"video").length&&P(u,"audio").length){var s;navigator.mozGetUserMedia?(s=new W,s.addTrack(P(u,"audio")[0])):s=new W(P(u,"audio")),u=s}(!r.mimeType||r.mimeType.toString().toLowerCase().indexOf("audio")===-1)&&(r.mimeType=A?"audio/webm":"audio/ogg"),r.mimeType&&r.mimeType.toString().toLowerCase()!=="audio/ogg"&&navigator.mozGetUserMedia&&(r.mimeType="audio/ogg")}var h=[];this.getArrayOfBlobs=function(){return h},this.record=function(){T.blob=null,T.clearRecordedData(),T.timestamps=[],U=[],h=[];var I=r;r.disableLogs||console.log("Passing following config over MediaRecorder API.",I),l&&(l=null),A&&!q()&&(I="video/vp8"),typeof MediaRecorder.isTypeSupported=="function"&&I.mimeType&&(MediaRecorder.isTypeSupported(I.mimeType)||(r.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",I.mimeType),I.mimeType=r.type==="audio"?"audio/webm":"video/webm"));try{l=new MediaRecorder(u,I),r.mimeType=I.mimeType}catch{l=new MediaRecorder(u)}I.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in l&&l.canRecordMimeType(I.mimeType)===!1&&(r.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",I.mimeType)),l.ondataavailable=function(M){if(M.data&&U.push("ondataavailable: "+Q(M.data.size)),typeof r.timeSlice=="number"){if(M.data&&M.data.size&&(h.push(M.data),g(),typeof r.ondataavailable=="function")){var D=r.getNativeBlob?M.data:new Blob([M.data],{type:p(I)});r.ondataavailable(D)}return}if(!M.data||!M.data.size||M.data.size<100||T.blob){T.recordingCallback&&(T.recordingCallback(new Blob([],{type:p(I)})),T.recordingCallback=null);return}T.blob=r.getNativeBlob?M.data:new Blob([M.data],{type:p(I)}),T.recordingCallback&&(T.recordingCallback(T.blob),T.recordingCallback=null)},l.onstart=function(){U.push("started")},l.onpause=function(){U.push("paused")},l.onresume=function(){U.push("resumed")},l.onstop=function(){U.push("stopped")},l.onerror=function(M){M&&(M.name||(M.name="UnknownError"),U.push("error: "+M),r.disableLogs||(M.name.toString().toLowerCase().indexOf("invalidstate")!==-1?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",M):M.name.toString().toLowerCase().indexOf("notsupported")!==-1?console.error("MIME type (",I.mimeType,") is not supported.",M):M.name.toString().toLowerCase().indexOf("security")!==-1?console.error("MediaRecorder security error",M):M.name==="OutOfMemory"?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",M):M.name==="IllegalStreamModification"?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",M):M.name==="OtherRecordingError"?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",M):M.name==="GenericError"?console.error("The UA cannot provide the codec or recording option that has been requested.",M):console.error("MediaRecorder Error",M)),function(D){if(!T.manuallyStopped&&l&&l.state==="inactive"){delete r.timeslice,l.start(10*60*1e3);return}setTimeout(D,1e3)}(),l.state!=="inactive"&&l.state!=="stopped"&&l.stop())},typeof r.timeSlice=="number"?(g(),l.start(r.timeSlice)):l.start(36e5),r.initCallback&&r.initCallback()},this.timestamps=[];function g(){T.timestamps.push(new Date().getTime()),typeof r.onTimeStamp=="function"&&r.onTimeStamp(T.timestamps[T.timestamps.length-1],T.timestamps)}function p(I){return l&&l.mimeType?l.mimeType:I.mimeType||"video/webm"}this.stop=function(I){I=I||function(){},T.manuallyStopped=!0,l&&(this.recordingCallback=I,l.state==="recording"&&l.stop(),typeof r.timeSlice=="number"&&setTimeout(function(){T.blob=new Blob(h,{type:p(r)}),T.recordingCallback(T.blob)},100))},this.pause=function(){l&&l.state==="recording"&&l.pause()},this.resume=function(){l&&l.state==="paused"&&l.resume()},this.clearRecordedData=function(){l&&l.state==="recording"&&T.stop(_),_()};function _(){h=[],l=null,T.timestamps=[]}var l;this.getInternalRecorder=function(){return l};function k(){if("active"in u){if(!u.active)return!1}else if("ended"in u&&u.ended)return!1;return!0}this.blob=null,this.getState=function(){return l&&l.state||"inactive"};var U=[];this.getAllStates=function(){return U},typeof r.checkForInactiveTracks>"u"&&(r.checkForInactiveTracks=!1);var T=this;(function I(){if(!(!l||r.checkForInactiveTracks===!1)){if(k()===!1){r.disableLogs||console.log("MediaStream seems stopped."),T.stop();return}setTimeout(I,1e3)}})(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}typeof t<"u"&&(t.MediaStreamRecorder=V);/**
 * StereoAudioRecorder is a standalone class used by {@link RecordRTC} to bring "stereo" audio-recording in chrome.
 * @summary JavaScript standalone object for stereo audio recording.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef StereoAudioRecorder
 * @class
 * @example
 * var recorder = new StereoAudioRecorder(MediaStream, {
 *     sampleRate: 44100,
 *     bufferSize: 4096
 * });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}
 */function X(u,r){if(!P(u,"audio").length)throw"Your stream has no audio tracks.";r=r||{};var s=this,h=[],g=[],p=!1,_=0,l,k=2,U=r.desiredSampRate;r.leftChannel===!0&&(k=1),r.numberOfAudioChannels===1&&(k=1),(!k||k<1)&&(k=2),r.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+k),typeof r.checkForInactiveTracks>"u"&&(r.checkForInactiveTracks=!0);function T(){if(r.checkForInactiveTracks===!1)return!0;if("active"in u){if(!u.active)return!1}else if("ended"in u&&u.ended)return!1;return!0}this.record=function(){if(T()===!1)throw"Please make sure MediaStream is active.";z(),R=O=!1,p=!0,typeof r.timeSlice<"u"&&Z()};function I(Y,he){function me(de,Tt){var Ie=de.numberOfAudioChannels,ke=de.leftBuffers.slice(0),Ye=de.rightBuffers.slice(0),Ee=de.sampleRate,Ke=de.internalInterleavedLength,Pe=de.desiredSampRate;Ie===2&&(ke=gr(ke,Ke),Ye=gr(Ye,Ke),Pe&&(ke=Ct(ke,Pe,Ee),Ye=Ct(Ye,Pe,Ee))),Ie===1&&(ke=gr(ke,Ke),Pe&&(ke=Ct(ke,Pe,Ee))),Pe&&(Ee=Pe);function Ct(ce,je,Me){var De=Math.round(ce.length*(je/Me)),ye=[],Qe=Number((ce.length-1)/(De-1));ye[0]=ce[0];for(var lt=1;lt<De-1;lt++){var yr=lt*Qe,tn=Number(Math.floor(yr)).toFixed(),ci=Number(Math.ceil(yr)).toFixed(),vi=yr-tn;ye[lt]=si(ce[tn],ce[ci],vi)}return ye[De-1]=ce[ce.length-1],ye}function si(ce,je,Me){return ce+(je-ce)*Me}function gr(ce,je){for(var Me=new Float64Array(je),De=0,ye=ce.length,Qe=0;Qe<ye;Qe++){var lt=ce[Qe];Me.set(lt,De),De+=lt.length}return Me}function ui(ce,je){for(var Me=ce.length+je.length,De=new Float64Array(Me),ye=0,Qe=0;Qe<Me;)De[Qe++]=ce[ye],De[Qe++]=je[ye],ye++;return De}function Vt(ce,je,Me){for(var De=Me.length,ye=0;ye<De;ye++)ce.setUint8(je+ye,Me.charCodeAt(ye))}var zt;Ie===2&&(zt=ui(ke,Ye)),Ie===1&&(zt=ke);var $t=zt.length,li=44+$t*2,br=new ArrayBuffer(li),ge=new DataView(br);Vt(ge,0,"RIFF"),ge.setUint32(4,36+$t*2,!0),Vt(ge,8,"WAVE"),Vt(ge,12,"fmt "),ge.setUint32(16,16,!0),ge.setUint16(20,1,!0),ge.setUint16(22,Ie,!0),ge.setUint32(24,Ee,!0),ge.setUint32(28,Ee*Ie*2,!0),ge.setUint16(32,Ie*2,!0),ge.setUint16(34,16,!0),Vt(ge,36,"data"),ge.setUint32(40,$t*2,!0);for(var fi=$t,en=44,di=1,wr=0;wr<fi;wr++)ge.setInt16(en,zt[wr]*(32767*di),!0),en+=2;if(Tt)return Tt({buffer:br,view:ge});postMessage({buffer:br,view:ge})}if(Y.noWorker){me(Y,function(de){he(de.buffer,de.view)});return}var He=M(me);He.onmessage=function(de){he(de.data.buffer,de.data.view),y.revokeObjectURL(He.workerURL),He.terminate()},He.postMessage(Y)}function M(Y){var he=y.createObjectURL(new Blob([Y.toString(),";this.onmessage =  function (eee) {"+Y.name+"(eee.data);}"],{type:"application/javascript"})),me=new Worker(he);return me.workerURL=he,me}this.stop=function(Y){Y=Y||function(){},p=!1,I({desiredSampRate:U,sampleRate:m,numberOfAudioChannels:k,internalInterleavedLength:_,leftBuffers:h,rightBuffers:k===1?[]:g,noWorker:r.noWorker},function(he,me){s.blob=new Blob([me],{type:"audio/wav"}),s.buffer=new ArrayBuffer(me.buffer.byteLength),s.view=me,s.sampleRate=U||m,s.bufferSize=K,s.length=_,R=!1,Y&&Y(s.blob)})},typeof t.Storage>"u"&&(t.Storage={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}),(!t.Storage.AudioContextConstructor||t.Storage.AudioContextConstructor.state==="closed")&&(t.Storage.AudioContextConstructor=new t.Storage.AudioContext);var D=t.Storage.AudioContextConstructor,L=D.createMediaStreamSource(u),$=[0,256,512,1024,2048,4096,8192,16384],K=typeof r.bufferSize>"u"?4096:r.bufferSize;if($.indexOf(K)===-1&&(r.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify($,null,"	"))),D.createJavaScriptNode)l=D.createJavaScriptNode(K,k,k);else if(D.createScriptProcessor)l=D.createScriptProcessor(K,k,k);else throw"WebAudio API has no support on this browser.";L.connect(l),r.bufferSize||(K=l.bufferSize);var m=typeof r.sampleRate<"u"?r.sampleRate:D.sampleRate||44100;(m<22050||m>96e3)&&(r.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),r.disableLogs||r.desiredSampRate&&console.log("Desired sample-rate: "+r.desiredSampRate);var O=!1;this.pause=function(){O=!0},this.resume=function(){if(T()===!1)throw"Please make sure MediaStream is active.";if(!p){r.disableLogs||console.log("Seems recording has been restarted."),this.record();return}O=!1},this.clearRecordedData=function(){r.checkForInactiveTracks=!1,p&&this.stop(d),d()};function z(){h=[],g=[],_=0,R=!1,p=!1,O=!1,D=null,s.leftchannel=h,s.rightchannel=g,s.numberOfAudioChannels=k,s.desiredSampRate=U,s.sampleRate=m,s.recordingLength=_,N={left:[],right:[],recordingLength:0}}function d(){l&&(l.onaudioprocess=null,l.disconnect(),l=null),L&&(L.disconnect(),L=null),z()}this.name="StereoAudioRecorder",this.toString=function(){return this.name};var R=!1;function j(Y){if(!O){if(T()===!1&&(r.disableLogs||console.log("MediaStream seems stopped."),l.disconnect(),p=!1),!p){L&&(L.disconnect(),L=null);return}R||(R=!0,r.onAudioProcessStarted&&r.onAudioProcessStarted(),r.initCallback&&r.initCallback());var he=Y.inputBuffer.getChannelData(0),me=new Float32Array(he);if(h.push(me),k===2){var He=Y.inputBuffer.getChannelData(1),de=new Float32Array(He);g.push(de)}_+=K,s.recordingLength=_,typeof r.timeSlice<"u"&&(N.recordingLength+=K,N.left.push(me),k===2&&N.right.push(de))}}l.onaudioprocess=j,D.createMediaStreamDestination?l.connect(D.createMediaStreamDestination()):l.connect(D.destination),this.leftchannel=h,this.rightchannel=g,this.numberOfAudioChannels=k,this.desiredSampRate=U,this.sampleRate=m,s.recordingLength=_;var N={left:[],right:[],recordingLength:0};function Z(){!p||typeof r.ondataavailable!="function"||typeof r.timeSlice>"u"||(N.left.length?(I({desiredSampRate:U,sampleRate:m,numberOfAudioChannels:k,internalInterleavedLength:N.recordingLength,leftBuffers:N.left,rightBuffers:k===1?[]:N.right},function(Y,he){var me=new Blob([he],{type:"audio/wav"});r.ondataavailable(me),setTimeout(Z,r.timeSlice)}),N={left:[],right:[],recordingLength:0}):setTimeout(Z,r.timeSlice))}}typeof t<"u"&&(t.StereoAudioRecorder=X);/**
 * CanvasRecorder is a standalone class used by {@link RecordRTC} to bring HTML5-Canvas recording into video WebM. It uses HTML2Canvas library and runs top over {@link Whammy}.
 * @summary HTML2Canvas recording into video WebM.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef CanvasRecorder
 * @class
 * @example
 * var recorder = new CanvasRecorder(htmlElement, { disableLogs: true, useWhammyRecorder: true });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.
 * @param {object} config - {disableLogs:true, initCallback: function}
 */function ve(u,r){if(typeof html2canvas>"u")throw"Please link: https://www.webrtc-experiment.com/screenshot.js";r=r||{},r.frameInterval||(r.frameInterval=10);var s=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function($){$ in document.createElement("canvas")&&(s=!0)});var h=(!!window.webkitRTCPeerConnection||!!window.webkitGetUserMedia)&&!!window.chrome,g=50,p=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);h&&p&&p[2]&&(g=parseInt(p[2],10)),h&&g<52&&(s=!1),r.useWhammyRecorder&&(s=!1);var _,l;if(s)if(r.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),u instanceof HTMLCanvasElement)_=u;else if(u instanceof CanvasRenderingContext2D)_=u.canvas;else throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";else navigator.mozGetUserMedia&&(r.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));var k;this.record=function(){if(k=!0,s&&!r.useWhammyRecorder){var $;"captureStream"in _?$=_.captureStream(25):"mozCaptureStream"in _?$=_.mozCaptureStream(25):"webkitCaptureStream"in _&&($=_.webkitCaptureStream(25));try{var K=new W;K.addTrack(P($,"video")[0]),$=K}catch{}if(!$)throw"captureStream API are NOT available.";l=new V($,{mimeType:r.mimeType||"video/webm"}),l.record()}else L.frames=[],D=new Date().getTime(),M();r.initCallback&&r.initCallback()},this.getWebPImages=function($){if(u.nodeName.toLowerCase()!=="canvas"){$();return}var K=L.frames.length;L.frames.forEach(function(m,O){var z=K-O;r.disableLogs||console.log(z+"/"+K+" frames remaining"),r.onEncodingCallback&&r.onEncodingCallback(z,K);var d=m.image.toDataURL("image/webp",1);L.frames[O].image=d}),r.disableLogs||console.log("Generating WebM"),$()},this.stop=function($){k=!1;var K=this;if(s&&l){l.stop($);return}this.getWebPImages(function(){L.compile(function(m){r.disableLogs||console.log("Recording finished!"),K.blob=m,K.blob.forEach&&(K.blob=new Blob([],{type:"video/webm"})),$&&$(K.blob),L.frames=[]})})};var U=!1;this.pause=function(){if(U=!0,l instanceof V){l.pause();return}},this.resume=function(){if(U=!1,l instanceof V){l.resume();return}k||this.record()},this.clearRecordedData=function(){k&&this.stop(T),T()};function T(){L.frames=[],k=!1,U=!1}this.name="CanvasRecorder",this.toString=function(){return this.name};function I(){var $=document.createElement("canvas"),K=$.getContext("2d");return $.width=u.width,$.height=u.height,K.drawImage(u,0,0),$}function M(){if(U)return D=new Date().getTime(),setTimeout(M,500);if(u.nodeName.toLowerCase()==="canvas"){var $=new Date().getTime()-D;D=new Date().getTime(),L.frames.push({image:I(),duration:$}),k&&setTimeout(M,r.frameInterval);return}html2canvas(u,{grabMouse:typeof r.showMousePointer>"u"||r.showMousePointer,onrendered:function(K){var m=new Date().getTime()-D;if(!m)return setTimeout(M,r.frameInterval);D=new Date().getTime(),L.frames.push({image:K.toDataURL("image/webp",1),duration:m}),k&&setTimeout(M,r.frameInterval)}})}var D=new Date().getTime(),L=new Ge.Video(100)}typeof t<"u"&&(t.CanvasRecorder=ve);/**
 * WhammyRecorder is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It runs top over {@link Whammy}.
 * @summary Video recording feature in Chrome.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WhammyRecorder
 * @class
 * @example
 * var recorder = new WhammyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}
 */function Se(u,r){r=r||{},r.frameInterval||(r.frameInterval=10),r.disableLogs||console.log("Using frames-interval:",r.frameInterval),this.record=function(){r.width||(r.width=320),r.height||(r.height=240),r.video||(r.video={width:r.width,height:r.height}),r.canvas||(r.canvas={width:r.width,height:r.height}),k.width=r.canvas.width||320,k.height=r.canvas.height||240,U=k.getContext("2d"),r.video&&r.video instanceof HTMLVideoElement?(T=r.video.cloneNode(),r.initCallback&&r.initCallback()):(T=document.createElement("video"),S(u,T),T.onloadedmetadata=function(){r.initCallback&&r.initCallback()},T.width=r.video.width,T.height=r.video.height),T.muted=!0,T.play(),I=new Date().getTime(),M=new Ge.Video,r.disableLogs||(console.log("canvas resolutions",k.width,"*",k.height),console.log("video width/height",T.width||k.width,"*",T.height||k.height)),s(r.frameInterval)};function s(D){D=typeof D<"u"?D:10;var L=new Date().getTime()-I;if(!L)return setTimeout(s,D,D);if(_)return I=new Date().getTime(),setTimeout(s,100);I=new Date().getTime(),T.paused&&T.play(),U.drawImage(T,0,0,k.width,k.height),M.frames.push({duration:L,image:k.toDataURL("image/webp")}),p||setTimeout(s,D,D)}function h(D){var L=-1,$=D.length;(function K(){if(L++,L===$){D.callback();return}setTimeout(function(){D.functionToLoop(K,L)},1)})()}function g(D,L,$,K,m){var O=document.createElement("canvas");O.width=k.width,O.height=k.height;var z=O.getContext("2d"),d=[],R=D.length,j={r:0,g:0,b:0},N=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),Z=0,Y=0,he=!1;h({length:R,functionToLoop:function(me,He){var de,Tt,Ie,ke=function(){!he&&Ie-de<=Ie*Y||(he=!0,d.push(D[He])),me()};if(he)ke();else{var Ye=new Image;Ye.onload=function(){z.drawImage(Ye,0,0,k.width,k.height);var Ee=z.getImageData(0,0,k.width,k.height);de=0,Tt=Ee.data.length,Ie=Ee.data.length/4;for(var Ke=0;Ke<Tt;Ke+=4){var Pe={r:Ee.data[Ke],g:Ee.data[Ke+1],b:Ee.data[Ke+2]},Ct=Math.sqrt(Math.pow(Pe.r-j.r,2)+Math.pow(Pe.g-j.g,2)+Math.pow(Pe.b-j.b,2));Ct<=N*Z&&de++}ke()},Ye.src=D[He].image}},callback:function(){d=d.concat(D.slice(R)),d.length<=0&&d.push(D[D.length-1]),m(d)}})}var p=!1;this.stop=function(D){D=D||function(){},p=!0;var L=this;setTimeout(function(){g(M.frames,-1,null,null,function($){M.frames=$,r.advertisement&&r.advertisement.length&&(M.frames=r.advertisement.concat(M.frames)),M.compile(function(K){L.blob=K,L.blob.forEach&&(L.blob=new Blob([],{type:"video/webm"})),D&&D(L.blob)})})},10)};var _=!1;this.pause=function(){_=!0},this.resume=function(){_=!1,p&&this.record()},this.clearRecordedData=function(){p||this.stop(l),l()};function l(){M.frames=[],p=!0,_=!1}this.name="WhammyRecorder",this.toString=function(){return this.name};var k=document.createElement("canvas"),U=k.getContext("2d"),T,I,M}typeof t<"u"&&(t.WhammyRecorder=Se);/**
 * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}
 * @summary A real time javascript webm encoder based on a canvas hack.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef Whammy
 * @class
 * @example
 * var recorder = new Whammy().Video(15);
 * recorder.add(context || canvas || dataURL);
 * var output = recorder.compile();
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var Ge=function(){function u(h){this.frames=[],this.duration=h||1,this.quality=.8}u.prototype.add=function(h,g){if("canvas"in h&&(h=h.canvas),"toDataURL"in h&&(h=h.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/ig.test(h))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:h,duration:g||this.duration})};function r(h){var g=y.createObjectURL(new Blob([h.toString(),"this.onmessage =  function (eee) {"+h.name+"(eee.data);}"],{type:"application/javascript"})),p=new Worker(g);return y.revokeObjectURL(g),p}function s(h){function g(m){var O=_(m);if(!O)return[];for(var z=3e4,d=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:$(O.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:O.width,id:176},{data:O.height,id:186}]}]}]}]}],R=0,j=0;R<m.length;){var N=[],Z=0;do N.push(m[R]),Z+=m[R].duration,R++;while(R<m.length&&Z<z);var Y=0,he={id:524531317,data:p(j,Y,N)};d[1].data.push(he),j+=Z}return T(d)}function p(m,O,z){return[{data:m,id:231}].concat(z.map(function(d){var R=I({frame:d.data.slice(4),trackNum:1,timecode:Math.round(O)});return O+=d.duration,{data:R,id:163}}))}function _(m){if(!m[0]){postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});return}for(var O=m[0].width,z=m[0].height,d=m[0].duration,R=1;R<m.length;R++)d+=m[R].duration;return{duration:d,width:O,height:z}}function l(m){for(var O=[];m>0;)O.push(m&255),m=m>>8;return new Uint8Array(O.reverse())}function k(m){return new Uint8Array(m.split("").map(function(O){return O.charCodeAt(0)}))}function U(m){var O=[],z=m.length%8?new Array(9-m.length%8).join("0"):"";m=z+m;for(var d=0;d<m.length;d+=8)O.push(parseInt(m.substr(d,8),2));return new Uint8Array(O)}function T(m){for(var O=[],z=0;z<m.length;z++){var d=m[z].data;typeof d=="object"&&(d=T(d)),typeof d=="number"&&(d=U(d.toString(2))),typeof d=="string"&&(d=k(d));var R=d.size||d.byteLength||d.length,j=Math.ceil(Math.ceil(Math.log(R)/Math.log(2))/8),N=R.toString(2),Z=new Array(j*7+7+1-N.length).join("0")+N,Y=new Array(j).join("0")+"1"+Z;O.push(l(m[z].id)),O.push(U(Y)),O.push(d)}return new Blob(O,{type:"video/webm"})}function I(m){var O=0;O|=128;var z=[m.trackNum|128,m.timecode>>8,m.timecode&255,O].map(function(d){return String.fromCharCode(d)}).join("")+m.frame;return z}function M(m){for(var O=m.RIFF[0].WEBP[0],z=O.indexOf("*"),d=0,R=[];d<4;d++)R[d]=O.charCodeAt(z+3+d);var j,N,Z;return Z=R[1]<<8|R[0],j=Z&16383,Z=R[3]<<8|R[2],N=Z&16383,{width:j,height:N,data:O,riff:m}}function D(m,O){return parseInt(m.substr(O+4,4).split("").map(function(z){var d=z.charCodeAt(0).toString(2);return new Array(8-d.length+1).join("0")+d}).join(""),2)}function L(m){for(var O=0,z={};O<m.length;){var d=m.substr(O,4),R=D(m,O),j=m.substr(O+4+4,R);O+=8+R,z[d]=z[d]||[],d==="RIFF"||d==="LIST"?z[d].push(L(j)):z[d].push(j)}return z}function $(m){return[].slice.call(new Uint8Array(new Float64Array([m]).buffer),0).map(function(O){return String.fromCharCode(O)}).reverse().join("")}var K=new g(h.map(function(m){var O=M(L(atob(m.image.slice(23))));return O.duration=m.duration,O}));postMessage(K)}return u.prototype.compile=function(h){var g=r(s);g.onmessage=function(p){if(p.data.error){console.error(p.data.error);return}h(p.data)},g.postMessage(this.frames)},{Video:u}}();typeof t<"u"&&(t.Whammy=Ge);/**
 * DiskStorage is a standalone object used by {@link RecordRTC} to store recorded blobs in IndexedDB storage.
 * @summary Writing blobs into IndexedDB.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * DiskStorage.Store({
 *     audioBlob: yourAudioBlob,
 *     videoBlob: yourVideoBlob,
 *     gifBlob  : yourGifBlob
 * });
 * DiskStorage.Fetch(function(dataURL, type) {
 *     if(type === 'audioBlob') { }
 *     if(type === 'videoBlob') { }
 *     if(type === 'gifBlob')   { }
 * });
 * // DiskStorage.dataStoreName = 'recordRTC';
 * // DiskStorage.onError = function(error) { };
 * @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.
 * @property {function} Fetch - This method fetches stored blobs from IndexedDB.
 * @property {function} Store - This method stores blobs in IndexedDB.
 * @property {function} onError - This function is invoked for any known/unknown error.
 * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var ue={init:function(){var u=this;if(typeof indexedDB>"u"||typeof indexedDB.open>"u"){console.error("IndexedDB API are not available in this browser.");return}var r=1,s=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),h,g=indexedDB.open(s,r);function p(l){l.createObjectStore(u.dataStoreName)}function _(){var l=h.transaction([u.dataStoreName],"readwrite");u.videoBlob&&l.objectStore(u.dataStoreName).put(u.videoBlob,"videoBlob"),u.gifBlob&&l.objectStore(u.dataStoreName).put(u.gifBlob,"gifBlob"),u.audioBlob&&l.objectStore(u.dataStoreName).put(u.audioBlob,"audioBlob");function k(U){l.objectStore(u.dataStoreName).get(U).onsuccess=function(T){u.callback&&u.callback(T.target.result,U)}}k("audioBlob"),k("videoBlob"),k("gifBlob")}g.onerror=u.onError,g.onsuccess=function(){if(h=g.result,h.onerror=u.onError,h.setVersion)if(h.version!==r){var l=h.setVersion(r);l.onsuccess=function(){p(h),_()}}else _();else _()},g.onupgradeneeded=function(l){p(l.target.result)}},Fetch:function(u){return this.callback=u,this.init(),this},Store:function(u){return this.audioBlob=u.audioBlob,this.videoBlob=u.videoBlob,this.gifBlob=u.gifBlob,this.init(),this},onError:function(u){console.error(JSON.stringify(u,null,"	"))},dataStoreName:"recordRTC",dbName:null};typeof t<"u"&&(t.DiskStorage=ue);/**
 * GifRecorder is standalone calss used by {@link RecordRTC} to record video or canvas into animated gif.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GifRecorder
 * @class
 * @example
 * var recorder = new GifRecorder(mediaStream || canvas || context, { onGifPreview: function, onGifRecordingStarted: function, width: 1280, height: 720, frameRate: 200, quality: 10 });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     img.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.
 * @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}
 */function H(u,r){if(typeof GIFEncoder>"u"){var s=document.createElement("script");s.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(s)}r=r||{};var h=u instanceof CanvasRenderingContext2D||u instanceof HTMLCanvasElement;this.record=function(){if(typeof GIFEncoder>"u"){setTimeout(D.record,1e3);return}if(!k){setTimeout(D.record,1e3);return}h||(r.width||(r.width=U.offsetWidth||320),r.height||(r.height=U.offsetHeight||240),r.video||(r.video={width:r.width,height:r.height}),r.canvas||(r.canvas={width:r.width,height:r.height}),_.width=r.canvas.width||320,_.height=r.canvas.height||240,U.width=r.video.width||320,U.height=r.video.height||240),M=new GIFEncoder,M.setRepeat(0),M.setDelay(r.frameRate||200),M.setQuality(r.quality||10),M.start(),typeof r.onGifRecordingStarted=="function"&&r.onGifRecordingStarted();function L($){if(D.clearedRecordedData!==!0){if(g)return setTimeout(function(){L($)},100);T=c(L),typeof I===void 0&&(I=$),!($-I<90)&&(!h&&U.paused&&U.play(),h||l.drawImage(U,0,0,_.width,_.height),r.onGifPreview&&r.onGifPreview(_.toDataURL("image/png")),M.addFrame(l),I=$)}}T=c(L),r.initCallback&&r.initCallback()},this.stop=function(L){L=L||function(){},T&&v(T),this.blob=new Blob([new Uint8Array(M.stream().bin)],{type:"image/gif"}),L(this.blob),M.stream().bin=[]};var g=!1;this.pause=function(){g=!0},this.resume=function(){g=!1},this.clearRecordedData=function(){D.clearedRecordedData=!0,p()};function p(){M&&(M.stream().bin=[])}this.name="GifRecorder",this.toString=function(){return this.name};var _=document.createElement("canvas"),l=_.getContext("2d");h&&(u instanceof CanvasRenderingContext2D?(l=u,_=l.canvas):u instanceof HTMLCanvasElement&&(l=u.getContext("2d"),_=u));var k=!0;if(!h){var U=document.createElement("video");U.muted=!0,U.autoplay=!0,U.playsInline=!0,k=!1,U.onloadedmetadata=function(){k=!0},S(u,U),U.play()}var T=null,I,M,D=this}typeof t<"u"&&(t.GifRecorder=H);function ne(u,r){var s="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(d){typeof t<"u"||d&&(typeof window<"u"||typeof se>"u"||(se.navigator={userAgent:s,getUserMedia:function(){}},se.console||(se.console={}),(typeof se.console.log>"u"||typeof se.console.error>"u")&&(se.console.error=se.console.log=se.console.log||function(){console.log(arguments)}),typeof document>"u"&&(d.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var R={getContext:function(){return R},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return R},d.HTMLVideoElement=function(){}),typeof location>"u"&&(d.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(d.screen={width:0,height:0}),typeof U>"u"&&(d.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),d.window=se))})(typeof se<"u"?se:null),r=r||"multi-streams-mixer";var h=[],g=!1,p=document.createElement("canvas"),_=p.getContext("2d");p.style.opacity=0,p.style.position="absolute",p.style.zIndex=-1,p.style.top="-1000em",p.style.left="-1000em",p.className=r,(document.body||document.documentElement).appendChild(p),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var l=this,k=window.AudioContext;typeof k>"u"&&(typeof webkitAudioContext<"u"&&(k=webkitAudioContext),typeof mozAudioContext<"u"&&(k=mozAudioContext));var U=window.URL;typeof U>"u"&&typeof webkitURL<"u"&&(U=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var T=window.MediaStream;typeof T>"u"&&typeof webkitMediaStream<"u"&&(T=webkitMediaStream),typeof T<"u"&&typeof T.prototype.stop>"u"&&(T.prototype.stop=function(){this.getTracks().forEach(function(d){d.stop()})});var I={};typeof k<"u"?I.AudioContext=k:typeof webkitAudioContext<"u"&&(I.AudioContext=webkitAudioContext);function M(d,R){"srcObject"in R?R.srcObject=d:"mozSrcObject"in R?R.mozSrcObject=d:R.srcObject=d}this.startDrawingFrames=function(){D()};function D(){if(!g){var d=h.length,R=!1,j=[];if(h.forEach(function(Z){Z.stream||(Z.stream={}),Z.stream.fullcanvas?R=Z:j.push(Z)}),R)p.width=R.stream.width,p.height=R.stream.height;else if(j.length){p.width=d>1?j[0].width*2:j[0].width;var N=1;(d===3||d===4)&&(N=2),(d===5||d===6)&&(N=3),(d===7||d===8)&&(N=4),(d===9||d===10)&&(N=5),p.height=j[0].height*N}else p.width=l.width||360,p.height=l.height||240;R&&R instanceof HTMLVideoElement&&L(R),j.forEach(function(Z,Y){L(Z,Y)}),setTimeout(D,l.frameInterval)}}function L(d,R){if(!g){var j=0,N=0,Z=d.width,Y=d.height;R===1&&(j=d.width),R===2&&(N=d.height),R===3&&(j=d.width,N=d.height),R===4&&(N=d.height*2),R===5&&(j=d.width,N=d.height*2),R===6&&(N=d.height*3),R===7&&(j=d.width,N=d.height*3),typeof d.stream.left<"u"&&(j=d.stream.left),typeof d.stream.top<"u"&&(N=d.stream.top),typeof d.stream.width<"u"&&(Z=d.stream.width),typeof d.stream.height<"u"&&(Y=d.stream.height),_.drawImage(d,j,N,Z,Y),typeof d.stream.onRender=="function"&&d.stream.onRender(_,j,N,Z,Y,R)}}function $(){g=!1;var d=K(),R=m();return R&&R.getTracks().filter(function(j){return j.kind==="audio"}).forEach(function(j){d.addTrack(j)}),u.forEach(function(j){j.fullcanvas}),d}function K(){z();var d;"captureStream"in p?d=p.captureStream():"mozCaptureStream"in p?d=p.mozCaptureStream():l.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var R=new T;return d.getTracks().filter(function(j){return j.kind==="video"}).forEach(function(j){R.addTrack(j)}),p.stream=R,R}function m(){I.AudioContextConstructor||(I.AudioContextConstructor=new I.AudioContext),l.audioContext=I.AudioContextConstructor,l.audioSources=[],l.useGainNode===!0&&(l.gainNode=l.audioContext.createGain(),l.gainNode.connect(l.audioContext.destination),l.gainNode.gain.value=0);var d=0;if(u.forEach(function(R){if(R.getTracks().filter(function(N){return N.kind==="audio"}).length){d++;var j=l.audioContext.createMediaStreamSource(R);l.useGainNode===!0&&j.connect(l.gainNode),l.audioSources.push(j)}}),!!d)return l.audioDestination=l.audioContext.createMediaStreamDestination(),l.audioSources.forEach(function(R){R.connect(l.audioDestination)}),l.audioDestination.stream}function O(d){var R=document.createElement("video");return M(d,R),R.className=r,R.muted=!0,R.volume=0,R.width=d.width||l.width||360,R.height=d.height||l.height||240,R.play(),R}this.appendStreams=function(d){if(!d)throw"First parameter is required.";d instanceof Array||(d=[d]),d.forEach(function(R){var j=new T;if(R.getTracks().filter(function(Y){return Y.kind==="video"}).length){var N=O(R);N.stream=R,h.push(N),j.addTrack(R.getTracks().filter(function(Y){return Y.kind==="video"})[0])}if(R.getTracks().filter(function(Y){return Y.kind==="audio"}).length){var Z=l.audioContext.createMediaStreamSource(R);l.audioDestination=l.audioContext.createMediaStreamDestination(),Z.connect(l.audioDestination),j.addTrack(l.audioDestination.stream.getTracks().filter(function(Y){return Y.kind==="audio"})[0])}u.push(j)})},this.releaseStreams=function(){h=[],g=!0,l.gainNode&&(l.gainNode.disconnect(),l.gainNode=null),l.audioSources.length&&(l.audioSources.forEach(function(d){d.disconnect()}),l.audioSources=[]),l.audioDestination&&(l.audioDestination.disconnect(),l.audioDestination=null),l.audioContext&&l.audioContext.close(),l.audioContext=null,_.clearRect(0,0,p.width,p.height),p.stream&&(p.stream.stop(),p.stream=null)},this.resetVideoStreams=function(d){d&&!(d instanceof Array)&&(d=[d]),z(d)};function z(d){h=[],d=d||u,d.forEach(function(R){if(R.getTracks().filter(function(N){return N.kind==="video"}).length){var j=O(R);j.stream=R,h.push(j)}})}this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=$}typeof t>"u"&&(e.exports=ne);/**
 * MultiStreamRecorder can record multiple videos in single container.
 * @summary Multi-videos recorder.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MultiStreamRecorder
 * @class
 * @example
 * var options = {
 *     mimeType: 'video/webm'
 * }
 * var recorder = new MultiStreamRecorder(ArrayOfMediaStreams, options);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStreams} mediaStreams - Array of MediaStreams.
 * @param {object} config - {disableLogs:true, frameInterval: 1, mimeType: "video/webm"}
 */function Te(u,r){u=u||[];var s=this,h,g;r=r||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}},r.frameInterval||(r.frameInterval=10),r.video||(r.video={}),r.video.width||(r.video.width=360),r.video.height||(r.video.height=240),this.record=function(){h=new ne(u,r.elementClass||"multi-streams-mixer"),p().length&&(h.frameInterval=r.frameInterval||10,h.width=r.video.width||360,h.height=r.video.height||240,h.startDrawingFrames()),r.previewStream&&typeof r.previewStream=="function"&&r.previewStream(h.getMixedStream()),g=new V(h.getMixedStream(),r),g.record()};function p(){var _=[];return u.forEach(function(l){P(l,"video").forEach(function(k){_.push(k)})}),_}this.stop=function(_){g&&g.stop(function(l){s.blob=l,_(l),s.clearRecordedData()})},this.pause=function(){g&&g.pause()},this.resume=function(){g&&g.resume()},this.clearRecordedData=function(){g&&(g.clearRecordedData(),g=null),h&&(h.releaseStreams(),h=null)},this.addStreams=function(_){if(!_)throw"First parameter is required.";_ instanceof Array||(_=[_]),u.concat(_),!(!g||!h)&&(h.appendStreams(_),r.previewStream&&typeof r.previewStream=="function"&&r.previewStream(h.getMixedStream()))},this.resetVideoStreams=function(_){h&&(_&&!(_ instanceof Array)&&(_=[_]),h.resetVideoStreams(_))},this.getMixer=function(){return h},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}typeof t<"u"&&(t.MultiStreamRecorder=Te);/**
 * RecordRTCPromisesHandler adds promises support in {@link RecordRTC}. Try a {@link https://github.com/muaz-khan/RecordRTC/blob/master/simple-demos/RecordRTCPromisesHandler.html|demo here}
 * @summary Promises for {@link RecordRTC}
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCPromisesHandler
 * @class
 * @example
 * var recorder = new RecordRTCPromisesHandler(mediaStream, options);
 * recorder.startRecording()
 *         .then(successCB)
 *         .catch(errorCB);
 * // Note: You can access all RecordRTC API using "recorder.recordRTC" e.g. 
 * recorder.recordRTC.onStateChanged = function(state) {};
 * recorder.recordRTC.setRecordingDuration(5000);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 * @throws Will throw an error if "new" keyword is not used to initiate "RecordRTCPromisesHandler". Also throws error if first argument "MediaStream" is missing.
 * @requires {@link RecordRTC}
 */function pe(u,r){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(typeof u>"u")throw'First argument "MediaStream" is required.';var s=this;s.recordRTC=new t(u,r),this.startRecording=function(){return new Promise(function(h,g){try{s.recordRTC.startRecording(),h()}catch(p){g(p)}})},this.stopRecording=function(){return new Promise(function(h,g){try{s.recordRTC.stopRecording(function(p){if(s.blob=s.recordRTC.getBlob(),!s.blob||!s.blob.size){g("Empty blob.",s.blob);return}h(p)})}catch(p){g(p)}})},this.pauseRecording=function(){return new Promise(function(h,g){try{s.recordRTC.pauseRecording(),h()}catch(p){g(p)}})},this.resumeRecording=function(){return new Promise(function(h,g){try{s.recordRTC.resumeRecording(),h()}catch(p){g(p)}})},this.getDataURL=function(h){return new Promise(function(g,p){try{s.recordRTC.getDataURL(function(_){g(_)})}catch(_){p(_)}})},this.getBlob=function(){return new Promise(function(h,g){try{h(s.recordRTC.getBlob())}catch(p){g(p)}})},this.getInternalRecorder=function(){return new Promise(function(h,g){try{h(s.recordRTC.getInternalRecorder())}catch(p){g(p)}})},this.reset=function(){return new Promise(function(h,g){try{h(s.recordRTC.reset())}catch(p){g(p)}})},this.destroy=function(){return new Promise(function(h,g){try{h(s.recordRTC.destroy())}catch(p){g(p)}})},this.getState=function(){return new Promise(function(h,g){try{h(s.recordRTC.getState())}catch(p){g(p)}})},this.blob=null,this.version="5.6.2"}typeof t<"u"&&(t.RecordRTCPromisesHandler=pe);/**
 * WebAssemblyRecorder lets you create webm videos in JavaScript via WebAssembly. The library consumes raw RGBA32 buffers (4 bytes per pixel) and turns them into a webm video with the given framerate and quality. This makes it compatible out-of-the-box with ImageData from a CANVAS. With realtime mode you can also use webm-wasm for streaming webm videos.
 * @summary Video recording feature in Chrome, Firefox and maybe Edge.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WebAssemblyRecorder
 * @class
 * @example
 * var recorder = new WebAssemblyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {webAssemblyPath:'webm-wasm.wasm',workerPath: 'webm-worker.js', frameRate: 30, width: 1920, height: 1080, bitrate: 1024, realtime: true}
 */function we(u,r){(typeof ReadableStream>"u"||typeof WritableStream>"u")&&console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),r=r||{},r.width=r.width||640,r.height=r.height||480,r.frameRate=r.frameRate||30,r.bitrate=r.bitrate||1200,r.realtime=r.realtime||!0;var s;function h(){return new ReadableStream({start:function(U){var T=document.createElement("canvas"),I=document.createElement("video"),M=!0;I.srcObject=u,I.muted=!0,I.height=r.height,I.width=r.width,I.volume=0,I.onplaying=function(){T.width=r.width,T.height=r.height;var D=T.getContext("2d"),L=1e3/r.frameRate,$=setInterval(function(){if(s&&(clearInterval($),U.close()),M&&(M=!1,r.onVideoProcessStarted&&r.onVideoProcessStarted()),D.drawImage(I,0,0),U._controlledReadableStream.state!=="closed")try{U.enqueue(D.getImageData(0,0,r.width,r.height))}catch{}},L)},I.play()}})}var g;function p(U,T){if(!r.workerPath&&!T){s=!1,fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then(function(M){M.arrayBuffer().then(function(D){p(U,D)})});return}if(!r.workerPath&&T instanceof ArrayBuffer){var I=new Blob([T],{type:"text/javascript"});r.workerPath=y.createObjectURL(I)}r.workerPath||console.error("workerPath parameter is missing."),g=new Worker(r.workerPath),g.postMessage(r.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),g.addEventListener("message",function(M){M.data==="READY"?(g.postMessage({width:r.width,height:r.height,bitrate:r.bitrate||1200,timebaseDen:r.frameRate||30,realtime:r.realtime}),h().pipeTo(new WritableStream({write:function(D){if(s){console.error("Got image, but recorder is finished!");return}g.postMessage(D.data.buffer,[D.data.buffer])}}))):M.data&&(_||k.push(M.data))})}this.record=function(){k=[],_=!1,this.blob=null,p(u),typeof r.initCallback=="function"&&r.initCallback()};var _;this.pause=function(){_=!0},this.resume=function(){_=!1};function l(U){if(!g){U&&U();return}g.addEventListener("message",function(T){T.data===null&&(g.terminate(),g=null,U&&U())}),g.postMessage(null)}var k=[];this.stop=function(U){s=!0;var T=this;l(function(){T.blob=new Blob(k,{type:"video/webm"}),U(T.blob)})},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){k=[],_=!1,this.blob=null},this.blob=null}typeof t<"u"&&(t.WebAssemblyRecorder=we)}(kr)),kr.exports}var Ko=Yo();const yn=Ho(Ko);var Qo=be('<input type="checkbox" class="h-5 w-5">'),Jo=be('<input type="number" class="w-full px-3 py-2 border rounded focus:outline-none focus:ring">'),Xo=be('<input type="text" class="w-full px-3 py-2 border rounded focus:outline-none focus:ring">'),Zo=be('<div class="mb-4"><span class="block mb-2 font-medium"> </span> <!></div>'),ea=be('<div class="fixed inset-0 bg-black/10 flex items-center justify-center z-50"><div class="bg-[#f4ede1] p-8 min-w-[320px] max-w-[90vw] shadow-lg rounded-3xl"><h2 class="text-xl font-bold mb-6"> </h2> <button class="border rounded-3xl p-4">record voice</button> <form><!> <div class="flex gap-3 justify-end mt-6"><button type="button" class="px-4 py-2 rounded border bg-gray-100 hover:bg-gray-200">취소</button> <button type="submit" class="px-4 py-2 rounded bg-lime-600 text-white hover:bg-lime-700">확인</button></div></form></div></div>');function ta(e,t){vt(t,!1);const[n,i]=mr(),o=()=>ft(Dt,"$ApprovalModalStore",n);let a=Ve(t,"name",8),c=Ve(t,"parameters",8),f=qe({}),v=qe(null);Jr(()=>{te(f,{...c()})});function b(){var F,C;if(B(v)==null){alert("please record voice");return}const S={};for(const q in B(f)){const V=c()[q],X=B(f)[q];switch(typeof V){case"number":S[q]=Number(X);break;case"boolean":S[q]=!!X;break;default:S[q]=X}}S.voice=B(v),(C=(F=o())==null?void 0:F.resolver)==null||C.call(F,S),Dt.set(null)}function y(){var S,F;(F=(S=o())==null?void 0:S.resolver)==null||F.call(S,null),Dt.set(null)}async function x(){const S=await navigator.mediaDevices.getUserMedia({audio:!0}),F=new yn(S,{type:"audio",mimeType:"audio/wav",recorderType:yn.StereoAudioRecorder,desiredSampRate:16e3,numberOfAudioChannels:1});return F.startRecording(),await or("녹음이 시작되었습니다.","녹음 시작!"),new Promise((C,q)=>{setTimeout(()=>{F.stopRecording(async()=>{try{const V=F.getDataURL(X=>{const ve=X.split(",")[1];S.getTracks().forEach(Se=>Se.stop()),F.destroy(),or("녹음이 완료되었습니다.","분석 중..."),C(ve)})}catch(V){S.getTracks().forEach(X=>X.stop()),F.destroy(),q(V)}})},1e4)})}qt();var w=ea(),E=ie(w),A=ie(E),G=ie(A),W=le(A,2),Q=le(W,2),re=ie(Q);ti(re,1,()=>Object.entries(B(f)),ei,(S,F)=>{let C=()=>B(F)[0];var q=Zo(),V=ie(q),X=ie(V),ve=le(V,2);{var Se=ue=>{var H=Qo();Eo(H,()=>B(f)[C()],ne=>Rr(f,B(f)[C()]=ne)),fe(ue,H)},Ge=(ue,H)=>{{var ne=pe=>{var we=Jo();Pr(we,()=>B(f)[C()],u=>Rr(f,B(f)[C()]=u)),fe(pe,we)},Te=pe=>{var we=Xo();Pr(we,()=>B(f)[C()],u=>Rr(f,B(f)[C()]=u)),fe(pe,we)};Ne(ue,pe=>{typeof c()[C()]=="number"?pe(ne):pe(Te,!1)},H)}};Ne(ve,ue=>{typeof c()[C()]=="boolean"?ue(Se):ue(Ge,!1)})}gt(()=>ct(X,C())),fe(S,q)});var J=le(re,2),P=ie(J);gt(()=>ct(G,a())),Mt("click",W,()=>x().then(S=>te(v,S))),Mt("click",P,y),Mt("submit",Q,Do(b)),fe(e,w),ht(),i()}const ra=""+new URL("../images/tool_failed.png",import.meta.url).href;var na=be('<div class="mb-4 text-red-600 font-semibold"> </div>'),ia=be('<div class="fixed inset-0 bg-black/10 flex items-center justify-center z-50"><div class="bg-[#f5ecdd] rounded-lg p-8 w-96 shadow-lg"><h2 class="text-xl font-bold mb-6">비정상적 송금 금액입니다.</h2> <div class="mb-4"><!> <div class="flex justify-center items-center w-full"><img width="50%" height="50%" alt=""></div></div> <div class="flex gap-3 justify-end mt-6"><button type="button" class="px-4 py-2 rounded border bg-gray-100 hover:bg-gray-200">확인</button></div></div></div>');function oa(e,t){vt(t,!1);const[n,i]=mr(),o=()=>ft(nr,"$DepositWarningModalStore",n);Ve(t,"name",8);let a=Ve(t,"parameters",8),c=Ve(t,"exceedLimit",8),f=qe({});Jr(()=>{te(f,{...a()})});let v=qe("");function b(){var J,P;(P=(J=o())==null?void 0:J.resolver)==null||P.call(J,null),nr.set(null)}Fn(()=>(B(f),Kr(c())),()=>{B(f).amount!=null&&B(f).balance!=null&&B(f).amount>B(f).balance?te(v,`💸 현재 보유 금액(${B(f).balance.toLocaleString()}원)을 초과하여 ${B(f).amount.toLocaleString()}원을 송금하려고 합니다.`):B(f).amount!=null&&B(f).amount>=c()?te(v,`💸 제한 금액(${c().toLocaleString()}원)을 초과하여 ${B(f).amount.toLocaleString()}원을 송금하려고 합니다.`):te(v,"")}),jn(),qt();var y=ia(),x=ie(y),w=le(ie(x),2),E=ie(w);{var A=J=>{var P=na(),S=ie(P);gt(()=>ct(S,B(v))),fe(J,P)};Ne(E,J=>{B(v)&&J(A)})}var G=le(E,2),W=ie(G);ri(W,"src",ra);var Q=le(w,2),re=ie(Q);Mt("click",re,b),fe(e,y),ht(),i()}const aa=""+new URL("../images/tool_success.png",import.meta.url).href;var sa=be('<div class="fixed inset-0 bg-black/10 flex items-center justify-center z-50"><div class="bg-[#f4ede1] rounded-3xl p-8 w-96 shadow-lg aspect-square"><h2 class="text-xl font-extrabold mb-6 text-center w-full"> <br> <span class="font-light text-sm"> </span></h2> <div class="flex justify-center items-center w-full h-3/4"><img width="50%" height="50%" alt=""></div></div></div>');function ua(e,t){vt(t,!1);const[n,i]=mr(),o=()=>ft(ir,"$ToolModalStore",n);let a=Ve(t,"name",8),c=Ve(t,"title",8);function f(){var W,Q;(Q=(W=o())==null?void 0:W.resolver)==null||Q.call(W,null),ir.set(null)}setTimeout(()=>{f()},1500),qt();var v=sa(),b=ie(v),y=ie(b),x=ie(y),w=le(x,3),E=ie(w),A=le(y,2),G=ie(A);ri(G,"src",aa),gt(W=>{ct(x,c()||"도구를 사용했어요!"),ct(E,`- ${W??""} -`)},[()=>a().toLowerCase()],fr),fe(e,v),ht(),i()}var la=be(`<div class="fixed inset-0 bg-black/20 flex items-center justify-center z-50"><div class="bg-white rounded-lg p-6 w-96 shadow-lg"><h2 class="text-lg font-bold mb-4">도움말❓</h2> <div class="mb-4 space-y-2 text-sm text-gray-800 leading-relaxed"><ul class="list-disc list-inside"><li>메시지를 입력 후 전송 버튼을 누르면 AI가 응답합니다.</li> <li>송금 시에, 승인 여부를 확인하는 팝업이 나타납니다.</li> <li>송금은 '본인 음성 인증' 후에 팝업창에서 진행할 수 있습니다.</li> <li>한정 금액 이상을 보낼 시에 경고창이 출력됩니다.</li></ul></div> <button class="px-4 py-2 bg-gray-200 rounded hover:bg-gray-300">확인</button></div></div>`);function fa(e,t){vt(t,!1);const n=oi();function i(){n("close")}qt();var o=la(),a=ie(o),c=le(ie(a),4);Mt("click",c,i),fe(e,o),ht()}const da=(e,t)=>e.key==="Enter"&&t();var ca=be('<div class="w-full bg-amber-50/70 rounded-xl  px-3 py-2 text-sm break-words"><span class="text-xs text-gray-500">실행</span> </div>'),va=be('<span class="text-xs text-gray-500">Bella</span><br>',1),ha=be("<div><!> </div>"),pa=be('<div class="h-full w-full flex flex-col mx-auto p-8"><div class="flex-1 overflow-auto p-2 space-y-2"></div> <div class="flex gap-2 p-2"><input class="flex-1 px-3 py-2 text-lg rounded-3xl h-16 bg-white" placeholder="메시지 입력"> <button class="px-3 py-2 text-sm bg-white rounded-3xl aspect-square">전송</button> <button class="px-3 py-2 text-sm bg-white rounded-3xl aspect-square">❓</button></div></div> <!> <!> <!> <!>',1);function ma(e,t){vt(t,!0);const[n,i]=mr(),o=()=>ft(Dt,"$ApprovalModalStore",n),a=()=>ft(nr,"$DepositWarningModalStore",n),c=()=>ft(Zr,"$HelpModalStore",n),f=()=>ft(ir,"$ToolModalStore",n);let v=crypto.randomUUID();var b=!1;setInterval(async()=>{b&&(await(await fetch("/check-agent-request",{method:"POST"})).json()).status&&(b=!1,await or("신청한 송금이 승인되었습니다","승인되었어요 !"),y.push({role:"assistant",content:"송금신청이 승인 되었습니다!",type:"tool"}))},3e3);let y=tt([{role:"assistant",content:"안녕하세요!"},{role:"user",content:"안녕하세요!"}]),x=Je(""),w;async function E(H,ne,Te=!0){typeof H=="string"?y.push({role:"user",content:H}):y.push({role:"user",content:"APPROVAL_REQUIRED"});const pe=await fetch("/stream",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({thread_id:ne,query:H})});if(!pe.body)return;const we=pe.body.getReader(),u=new TextDecoder;let r=null;for(;;){const{value:s,done:h}=await we.read();if(h)break;const g=u.decode(s);for(let p of g.split(`

`)){if(!p.startsWith("data: "))continue;const _=p.slice(6);if(_!=="[DONE]")if(/^\[TOOL_END\](.*)\[\/TOOL_END\]$/.test(_)){const l=JSON.parse(_.match(/^\[TOOL_END\](.*)\[\/TOOL_END\]$/)[1]);y.push({role:"assistant",content:`${l.name} 도구가 사용되었습니다`,type:"tool"}),await or(l.name),l.name=="sendAgentRequest"&&l.content.includes("성공")&&(b=!0)}else if(/^\[APPROVAL_REQUIRED\](.*)\[\/APPROVAL_REQUIRED\]$/.test(_))if(Te){const[l,k,U]=_.match(/\[APPROVAL_REQUIRED\](.*?):\s*(\{.*\})\[\/APPROVAL_REQUIRED\]/)||[];if(k&&U)return{name:k,parameters:JSON.parse(U)}}else{const l=_.match(/^\[APPROVAL_REQUIRED\](.*)\[\/APPROVAL_REQUIRED\]$/)[1];y.push({role:"assistant",content:l,type:"tool"})}else r?y[y.length-1].content=y[y.length-1].content+_:(r={role:"assistant",content:_},y.push(r))}}return setTimeout(()=>w==null?void 0:w.scrollTo({top:w.scrollHeight}),0),null}let A=5e4;async function G(){const H=B(x).trim(),ne=await E(H,v);if(ne){ne.parameters.amount>=A&&await Go(ne.name,ne.parameters,A);const Te=await $o(ne.name,ne.parameters);await E(Te||{to_address:"",from_address:"",amount:0},v,!1)}}var W=pa(),Q=At(W),re=ie(Q);ti(re,21,()=>y,ei,(H,ne)=>{var Te=Yt(),pe=At(Te);{var we=r=>{var s=ca(),h=le(ie(s));gt(()=>ct(h,` : ${B(ne).content??""}`)),fe(r,s)},u=r=>{var s=ha(),h=ie(s);{var g=_=>{var l=va();fe(_,l)};Ne(h,_=>{B(ne).role=="assistant"&&B(ne).type!="tool"&&_(g)})}var p=le(h);gt(()=>{To(s,1,`max-w-[85%] px-3 py-2 text-base break-words rounded-xl w-full
			${B(ne).role==="user"?"text-right ml-auto bg-gray-100/70":"text-left bg-amber-50/70"}`),ct(p,` ${B(ne).content??""}`)}),fe(r,s)};Ne(pe,r=>{B(ne).type=="tool"?r(we):r(u,!1)})}fe(H,Te)}),Mo(re,H=>w=H,()=>w);var J=le(re,2),P=ie(J);P.__keydown=[da,G];var S=le(P,2);S.__click=G;var F=le(S,2);F.__click=function(...H){Tr==null||Tr.apply(this,H)};var C=le(Q,2);{var q=H=>{ta(H,{get name(){return o().name},get parameters(){return o().parameters}})};Ne(C,H=>{o()&&H(q)})}var V=le(C,2);{var X=H=>{oa(H,{get name(){return a().name},get parameters(){return a().parameters},exceedLimit:A})};Ne(V,H=>{a()&&H(X)})}var ve=le(V,2);{var Se=H=>{fa(H,{$$events:{close(...ne){Cr==null||Cr.apply(this,ne)}}})};Ne(ve,H=>{c()&&H(Se)})}var Ge=le(ve,2);{var ue=H=>{ua(H,{get name(){return f().name},get title(){return f().title}})};Ne(Ge,H=>{f()&&H(ue)})}Pr(P,()=>B(x),H=>te(x,H)),fe(e,W),ht(),i()}po(["keydown","click"]);var ga=be('<div class="w-[360px] h-[640px] bg-white border rounded-3xl shadow-lg p-4 flex flex-col"><!></div>'),ba=be('<main class="w-screen h-screen flex"><nav class="flex-1 flex flex-col items-center justify-center space-y-6 bg-gray-50"><a href="#/" class="text-xl hover:underline svelte-xnbhzl">홈</a> <a href="#/LLM" class="text-xl hover:underline svelte-xnbhzl">채팅</a></nav> <div class="flex-1 flex items-center justify-center bg-[url(/assets/images/background.png)] bg-center rounded-3xl"><!></div> <div class="flex-1 flex items-center justify-center bg-gray-50">pintech-team01</div></main>');function wa(e){const t={"/":zo,"/LLM":ma};var n=ba(),i=le(ie(n),2),o=ie(i);qo(o,{routes:t,useHash:!0,children:qi,$$slots:{default:(a,c)=>{const f=fr(()=>c.Component);var v=ga(),b=ie(v);Ir(b,()=>B(f),(y,x)=>{x(y,{})}),fe(a,v)}}}),fe(e,n)}go(wa,{target:document.getElementById("app")});
