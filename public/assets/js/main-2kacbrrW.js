(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();const Zr=!1;var Bt=Array.isArray,li=Array.prototype.indexOf,Ir=Array.from,wn=Object.defineProperty,nt=Object.getOwnPropertyDescriptor,yn=Object.getOwnPropertyDescriptors,di=Object.prototype,ci=Array.prototype,Br=Object.getPrototypeOf,en=Object.isExtensible;function Ct(e){return typeof e=="function"}const it=()=>{};function vi(e){return e()}function Mt(e){for(var t=0;t<e.length;t++)e[t]()}const Fe=2,_n=4,or=8,Fr=16,Ze=32,gt=64,Yt=128,Ee=256,Kt=512,xe=1024,ze=2048,ut=4096,Xe=8192,ar=16384,hi=32768,sr=65536,pi=1<<17,mi=1<<19,Rn=1<<20,Cr=1<<21,ot=Symbol("$state"),xn=Symbol("legacy props");function Sn(e){return e===this.v}function Tn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Nr(e){return!Tn(e,this.v)}function gi(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function bi(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function wi(e){throw new Error("https://svelte.dev/e/effect_orphan")}function yi(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function _i(e){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function Ri(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function xi(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Si(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ti(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let bt=!1,Ci=!1;function ki(){bt=!0}const jr=1,Wr=2,Cn=4,Li=8,Ai=16,Ei=1,Mi=2,Di=4,Oi=8,Ui=16,Pi=1,Ii=2,Ce=Symbol(),Bi="http://www.w3.org/1999/xhtml";function Fi(){throw new Error("https://svelte.dev/e/invalid_default_snippet")}function ur(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let ee=null;function tn(e){ee=e}function wt(e,t=!1,n){var i=ee={p:ee,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};bt&&!t&&(ee.l={s:null,u:null,r1:[],r2:Ut(!1)}),Vr(()=>{i.d=!0})}function yt(e){const t=ee;if(t!==null){const c=t.e;if(c!==null){var n=ie,i=ne;t.e=null;try{for(var o=0;o<c.length;o++){var a=c[o];st(a.effect),Ge(a.reaction),zr(a.fn)}}finally{st(n),Ge(i)}}ee=t.p,t.m=!0}return{}}function Ft(){return!bt||ee!==null&&ee.l===null}function tt(e){if(typeof e!="object"||e===null||ot in e)return e;const t=Br(e);if(t!==di&&t!==ci)return e;var n=new Map,i=Bt(e),o=Qe(0),a=ne,c=f=>{var v=ne;Ge(a);var p=f();return Ge(v),p};return i&&n.set("length",Qe(e.length)),new Proxy(e,{defineProperty(f,v,p){(!("value"in p)||p.configurable===!1||p.enumerable===!1||p.writable===!1)&&xi();var _=n.get(v);return _===void 0?(_=c(()=>Qe(p.value)),n.set(v,_)):re(_,c(()=>tt(p.value))),!0},deleteProperty(f,v){var p=n.get(v);if(p===void 0)v in f&&(n.set(v,c(()=>Qe(Ce))),_r(o));else{if(i&&typeof v=="string"){var _=n.get("length"),R=Number(v);Number.isInteger(R)&&R<_.v&&re(_,R)}re(p,Ce),_r(o)}return!0},get(f,v,p){var L;if(v===ot)return e;var _=n.get(v),R=v in f;if(_===void 0&&(!R||(L=nt(f,v))!=null&&L.writable)&&(_=c(()=>Qe(tt(R?f[v]:Ce))),n.set(v,_)),_!==void 0){var w=I(_);return w===Ce?void 0:w}return Reflect.get(f,v,p)},getOwnPropertyDescriptor(f,v){var p=Reflect.getOwnPropertyDescriptor(f,v);if(p&&"value"in p){var _=n.get(v);_&&(p.value=I(_))}else if(p===void 0){var R=n.get(v),w=R==null?void 0:R.v;if(R!==void 0&&w!==Ce)return{enumerable:!0,configurable:!0,value:w,writable:!0}}return p},has(f,v){var w;if(v===ot)return!0;var p=n.get(v),_=p!==void 0&&p.v!==Ce||Reflect.has(f,v);if(p!==void 0||ie!==null&&(!_||(w=nt(f,v))!=null&&w.writable)){p===void 0&&(p=c(()=>Qe(_?tt(f[v]):Ce)),n.set(v,p));var R=I(p);if(R===Ce)return!1}return _},set(f,v,p,_){var oe;var R=n.get(v),w=v in f;if(i&&v==="length")for(var L=p;L<R.v;L+=1){var A=n.get(L+"");A!==void 0?re(A,Ce):L in f&&(A=c(()=>Qe(Ce)),n.set(L+"",A))}R===void 0?(!w||(oe=nt(f,v))!=null&&oe.writable)&&(R=c(()=>Qe(void 0)),re(R,c(()=>tt(p))),n.set(v,R)):(w=R.v!==Ce,re(R,c(()=>tt(p))));var $=Reflect.getOwnPropertyDescriptor(f,v);if($!=null&&$.set&&$.set.call(_,p),!w){if(i&&typeof v=="string"){var W=n.get("length"),K=Number(v);Number.isInteger(K)&&K>=W.v&&re(W,K+1)}_r(o)}return!0},ownKeys(f){I(o);var v=Reflect.ownKeys(f).filter(R=>{var w=n.get(R);return w===void 0||w.v!==Ce});for(var[p,_]of n)_.v!==Ce&&!(p in f)&&v.push(p);return v},setPrototypeOf(){Si()}})}function _r(e,t=1){re(e,e.v+t)}function Dt(e){var t=Fe|ze,n=ne!==null&&(ne.f&Fe)!==0?ne:null;return ie===null||n!==null&&(n.f&Ee)!==0?t|=Ee:ie.f|=Rn,{ctx:ee,deps:null,effects:null,equals:Sn,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??ie}}function fr(e){const t=Dt(e);return t.equals=Nr,t}function kn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)at(t[n])}}function Ni(e){for(var t=e.parent;t!==null;){if((t.f&Fe)===0)return t;t=t.parent}return null}function Ln(e){var t,n=ie;st(Ni(e));try{kn(e),t=$n(e)}finally{st(n)}return t}function An(e){var t=Ln(e),n=(rt||(e.f&Ee)!==0)&&e.deps!==null?ut:xe;Pe(e,n),e.equals(t)||(e.v=t,e.wv=zn())}const Ot=new Map;function Ut(e,t){var n={f:0,v:e,reactions:null,equals:Sn,rv:0,wv:0};return n}function Qe(e,t){const n=Ut(e);return Qi(n),n}function qe(e,t=!1){var i;const n=Ut(e);return t||(n.equals=Nr),bt&&ee!==null&&ee.l!==null&&((i=ee.l).s??(i.s=[])).push(n),n}function Rr(e,t){return re(e,Ne(()=>I(e))),t}function re(e,t,n=!1){ne!==null&&!We&&Ft()&&(ne.f&(Fe|Fr))!==0&&!(Re!=null&&Re.includes(e))&&Ti();let i=n?tt(t):t;return kr(e,i)}function kr(e,t){if(!e.equals(t)){var n=e.v;Nt?Ot.set(e,t):Ot.set(e,n),e.v=t,(e.f&Fe)!==0&&((e.f&ze)!==0&&Ln(e),Pe(e,(e.f&Ee)===0?xe:ut)),e.wv=zn(),En(e,ze),Ft()&&ie!==null&&(ie.f&xe)!==0&&(ie.f&(Ze|gt))===0&&(Ue===null?Ji([e]):Ue.push(e))}return t}function En(e,t){var n=e.reactions;if(n!==null)for(var i=Ft(),o=n.length,a=0;a<o;a++){var c=n[a],f=c.f;(f&ze)===0&&(!i&&c===ie||(Pe(c,t),(f&(xe|Ee))!==0&&((f&Fe)!==0?En(c,ut):hr(c))))}}let ji=!1;var rn,Mn,Dn,On;function Wi(){if(rn===void 0){rn=window,Mn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Dn=nt(t,"firstChild").get,On=nt(t,"nextSibling").get,en(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),en(n)&&(n.__t=void 0)}}function qr(e=""){return document.createTextNode(e)}function Qt(e){return Dn.call(e)}function lr(e){return On.call(e)}function se(e,t){return Qt(e)}function Lt(e,t){{var n=Qt(e);return n instanceof Comment&&n.data===""?lr(n):n}}function me(e,t=1,n=!1){let i=e;for(;t--;)i=lr(i);return i}function qi(e){e.textContent=""}function Un(e){ie===null&&ne===null&&wi(),ne!==null&&(ne.f&Ee)!==0&&ie===null&&bi(),Nt&&gi()}function Vi(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function _t(e,t,n,i=!0){var o=ie,a={ctx:ee,deps:null,nodes_start:null,nodes_end:null,f:e|ze,first:null,fn:t,last:null,next:null,parent:o,prev:null,teardown:null,transitions:null,wv:0};if(n)try{vr(a),a.f|=hi}catch(v){throw at(a),v}else t!==null&&hr(a);var c=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(Rn|Yt))===0;if(!c&&i&&(o!==null&&Vi(a,o),ne!==null&&(ne.f&Fe)!==0)){var f=ne;(f.effects??(f.effects=[])).push(a)}return a}function Vr(e){const t=_t(or,null,!1);return Pe(t,xe),t.teardown=e,t}function Lr(e){Un();var t=ie!==null&&(ie.f&Ze)!==0&&ee!==null&&!ee.m;if(t){var n=ee;(n.e??(n.e=[])).push({fn:e,effect:ie,reaction:ne})}else{var i=zr(e);return i}}function zi(e){return Un(),Rt(e)}function Gi(e){const t=_t(gt,e,!0);return(n={})=>new Promise(i=>{n.outro?Pt(t,()=>{at(t),i(void 0)}):(at(t),i(void 0))})}function zr(e){return _t(_n,e,!1)}function Pn(e,t){var n=ee,i={effect:null,ran:!1};n.l.r1.push(i),i.effect=Rt(()=>{e(),!i.ran&&(i.ran=!0,re(n.l.r2,!0),Ne(t))})}function In(){var e=ee;Rt(()=>{if(I(e.l.r2)){for(var t of e.l.r1){var n=t.effect;(n.f&xe)!==0&&Pe(n,ut),xt(n)&&vr(n),t.ran=!1}e.l.r2.v=!1}})}function Rt(e){return _t(or,e,!0)}function pt(e,t=[],n=Dt){const i=t.map(n);return dr(()=>e(...i.map(I)))}function dr(e,t=0){return _t(or|Fr|t,e,!0)}function mt(e,t=!0){return _t(or|Ze,e,!0,t)}function Bn(e){var t=e.teardown;if(t!==null){const n=Nt,i=ne;nn(!0),Ge(null);try{t.call(null)}finally{nn(n),Ge(i)}}}function Fn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var i=n.next;(n.f&gt)!==0?n.parent=null:at(n,t),n=i}}function $i(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Ze)===0&&at(t),t=n}}function at(e,t=!0){var n=!1;(t||(e.f&mi)!==0)&&e.nodes_start!==null&&(Hi(e.nodes_start,e.nodes_end),n=!0),Fn(e,t&&!n),tr(e,0),Pe(e,ar);var i=e.transitions;if(i!==null)for(const a of i)a.stop();Bn(e);var o=e.parent;o!==null&&o.first!==null&&Nn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Hi(e,t){for(;e!==null;){var n=e===t?null:lr(e);e.remove(),e=n}}function Nn(e){var t=e.parent,n=e.prev,i=e.next;n!==null&&(n.next=i),i!==null&&(i.prev=n),t!==null&&(t.first===e&&(t.first=i),t.last===e&&(t.last=n))}function Pt(e,t){var n=[];Gr(e,n,!0),jn(n,()=>{at(e),t&&t()})}function jn(e,t){var n=e.length;if(n>0){var i=()=>--n||t();for(var o of e)o.out(i)}else t()}function Gr(e,t,n){if((e.f&Xe)===0){if(e.f^=Xe,e.transitions!==null)for(const c of e.transitions)(c.is_global||n)&&t.push(c);for(var i=e.first;i!==null;){var o=i.next,a=(i.f&sr)!==0||(i.f&Ze)!==0;Gr(i,t,a?n:!1),i=o}}}function Jt(e){Wn(e,!0)}function Wn(e,t){if((e.f&Xe)!==0){e.f^=Xe,(e.f&xe)===0&&(e.f^=xe),xt(e)&&(Pe(e,ze),hr(e));for(var n=e.first;n!==null;){var i=n.next,o=(n.f&sr)!==0||(n.f&Ze)!==0;Wn(n,o?t:!1),n=i}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let It=[],Ar=[];function qn(){var e=It;It=[],Mt(e)}function Yi(){var e=Ar;Ar=[],Mt(e)}function $r(e){It.length===0&&queueMicrotask(qn),It.push(e)}function Ki(){It.length>0&&qn(),Ar.length>0&&Yi()}let Gt=!1,Xt=!1,Zt=null,lt=!1,Nt=!1;function nn(e){Nt=e}let At=[];let ne=null,We=!1;function Ge(e){ne=e}let ie=null;function st(e){ie=e}let Re=null;function Qi(e){ne!==null&&ne.f&Cr&&(Re===null?Re=[e]:Re.push(e))}let _e=null,Ae=0,Ue=null;function Ji(e){Ue=e}let Vn=1,er=0,rt=!1;function zn(){return++Vn}function xt(e){var R;var t=e.f;if((t&ze)!==0)return!0;if((t&ut)!==0){var n=e.deps,i=(t&Ee)!==0;if(n!==null){var o,a,c=(t&Kt)!==0,f=i&&ie!==null&&!rt,v=n.length;if(c||f){var p=e,_=p.parent;for(o=0;o<v;o++)a=n[o],(c||!((R=a==null?void 0:a.reactions)!=null&&R.includes(p)))&&(a.reactions??(a.reactions=[])).push(p);c&&(p.f^=Kt),f&&_!==null&&(_.f&Ee)===0&&(p.f^=Ee)}for(o=0;o<v;o++)if(a=n[o],xt(a)&&An(a),a.wv>e.wv)return!0}(!i||ie!==null&&!rt)&&Pe(e,xe)}return!1}function Xi(e,t){for(var n=t;n!==null;){if((n.f&Yt)!==0)try{n.fn(e);return}catch{n.f^=Yt}n=n.parent}throw Gt=!1,e}function on(e){return(e.f&ar)===0&&(e.parent===null||(e.parent.f&Yt)===0)}function cr(e,t,n,i){if(Gt){if(n===null&&(Gt=!1),on(t))throw e;return}if(n!==null&&(Gt=!0),Xi(e,t),on(t))throw e}function Gn(e,t,n=!0){var i=e.reactions;if(i!==null)for(var o=0;o<i.length;o++){var a=i[o];Re!=null&&Re.includes(e)||((a.f&Fe)!==0?Gn(a,t,!1):t===a&&(n?Pe(a,ze):(a.f&xe)!==0&&Pe(a,ut),hr(a)))}}function $n(e){var L;var t=_e,n=Ae,i=Ue,o=ne,a=rt,c=Re,f=ee,v=We,p=e.f;_e=null,Ae=0,Ue=null,rt=(p&Ee)!==0&&(We||!lt||ne===null),ne=(p&(Ze|gt))===0?e:null,Re=null,tn(e.ctx),We=!1,er++,e.f|=Cr;try{var _=(0,e.fn)(),R=e.deps;if(_e!==null){var w;if(tr(e,Ae),R!==null&&Ae>0)for(R.length=Ae+_e.length,w=0;w<_e.length;w++)R[Ae+w]=_e[w];else e.deps=R=_e;if(!rt)for(w=Ae;w<R.length;w++)((L=R[w]).reactions??(L.reactions=[])).push(e)}else R!==null&&Ae<R.length&&(tr(e,Ae),R.length=Ae);if(Ft()&&Ue!==null&&!We&&R!==null&&(e.f&(Fe|ut|ze))===0)for(w=0;w<Ue.length;w++)Gn(Ue[w],e);return o!==null&&o!==e&&(er++,Ue!==null&&(i===null?i=Ue:i.push(...Ue))),_}finally{_e=t,Ae=n,Ue=i,ne=o,rt=a,Re=c,tn(f),We=v,e.f^=Cr}}function Zi(e,t){let n=t.reactions;if(n!==null){var i=li.call(n,e);if(i!==-1){var o=n.length-1;o===0?n=t.reactions=null:(n[i]=n[o],n.pop())}}n===null&&(t.f&Fe)!==0&&(_e===null||!_e.includes(t))&&(Pe(t,ut),(t.f&(Ee|Kt))===0&&(t.f^=Kt),kn(t),tr(t,0))}function tr(e,t){var n=e.deps;if(n!==null)for(var i=t;i<n.length;i++)Zi(e,n[i])}function vr(e){var t=e.f;if((t&ar)===0){Pe(e,xe);var n=ie,i=ee,o=lt;ie=e,lt=!0;try{(t&Fr)!==0?$i(e):Fn(e),Bn(e);var a=$n(e);e.teardown=typeof a=="function"?a:null,e.wv=Vn;var c=e.deps,f;Zr&&Ci&&e.f&ze}catch(v){cr(v,e,n,i||e.ctx)}finally{lt=o,ie=n}}}function eo(){try{yi()}catch(e){if(Zt!==null)cr(e,Zt,null);else throw e}}function Hn(){var e=lt;try{var t=0;for(lt=!0;At.length>0;){t++>1e3&&eo();var n=At,i=n.length;At=[];for(var o=0;o<i;o++){var a=ro(n[o]);to(a)}Ot.clear()}}finally{Xt=!1,lt=e,Zt=null}}function to(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var i=e[n];if((i.f&(ar|Xe))===0)try{xt(i)&&(vr(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null?Nn(i):i.fn=null))}catch(o){cr(o,i,null,i.ctx)}}}function hr(e){Xt||(Xt=!0,queueMicrotask(Hn));for(var t=Zt=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(gt|Ze))!==0){if((n&xe)===0)return;t.f^=xe}}At.push(t)}function ro(e){for(var t=[],n=e;n!==null;){var i=n.f,o=(i&(Ze|gt))!==0,a=o&&(i&xe)!==0;if(!a&&(i&Xe)===0){if((i&_n)!==0)t.push(n);else if(o)n.f^=xe;else try{xt(n)&&vr(n)}catch(v){cr(v,n,null,n.ctx)}var c=n.first;if(c!==null){n=c;continue}}var f=n.parent;for(n=n.next;n===null&&f!==null;)n=f.next,f=f.parent}return t}function no(e){for(var t;;){if(Ki(),At.length===0)return t;Xt=!0,Hn()}}async function io(){await Promise.resolve(),no()}function I(e){var t=e.f,n=(t&Fe)!==0;if(ne!==null&&!We){if(!(Re!=null&&Re.includes(e))){var i=ne.deps;e.rv<er&&(e.rv=er,_e===null&&i!==null&&i[Ae]===e?Ae++:_e===null?_e=[e]:(!rt||!_e.includes(e))&&_e.push(e))}}else if(n&&e.deps===null&&e.effects===null){var o=e,a=o.parent;a!==null&&(a.f&Ee)===0&&(o.f^=Ee)}return n&&(o=e,xt(o)&&An(o)),Nt&&Ot.has(e)?Ot.get(e):e.v}function Ne(e){var t=We;try{return We=!0,e()}finally{We=t}}const oo=-7169;function Pe(e,t){e.f=e.f&oo|t}function Hr(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ot in e)Er(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&ot in n&&Er(n)}}}function Er(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let i in e)try{Er(e[i],t)}catch{}const n=Br(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const i=yn(n);for(let o in i){const a=i[o].get;if(a)try{a.call(e)}catch{}}}}}const ao=["touchstart","touchmove"];function so(e){return ao.includes(e)}let an=!1;function uo(){an||(an=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function Yn(e){var t=ne,n=ie;Ge(null),st(null);try{return e()}finally{Ge(t),st(n)}}function Kn(e,t,n,i=n){e.addEventListener(t,()=>Yn(n));const o=e.__on_r;o?e.__on_r=()=>{o(),i(!0)}:e.__on_r=()=>i(!0),uo()}const Qn=new Set,Mr=new Set;function fo(e,t,n,i={}){function o(a){if(i.capture||kt.call(t,a),!a.cancelBubble)return Yn(()=>n==null?void 0:n.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?$r(()=>{t.addEventListener(e,o,i)}):t.addEventListener(e,o,i),o}function $t(e,t,n,i,o){var a={capture:i,passive:o},c=fo(e,t,n,a);(t===document.body||t===window||t===document)&&Vr(()=>{t.removeEventListener(e,c,a)})}function lo(e){for(var t=0;t<e.length;t++)Qn.add(e[t]);for(var n of Mr)n(e)}function kt(e){var oe;var t=this,n=t.ownerDocument,i=e.type,o=((oe=e.composedPath)==null?void 0:oe.call(e))||[],a=o[0]||e.target,c=0,f=e.__root;if(f){var v=o.indexOf(f);if(v!==-1&&(t===document||t===window)){e.__root=t;return}var p=o.indexOf(t);if(p===-1)return;v<=p&&(c=v)}if(a=o[c]||e.target,a!==t){wn(e,"currentTarget",{configurable:!0,get(){return a||n}});var _=ne,R=ie;Ge(null),st(null);try{for(var w,L=[];a!==null;){var A=a.assignedSlot||a.parentNode||a.host||null;try{var $=a["__"+i];if($!=null&&(!a.disabled||e.target===a))if(Bt($)){var[W,...K]=$;W.apply(a,[e,...K])}else $.call(a,e)}catch(Q){w?L.push(Q):w=Q}if(e.cancelBubble||A===t||A===null)break;a=A}if(w){for(let Q of L)queueMicrotask(()=>{throw Q});throw w}}finally{e.__root=t,delete e.currentTarget,Ge(_),st(R)}}}function co(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Dr(e,t){var n=ie;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function Se(e,t){var n=(t&Pi)!==0,i=(t&Ii)!==0,o,a=!e.startsWith("<!>");return()=>{o===void 0&&(o=co(a?e:"<!>"+e),n||(o=Qt(o)));var c=i||Mn?document.importNode(o,!0):o.cloneNode(!0);if(n){var f=Qt(c),v=c.lastChild;Dr(f,v)}else Dr(c,c);return c}}function Ht(){var e=document.createDocumentFragment(),t=document.createComment(""),n=qr();return e.append(t,n),Dr(t,n),e}function de(e,t){e!==null&&e.before(t)}function dt(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function vo(e,t){return ho(e,t)}const ct=new Map;function ho(e,{target:t,anchor:n,props:i={},events:o,context:a,intro:c=!0}){Wi();var f=new Set,v=R=>{for(var w=0;w<R.length;w++){var L=R[w];if(!f.has(L)){f.add(L);var A=so(L);t.addEventListener(L,kt,{passive:A});var $=ct.get(L);$===void 0?(document.addEventListener(L,kt,{passive:A}),ct.set(L,1)):ct.set(L,$+1)}}};v(Ir(Qn)),Mr.add(v);var p=void 0,_=Gi(()=>{var R=n??t.appendChild(qr());return mt(()=>{if(a){wt({});var w=ee;w.c=a}o&&(i.$$events=o),p=e(R,i)||{},a&&yt()}),()=>{var A;for(var w of f){t.removeEventListener(w,kt);var L=ct.get(w);--L===0?(document.removeEventListener(w,kt),ct.delete(w)):ct.set(w,L)}Mr.delete(v),R!==n&&((A=R.parentNode)==null||A.removeChild(R))}});return po.set(p,_),p}let po=new WeakMap;function Je(e,t,[n,i]=[0,0]){var o=e,a=null,c=null,f=Ce,v=n>0?sr:0,p=!1;const _=(w,L=!0)=>{p=!0,R(L,w)},R=(w,L)=>{f!==(f=w)&&(f?(a?Jt(a):L&&(a=mt(()=>L(o))),c&&Pt(c,()=>{c=null})):(c?Jt(c):L&&(c=mt(()=>L(o,[n+1,i]))),a&&Pt(a,()=>{a=null})))};dr(()=>{p=!1,t(_),p||R(null,null)},v)}function Jn(e,t){return t}function mo(e,t,n,i){for(var o=[],a=t.length,c=0;c<a;c++)Gr(t[c].e,o,!0);var f=a>0&&o.length===0&&n!==null;if(f){var v=n.parentNode;qi(v),v.append(n),i.clear(),et(e,t[0].prev,t[a-1].next)}jn(o,()=>{for(var p=0;p<a;p++){var _=t[p];f||(i.delete(_.k),et(e,_.prev,_.next)),at(_.e,!f)}})}function Xn(e,t,n,i,o,a=null){var c=e,f={flags:t,items:new Map,first:null},v=(t&Cn)!==0;if(v){var p=e;c=p.appendChild(qr())}var _=null,R=!1,w=fr(()=>{var L=n();return Bt(L)?L:L==null?[]:Ir(L)});dr(()=>{var L=I(w),A=L.length;R&&A===0||(R=A===0,go(L,f,c,o,t,i,n),a!==null&&(A===0?_?Jt(_):_=mt(()=>a(c)):_!==null&&Pt(_,()=>{_=null})),I(w))})}function go(e,t,n,i,o,a,c){var ae,ge,ke,ce;var f=(o&Li)!==0,v=(o&(jr|Wr))!==0,p=e.length,_=t.items,R=t.first,w=R,L,A=null,$,W=[],K=[],oe,Q,B,S;if(f)for(S=0;S<p;S+=1)oe=e[S],Q=a(oe,S),B=_.get(Q),B!==void 0&&((ae=B.a)==null||ae.measure(),($??($=new Set)).add(B));for(S=0;S<p;S+=1){if(oe=e[S],Q=a(oe,S),B=_.get(Q),B===void 0){var F=w?w.e.nodes_start:n;A=wo(F,t,A,A===null?t.first:A.next,oe,Q,S,i,o,c),_.set(Q,A),W=[],K=[],w=A.next;continue}if(v&&bo(B,oe,S,o),(B.e.f&Xe)!==0&&(Jt(B.e),f&&((ge=B.a)==null||ge.unfix(),($??($=new Set)).delete(B))),B!==w){if(L!==void 0&&L.has(B)){if(W.length<K.length){var C=K[0],q;A=C.prev;var z=W[0],X=W[W.length-1];for(q=0;q<W.length;q+=1)sn(W[q],C,n);for(q=0;q<K.length;q+=1)L.delete(K[q]);et(t,z.prev,X.next),et(t,A,z),et(t,X,C),w=C,A=X,S-=1,W=[],K=[]}else L.delete(B),sn(B,w,n),et(t,B.prev,B.next),et(t,B,A===null?t.first:A.next),et(t,A,B),A=B;continue}for(W=[],K=[];w!==null&&w.k!==Q;)(w.e.f&Xe)===0&&(L??(L=new Set)).add(w),K.push(w),w=w.next;if(w===null)continue;B=w}W.push(B),A=B,w=B.next}if(w!==null||L!==void 0){for(var H=L===void 0?[]:Ir(L);w!==null;)(w.e.f&Xe)===0&&H.push(w),w=w.next;var te=H.length;if(te>0){var Te=(o&Cn)!==0&&p===0?n:null;if(f){for(S=0;S<te;S+=1)(ke=H[S].a)==null||ke.measure();for(S=0;S<te;S+=1)(ce=H[S].a)==null||ce.fix()}mo(t,H,Te,_)}}f&&$r(()=>{var fe;if($!==void 0)for(B of $)(fe=B.a)==null||fe.apply()}),ie.first=t.first&&t.first.e,ie.last=A&&A.e}function bo(e,t,n,i){(i&jr)!==0&&kr(e.v,t),(i&Wr)!==0?kr(e.i,n):e.i=n}function wo(e,t,n,i,o,a,c,f,v,p){var _=(v&jr)!==0,R=(v&Ai)===0,w=_?R?qe(o):Ut(o):o,L=(v&Wr)===0?c:Ut(c),A={i:L,v:w,k:a,a:null,e:null,prev:n,next:i};try{return A.e=mt(()=>f(e,w,L,p),ji),A.e.prev=n&&n.e,A.e.next=i&&i.e,n===null?t.first=A:(n.next=A,n.e.next=A.e),i!==null&&(i.prev=A,i.e.prev=A.e),A}finally{}}function sn(e,t,n){for(var i=e.next?e.next.e.nodes_start:n,o=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==i;){var c=lr(a);o.before(a),a=c}}function et(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Or(e,t,n){var i=e,o,a;dr(()=>{o!==(o=t())&&(a&&(Pt(a),a=null),o&&(a=mt(()=>n(i,o))))},sr)}function yo(e,t,n){var i=e==null?"":""+e;return i===""?null:i}function _o(e,t,n,i,o,a){var c=e.__className;if(c!==n||c===void 0){var f=yo(n);f==null?e.removeAttribute("class"):e.className=f,e.__className=n}return a}const Ro=Symbol("is custom element"),xo=Symbol("is html");function Zn(e,t,n,i){var o=So(e);o[t]!==(o[t]=n)&&(n==null?e.removeAttribute(t):typeof n!="string"&&To(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function So(e){return e.__attributes??(e.__attributes={[Ro]:e.nodeName.includes("-"),[xo]:e.namespaceURI===Bi})}var un=new Map;function To(e){var t=un.get(e.nodeName);if(t)return t;un.set(e.nodeName,t=[]);for(var n,i=e,o=Element.prototype;o!==i;){n=yn(i);for(var a in n)n[a].set&&t.push(a);i=Br(i)}return t}function Ur(e,t,n=t){var i=Ft();Kn(e,"input",o=>{var a=o?e.defaultValue:e.value;if(a=xr(e)?Sr(a):a,n(a),i&&a!==(a=t())){var c=e.selectionStart,f=e.selectionEnd;e.value=a??"",f!==null&&(e.selectionStart=c,e.selectionEnd=Math.min(f,e.value.length))}}),Ne(t)==null&&e.value&&n(xr(e)?Sr(e.value):e.value),Rt(()=>{var o=t();xr(e)&&o===Sr(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function Co(e,t,n=t){Kn(e,"change",i=>{var o=i?e.defaultChecked:e.checked;n(o)}),Ne(t)==null&&n(e.checked),Rt(()=>{var i=t();e.checked=!!i})}function xr(e){var t=e.type;return t==="number"||t==="range"}function Sr(e){return e===""?null:+e}function fn(e,t){return e===t||(e==null?void 0:e[ot])===t}function ko(e={},t,n,i){return zr(()=>{var o,a;return Rt(()=>{o=a,a=[],Ne(()=>{e!==n(...a)&&(t(e,...a),o&&fn(n(...o),e)&&t(null,...o))})}),()=>{$r(()=>{a&&fn(n(...a),e)&&t(null,...a)})}}),e}function Lo(e){return function(...t){var n=t[0];return n.preventDefault(),e==null?void 0:e.apply(this,t)}}function pr(e=!1){const t=ee,n=t.l.u;if(!n)return;let i=()=>Hr(t.s);if(e){let o=0,a={};const c=Dt(()=>{let f=!1;const v=t.s;for(const p in v)v[p]!==a[p]&&(a[p]=v[p],f=!0);return f&&o++,o});i=()=>I(c)}n.b.length&&zi(()=>{ln(t,i),Mt(n.b)}),Lr(()=>{const o=Ne(()=>n.m.map(vi));return()=>{for(const a of o)typeof a=="function"&&a()}}),n.a.length&&Lr(()=>{ln(t,i),Mt(n.a)})}function ln(e,t){if(e.l.s)for(const n of e.l.s)I(n);t()}function dn(e,t){var a;var n=(a=e.$$events)==null?void 0:a[t.type],i=Bt(n)?n.slice():n==null?[]:[n];for(var o of i)o.call(this,t)}function Yr(e,t,n){if(e==null)return t(void 0),n&&n(void 0),it;const i=Ne(()=>e.subscribe(t,n));return i.unsubscribe?()=>i.unsubscribe():i}const vt=[];function ei(e,t){return{subscribe:jt(e,t).subscribe}}function jt(e,t=it){let n=null;const i=new Set;function o(f){if(Tn(e,f)&&(e=f,n)){const v=!vt.length;for(const p of i)p[1](),vt.push(p,e);if(v){for(let p=0;p<vt.length;p+=2)vt[p][0](vt[p+1]);vt.length=0}}}function a(f){o(f(e))}function c(f,v=it){const p=[f,v];return i.add(p),i.size===1&&(n=t(o,a)||it),f(e),()=>{i.delete(p),i.size===0&&n&&(n(),n=null)}}return{set:o,update:a,subscribe:c}}function ti(e,t,n){const i=!Array.isArray(e),o=i?[e]:e;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=t.length<2;return ei(n,(c,f)=>{let v=!1;const p=[];let _=0,R=it;const w=()=>{if(_)return;R();const A=t(i?p[0]:p,c,f);a?c(A):R=typeof A=="function"?A:it},L=o.map((A,$)=>Yr(A,W=>{p[$]=W,_&=~(1<<$),v&&w()},()=>{_|=1<<$}));return v=!0,w(),function(){Mt(L),R(),v=!1}})}function Ao(e){let t;return Yr(e,n=>t=n)(),t}let zt=!1,Pr=Symbol();function ht(e,t,n){const i=n[t]??(n[t]={store:null,source:qe(void 0),unsubscribe:it});if(i.store!==e&&!(Pr in n))if(i.unsubscribe(),i.store=e??null,e==null)i.source.v=void 0,i.unsubscribe=it;else{var o=!0;i.unsubscribe=Yr(e,a=>{o?i.source.v=a:re(i.source,a)}),o=!1}return e&&Pr in n?Ao(e):I(i.source)}function mr(){const e={};function t(){Vr(()=>{for(var n in e)e[n].unsubscribe();wn(e,Pr,{enumerable:!1,value:!0})})}return[e,t]}function Eo(e){var t=zt;try{return zt=!1,[e(),zt]}finally{zt=t}}const Mo={get(e,t){let n=e.props.length;for(;n--;){let i=e.props[n];if(Ct(i)&&(i=i()),typeof i=="object"&&i!==null&&t in i)return i[t]}},set(e,t,n){let i=e.props.length;for(;i--;){let o=e.props[i];Ct(o)&&(o=o());const a=nt(o,t);if(a&&a.set)return a.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let i=e.props[n];if(Ct(i)&&(i=i()),typeof i=="object"&&i!==null&&t in i){const o=nt(i,t);return o&&!o.configurable&&(o.configurable=!0),o}}},has(e,t){if(t===ot||t===xn)return!1;for(let n of e.props)if(Ct(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){const t=[];for(let n of e.props){Ct(n)&&(n=n());for(const i in n)t.includes(i)||t.push(i)}return t}};function cn(...e){return new Proxy({props:e},Mo)}function vn(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function Ve(e,t,n,i){var F;var o=(n&Ei)!==0,a=!bt||(n&Mi)!==0,c=(n&Oi)!==0,f=(n&Ui)!==0,v=!1,p;c?[p,v]=Eo(()=>e[t]):p=e[t];var _=ot in e||xn in e,R=c&&(((F=nt(e,t))==null?void 0:F.set)??(_&&t in e&&(C=>e[t]=C)))||void 0,w=i,L=!0,A=!1,$=()=>(A=!0,L&&(L=!1,f?w=Ne(i):w=i),w);p===void 0&&i!==void 0&&(R&&a&&Ri(),p=$(),R&&R(p));var W;if(a)W=()=>{var C=e[t];return C===void 0?$():(L=!0,A=!1,C)};else{var K=(o?Dt:fr)(()=>e[t]);K.f|=pi,W=()=>{var C=I(K);return C!==void 0&&(w=void 0),C===void 0?w:C}}if((n&Di)===0)return W;if(R){var oe=e.$$legacy;return function(C,q){return arguments.length>0?((!a||!q||oe||v)&&R(q?W():C),C):W()}}var Q=!1,B=qe(p),S=Dt(()=>{var C=W(),q=I(B);return Q?(Q=!1,q):B.v=C});return c&&I(S),o||(S.equals=Nr),function(C,q){if(arguments.length>0){const z=q?I(S):a&&c?tt(C):C;if(!S.equals(z)){if(Q=!0,re(B,z),A&&w!==void 0&&(w=z),vn(S))return C;Ne(()=>I(S))}return C}return vn(S)?S.v:I(S)}}function Kr(e){ee===null&&ur(),bt&&ee.l!==null?ri(ee).m.push(e):Lr(()=>{const t=Ne(e);if(typeof t=="function")return t})}function Do(e){ee===null&&ur(),Kr(()=>()=>Ne(e))}function Oo(e,t,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:i})}function Uo(){const e=ee;return e===null&&ur(),(t,n,i)=>{var a;const o=(a=e.s.$$events)==null?void 0:a[t];if(o){const c=Bt(o)?o.slice():[o],f=Oo(t,n,i);for(const v of c)v.call(e.x,f);return!f.defaultPrevented}return!0}}function Po(e){ee===null&&ur(),ee.l===null&&_i(),ri(ee).a.push(e)}function ri(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Io="5";var bn;typeof window<"u"&&((bn=window.__svelte??(window.__svelte={})).v??(bn.v=new Set)).add(Io);ki();function Bo(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,i,o,a,c=[],f="",v=e.split("/");for(v[0]||v.shift();o=v.shift();)n=o[0],n==="*"?(c.push("wild"),f+="/(.*)"):n===":"?(i=o.indexOf("?",1),a=o.indexOf(".",1),c.push(o.substring(1,~i?i:~a?a:o.length)),f+=~i&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(f+=(~i?"?":"")+"\\"+o.substring(a))):f+="/"+o;return{keys:c,pattern:new RegExp("^"+f+"/?$","i")}}function hn(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let i="";return n>-1&&(i=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:i}}const Qr=ei(null,function(t){t(hn());const n=()=>{t(hn())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});ti(Qr,e=>e.location);ti(Qr,e=>e.querystring);const pn=jt(void 0);function Fo(e){e?window.scrollTo(e.__svelte_spa_router_scrollX,e.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function No(e,t){wt(t,!1);let n=Ve(t,"routes",24,()=>({})),i=Ve(t,"prefix",8,""),o=Ve(t,"restoreScrollState",8,!1);class a{constructor(F,C){if(!C||typeof C!="function"&&(typeof C!="object"||C._sveltesparouter!==!0))throw Error("Invalid component object");if(!F||typeof F=="string"&&(F.length<1||F.charAt(0)!="/"&&F.charAt(0)!="*")||typeof F=="object"&&!(F instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:q,keys:z}=Bo(F);this.path=F,typeof C=="object"&&C._sveltesparouter===!0?(this.component=C.component,this.conditions=C.conditions||[],this.userData=C.userData,this.props=C.props||{}):(this.component=()=>Promise.resolve(C),this.conditions=[],this.props={}),this._pattern=q,this._keys=z}match(F){if(i()){if(typeof i()=="string")if(F.startsWith(i()))F=F.substr(i().length)||"/";else return null;else if(i()instanceof RegExp){const X=F.match(i());if(X&&X[0])F=F.substr(X[0].length)||"/";else return null}}const C=this._pattern.exec(F);if(C===null)return null;if(this._keys===!1)return C;const q={};let z=0;for(;z<this._keys.length;){try{q[this._keys[z]]=decodeURIComponent(C[z+1]||"")||null}catch{q[this._keys[z]]=null}z++}return q}async checkConditions(F){for(let C=0;C<this.conditions.length;C++)if(!await this.conditions[C](F))return!1;return!0}}const c=[];n()instanceof Map?n().forEach((S,F)=>{c.push(new a(F,S))}):Object.keys(n()).forEach(S=>{c.push(new a(S,n()[S]))});let f=qe(null),v=qe(null),p=qe({});const _=Uo();async function R(S,F){await io(),_(S,F)}let w=null,L=null;o()&&(L=S=>{S.state&&(S.state.__svelte_spa_router_scrollY||S.state.__svelte_spa_router_scrollX)?w=S.state:w=null},window.addEventListener("popstate",L),Po(()=>{Fo(w)}));let A=null,$=null;const W=Qr.subscribe(async S=>{A=S;let F=0;for(;F<c.length;){const C=c[F].match(S.location);if(!C){F++;continue}const q={route:c[F].path,location:S.location,querystring:S.querystring,userData:c[F].userData,params:C&&typeof C=="object"&&Object.keys(C).length?C:null};if(!await c[F].checkConditions(q)){re(f,null),$=null,R("conditionsFailed",q);return}R("routeLoading",Object.assign({},q));const z=c[F].component;if($!=z){z.loading?(re(f,z.loading),$=z,re(v,z.loadingParams),re(p,{}),R("routeLoaded",Object.assign({},q,{component:I(f),name:I(f).name,params:I(v)}))):(re(f,null),$=null);const X=await z();if(S!=A)return;re(f,X&&X.default||X),$=z}C&&typeof C=="object"&&Object.keys(C).length?re(v,C):re(v,null),re(p,c[F].props),R("routeLoaded",Object.assign({},q,{component:I(f),name:I(f).name,params:I(v)})).then(()=>{pn.set(I(v))});return}re(f,null),$=null,pn.set(void 0)});Do(()=>{W(),L&&window.removeEventListener("popstate",L)}),Pn(()=>Hr(o()),()=>{history.scrollRestoration=o()?"manual":"auto"}),In(),pr();var K=Ht(),oe=Lt(K);{var Q=S=>{var F=Ht(),C=Lt(F);Or(C,()=>I(f),(q,z)=>{z(q,cn({get params(){return I(v)}},()=>I(p),{$$events:{routeEvent(X){dn.call(this,t,X)}}}))}),de(S,F)},B=S=>{var F=Ht(),C=Lt(F);Or(C,()=>I(f),(q,z)=>{z(q,cn(()=>I(p),{$$events:{routeEvent(X){dn.call(this,t,X)}}}))}),de(S,F)};Je(oe,S=>{I(v)?S(Q):S(B,!1)})}de(e,K),yt()}var jo=Se('<div class="h-full w-full flex flex-col mx-auto border p-5 rounded-3xl items-center justify-center space-y-4 bg-[#FFF8D8]"><h1 class="text-2xl font-bold text-gray-800">👋 Welcome Home!</h1> <p class="text-center px-4 text-gray-700">이곳은 Home 페이지입니다.</p> <a href="#/LLM" class="px-4 py-2 bg-[#FEE500] text-gray-800 rounded hover:bg-yellow-300 shadow">💬 채팅 시작</a></div>');function Wo(e){var t=jo();de(e,t)}const Et=jt(null);async function qo(e,t){return new Promise(n=>{Et.set({name:e,parameters:{...t},resolver:i=>n(i)})})}const rr=jt(null);async function Vo(e,t,n){return new Promise(i=>{rr.set({name:e,parameters:{...t},exceedLimit:n,resolver:o=>i(o)})})}const nr=jt(null);async function ir(e,t){return new Promise(n=>{nr.set({name:e,title:t,resolver:i=>n(i)})})}var ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Tr={exports:{}},mn;function Go(){return mn||(mn=1,function(e){/**
 * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a WebRTC JavaScript library for audio/video as well as screen activity recording. It supports Chrome, Firefox, Opera, Android, and Microsoft Edge. Platforms: Linux, Mac and Windows. 
 * @summary Record audio, video or screen inside the browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTC
 * @class
 * @example
 * var recorder = RecordRTC(mediaStream or [arrayOfMediaStream], {
 *     type: 'video', // audio or video or gif or canvas
 *     recorderType: MediaStreamRecorder || CanvasRecorder || StereoAudioRecorder || Etc
 * });
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, desiredSampRate: 16000, video: HTMLVideoElement, etc.}
 */function t(u,r){if(!u)throw"First parameter is required.";r=r||{type:"video"},r=new n(u,r);var s=this;function h(m){return r.disableLogs||console.log("RecordRTC version: ",s.version),m&&(r=new n(u,m)),r.disableLogs||console.log("started recording "+r.type+" stream."),k?(k.clearRecordedData(),k.record(),U("recording"),s.recordingDuration&&T(),s):(b(function(){s.recordingDuration&&T()}),s)}function b(m){m&&(r.initCallback=function(){m(),m=r.initCallback=null});var O=new i(u,r);k=new O(u,r),k.record(),U("recording"),r.disableLogs||console.log("Initialized recorderType:",k.constructor.name,"for output-type:",r.type)}function g(m){if(m=m||function(){},!k){D();return}if(s.state==="paused"){s.resumeRecording(),setTimeout(function(){g(m)},1);return}s.state!=="recording"&&!r.disableLogs&&console.warn('Recording state should be: "recording", however current state is: ',s.state),r.disableLogs||console.log("Stopped recording "+r.type+" stream."),r.type!=="gif"?k.stop(O):(k.stop(),O()),U("stopped");function O(V){if(!k){typeof m.call=="function"?m.call(s,""):m("");return}Object.keys(k).forEach(function(N){typeof k[N]!="function"&&(s[N]=k[N])});var d=k.blob;if(!d)if(V)k.blob=d=V;else throw"Recording failed.";if(d&&!r.disableLogs&&console.log(d.type,"->",K(d.size)),m){var y;try{y=_.createObjectURL(d)}catch{}typeof m.call=="function"?m.call(s,y):m(y)}r.autoWriteToDisk&&P(function(N){var j={};j[r.type+"Blob"]=N,ae.Store(j)})}}function x(){if(!k){D();return}if(s.state!=="recording"){r.disableLogs||console.warn("Unable to pause the recording. Recording state: ",s.state);return}U("paused"),k.pause(),r.disableLogs||console.log("Paused recording.")}function l(){if(!k){D();return}if(s.state!=="paused"){r.disableLogs||console.warn("Unable to resume the recording. Recording state: ",s.state);return}U("recording"),k.resume(),r.disableLogs||console.log("Resumed recording.")}function E(m){postMessage(new FileReaderSync().readAsDataURL(m))}function P(m,O){if(!m)throw"Pass a callback function over getDataURL.";var V=O?O.blob:(k||{}).blob;if(!V){r.disableLogs||console.warn("Blob encoder did not finish its job yet."),setTimeout(function(){P(m,O)},1e3);return}if(typeof Worker<"u"&&!navigator.mozGetUserMedia){var d=N(E);d.onmessage=function(j){m(j.data)},d.postMessage(V)}else{var y=new FileReader;y.readAsDataURL(V),y.onload=function(j){m(j.target.result)}}function N(j){try{var Z=_.createObjectURL(new Blob([j.toString(),"this.onmessage =  function (eee) {"+j.name+"(eee.data);}"],{type:"application/javascript"})),Y=new Worker(Z);return _.revokeObjectURL(Z),Y}catch{}}}function T(m){if(m=m||0,s.state==="paused"){setTimeout(function(){T(m)},1e3);return}if(s.state!=="stopped"){if(m>=s.recordingDuration){g(s.onRecordingStopped);return}m+=1e3,setTimeout(function(){T(m)},1e3)}}function U(m){s&&(s.state=m,typeof s.onStateChanged.call=="function"?s.onStateChanged.call(s,m):s.onStateChanged(m))}var M='It seems that recorder is destroyed or "startRecording" is not invoked for '+r.type+" recorder.";function D(){r.disableLogs!==!0&&console.warn(M)}var k,G={startRecording:h,stopRecording:g,pauseRecording:x,resumeRecording:l,initRecorder:b,setRecordingDuration:function(m,O){if(typeof m>"u")throw"recordingDuration is required.";if(typeof m!="number")throw"recordingDuration must be a number.";return s.recordingDuration=m,s.onRecordingStopped=O||function(){},{onRecordingStopped:function(V){s.onRecordingStopped=V}}},clearRecordedData:function(){if(!k){D();return}k.clearRecordedData(),r.disableLogs||console.log("Cleared old recorded data.")},getBlob:function(){if(!k){D();return}return k.blob},getDataURL:P,toURL:function(){if(!k){D();return}return _.createObjectURL(k.blob)},getInternalRecorder:function(){return k},save:function(m){if(!k){D();return}oe(k.blob,m)},getFromDisk:function(m){if(!k){D();return}t.getFromDisk(r.type,m)},setAdvertisementArray:function(m){r.advertisement=[];for(var O=m.length,V=0;V<O;V++)r.advertisement.push({duration:V,image:m[V]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){s.state==="recording"&&!r.disableLogs&&console.warn("Stop an active recorder."),k&&typeof k.clearRecordedData=="function"&&k.clearRecordedData(),k=null,U("inactive"),s.blob=null},onStateChanged:function(m){r.disableLogs||console.log("Recorder state changed:",m)},state:"inactive",getState:function(){return s.state},destroy:function(){var m=r.disableLogs;r={disableLogs:!0},s.reset(),U("destroyed"),G=s=null,C.AudioContextConstructor&&(C.AudioContextConstructor.close(),C.AudioContextConstructor=null),r.disableLogs=m,r.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.6.2"};if(!this)return s=G,G;for(var J in G)this[J]=G[J];return s=this,G}t.version="5.6.2",e.exports=t,t.getFromDisk=function(u,r){if(!r)throw"callback is mandatory.";console.log("Getting recorded "+(u==="all"?"blobs":u+" blob ")+" from disk!"),ae.Fetch(function(s,h){u!=="all"&&h===u+"Blob"&&r&&r(s),u==="all"&&r&&r(s,h.replace("Blob",""))})},t.writeToDisk=function(u){console.log("Writing recorded blob(s) to disk!"),u=u||{},u.audio&&u.video&&u.gif?u.audio.getDataURL(function(r){u.video.getDataURL(function(s){u.gif.getDataURL(function(h){ae.Store({audioBlob:r,videoBlob:s,gifBlob:h})})})}):u.audio&&u.video?u.audio.getDataURL(function(r){u.video.getDataURL(function(s){ae.Store({audioBlob:r,videoBlob:s})})}):u.audio&&u.gif?u.audio.getDataURL(function(r){u.gif.getDataURL(function(s){ae.Store({audioBlob:r,gifBlob:s})})}):u.video&&u.gif?u.video.getDataURL(function(r){u.gif.getDataURL(function(s){ae.Store({videoBlob:r,gifBlob:s})})}):u.audio?u.audio.getDataURL(function(r){ae.Store({audioBlob:r})}):u.video?u.video.getDataURL(function(r){ae.Store({videoBlob:r})}):u.gif&&u.gif.getDataURL(function(r){ae.Store({gifBlob:r})})};/**
 * {@link RecordRTCConfiguration} is an inner/private helper for {@link RecordRTC}.
 * @summary It configures the 2nd parameter passed over {@link RecordRTC} and returns a valid "config" object.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCConfiguration
 * @class
 * @example
 * var options = RecordRTCConfiguration(mediaStream, options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, getNativeBlob:true, etc.}
 */function n(u,r){return!r.recorderType&&!r.type&&(r.audio&&r.video?r.type="video":r.audio&&!r.video&&(r.type="audio")),r.recorderType&&!r.type&&(r.recorderType===te||r.recorderType===H||typeof ve<"u"&&r.recorderType===ve?r.type="video":r.recorderType===ge?r.type="gif":r.recorderType===X?r.type="audio":r.recorderType===z&&(B(u,"audio").length&&B(u,"video").length||!B(u,"audio").length&&B(u,"video").length?r.type="video":B(u,"audio").length&&!B(u,"video").length&&(r.type="audio"))),typeof z<"u"&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(r.mimeType||(r.mimeType="video/webm"),r.type||(r.type=r.mimeType.split("/")[0]),r.bitsPerSecond),r.type||(r.mimeType&&(r.type=r.mimeType.split("/")[0]),r.type||(r.type="audio")),r}/**
 * {@link GetRecorderType} is an inner/private helper for {@link RecordRTC}.
 * @summary It returns best recorder-type available for your browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GetRecorderType
 * @class
 * @example
 * var RecorderType = GetRecorderType(options);
 * var recorder = new RecorderType(options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 */function i(u,r){var s;return(A||R||w)&&(s=X),typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&!A&&(s=z),r.type==="video"&&(A||w)&&(s=te,typeof ve<"u"&&typeof ReadableStream<"u"&&(s=ve)),r.type==="gif"&&(s=ge),r.type==="canvas"&&(s=H),q()&&s!==H&&s!==ge&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(B(u,"video").length||B(u,"audio").length)&&(r.type==="audio"?typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("audio/webm")&&(s=z):typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("video/webm")&&(s=z)),u instanceof Array&&u.length&&(s=ce),r.recorderType&&(s=r.recorderType),!r.disableLogs&&s&&s.name&&console.log("Using recorderType:",s.name||s.constructor.name),!s&&$&&(s=z),s}/**
 * MRecordRTC runs on top of {@link RecordRTC} to bring multiple recordings in a single place, by providing simple API.
 * @summary MRecordRTC stands for "Multiple-RecordRTC".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MRecordRTC
 * @class
 * @example
 * var recorder = new MRecordRTC();
 * recorder.addStream(MediaStream);
 * recorder.mediaType = {
 *     audio: true, // or StereoAudioRecorder or MediaStreamRecorder
 *     video: true, // or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder or CanvasRecorder
 *     gif: true    // or GifRecorder
 * };
 * // mimeType is optional and should be set only in advance cases.
 * recorder.mimeType = {
 *     audio: 'audio/wav',
 *     video: 'video/webm',
 *     gif:   'image/gif'
 * };
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @requires {@link RecordRTC}
 */function o(u){this.addStream=function(r){r&&(u=r)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var r=this.mediaType,s,h=this.mimeType||{audio:null,video:null,gif:null};if(typeof r.audio!="function"&&q()&&!B(u,"audio").length&&(r.audio=!1),typeof r.video!="function"&&q()&&!B(u,"video").length&&(r.video=!1),typeof r.gif!="function"&&q()&&!B(u,"video").length&&(r.gif=!1),!r.audio&&!r.video&&!r.gif)throw"MediaStream must have either audio or video tracks.";if(r.audio&&(s=null,typeof r.audio=="function"&&(s=r.audio),this.audioRecorder=new t(u,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:s,mimeType:h.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),r.video||this.audioRecorder.startRecording()),r.video){s=null,typeof r.video=="function"&&(s=r.video);var b=u;if(q()&&r.audio&&typeof r.audio=="function"){var g=B(u,"video")[0];L?(b=new W,b.addTrack(g),s&&s===te&&(s=z)):(b=new W,b.addTrack(g))}this.videoRecorder=new t(b,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:s,mimeType:h.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),r.audio||this.videoRecorder.startRecording()}if(r.audio&&r.video){var x=this,l=q()===!0;(r.audio instanceof X&&r.video||r.audio!==!0&&r.video!==!0&&r.audio!==r.video)&&(l=!1),l===!0?(x.audioRecorder=null,x.videoRecorder.startRecording()):x.videoRecorder.initRecorder(function(){x.audioRecorder.initRecorder(function(){x.videoRecorder.startRecording(),x.audioRecorder.startRecording()})})}r.gif&&(s=null,typeof r.gif=="function"&&(s=r.gif),this.gifRecorder=new t(u,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:s,mimeType:h.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(r){r=r||function(){},this.audioRecorder&&this.audioRecorder.stopRecording(function(s){r(s,"audio")}),this.videoRecorder&&this.videoRecorder.stopRecording(function(s){r(s,"video")}),this.gifRecorder&&this.gifRecorder.stopRecording(function(s){r(s,"gif")})},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(r){var s={};return this.audioRecorder&&(s.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(s.video=this.videoRecorder.getBlob()),this.gifRecorder&&(s.gif=this.gifRecorder.getBlob()),r&&r(s),s},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(r){this.getBlob(function(b){b.audio&&b.video?s(b.audio,function(g){s(b.video,function(x){r({audio:g,video:x})})}):b.audio?s(b.audio,function(g){r({audio:g})}):b.video&&s(b.video,function(g){r({video:g})})});function s(b,g){if(typeof Worker<"u"){var x=h(function(P){postMessage(new FileReaderSync().readAsDataURL(P))});x.onmessage=function(E){g(E.data)},x.postMessage(b)}else{var l=new FileReader;l.readAsDataURL(b),l.onload=function(E){g(E.target.result)}}}function h(b){var g=_.createObjectURL(new Blob([b.toString(),"this.onmessage =  function (eee) {"+b.name+"(eee.data);}"],{type:"application/javascript"})),x=new Worker(g),l;if(typeof _<"u")l=_;else if(typeof webkitURL<"u")l=webkitURL;else throw"Neither URL nor webkitURL detected.";return l.revokeObjectURL(g),x}},this.writeToDisk=function(){t.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(r){r=r||{audio:!0,video:!0,gif:!0},r.audio&&this.audioRecorder&&this.audioRecorder.save(typeof r.audio=="string"?r.audio:""),r.video&&this.videoRecorder&&this.videoRecorder.save(typeof r.video=="string"?r.video:""),r.gif&&this.gifRecorder&&this.gifRecorder.save(typeof r.gif=="string"?r.gif:"")}}o.getFromDisk=t.getFromDisk,o.writeToDisk=t.writeToDisk,typeof t<"u"&&(t.MRecordRTC=o);var a="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(u){u&&(typeof window<"u"||typeof ue>"u"||(ue.navigator={userAgent:a,getUserMedia:function(){}},ue.console||(ue.console={}),(typeof ue.console.log>"u"||typeof ue.console.error>"u")&&(ue.console.error=ue.console.log=ue.console.log||function(){console.log(arguments)}),typeof document>"u"&&(u.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var r={getContext:function(){return r},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return r},u.HTMLVideoElement=function(){}),typeof location>"u"&&(u.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(u.screen={width:0,height:0}),typeof _>"u"&&(u.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),u.window=ue))})(typeof ue<"u"?ue:null);var c=window.requestAnimationFrame;if(typeof c>"u"){if(typeof webkitRequestAnimationFrame<"u")c=webkitRequestAnimationFrame;else if(typeof mozRequestAnimationFrame<"u")c=mozRequestAnimationFrame;else if(typeof msRequestAnimationFrame<"u")c=msRequestAnimationFrame;else if(typeof c>"u"){var f=0;c=function(u,r){var s=new Date().getTime(),h=Math.max(0,16-(s-f)),b=setTimeout(function(){u(s+h)},h);return f=s+h,b}}}var v=window.cancelAnimationFrame;typeof v>"u"&&(typeof webkitCancelAnimationFrame<"u"?v=webkitCancelAnimationFrame:typeof mozCancelAnimationFrame<"u"?v=mozCancelAnimationFrame:typeof msCancelAnimationFrame<"u"?v=msCancelAnimationFrame:typeof v>"u"&&(v=function(u){clearTimeout(u)}));var p=window.AudioContext;typeof p>"u"&&(typeof webkitAudioContext<"u"&&(p=webkitAudioContext),typeof mozAudioContext<"u"&&(p=mozAudioContext));var _=window.URL;typeof _>"u"&&typeof webkitURL<"u"&&(_=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var R=navigator.userAgent.indexOf("Edge")!==-1&&(!!navigator.msSaveBlob||!!navigator.msSaveOrOpenBlob),w=!!window.opera||navigator.userAgent.indexOf("OPR/")!==-1,L=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),A=!w&&!R&&!!navigator.webkitGetUserMedia||Q()||navigator.userAgent.toLowerCase().indexOf("chrome/")!==-1,$=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);$&&!A&&navigator.userAgent.indexOf("CriOS")!==-1&&($=!1,A=!0);var W=window.MediaStream;typeof W>"u"&&typeof webkitMediaStream<"u"&&(W=webkitMediaStream),typeof W<"u"&&typeof W.prototype.stop>"u"&&(W.prototype.stop=function(){this.getTracks().forEach(function(u){u.stop()})});function K(u){var r=1e3,s=["Bytes","KB","MB","GB","TB"];if(u===0)return"0 Bytes";var h=parseInt(Math.floor(Math.log(u)/Math.log(r)),10);return(u/Math.pow(r,h)).toPrecision(3)+" "+s[h]}function oe(u,r){if(!u)throw"Blob object is required.";if(!u.type)try{u.type="video/webm"}catch{}var s=(u.type||"video/webm").split("/")[1];if(s.indexOf(";")!==-1&&(s=s.split(";")[0]),r&&r.indexOf(".")!==-1){var h=r.split(".");r=h[0],s=h[1]}var b=(r||Math.round(Math.random()*9999999999)+888888888)+"."+s;if(typeof navigator.msSaveOrOpenBlob<"u")return navigator.msSaveOrOpenBlob(u,b);if(typeof navigator.msSaveBlob<"u")return navigator.msSaveBlob(u,b);var g=document.createElement("a");g.href=_.createObjectURL(u),g.download=b,g.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(g),typeof g.click=="function"?g.click():(g.target="_blank",g.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),_.revokeObjectURL(g.href)}function Q(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}function B(u,r){return!u||!u.getTracks?[]:u.getTracks().filter(function(s){return s.kind===(r||"audio")})}function S(u,r){"srcObject"in r?r.srcObject=u:"mozSrcObject"in r?r.mozSrcObject=u:r.srcObject=u}function F(u,r){if(typeof EBML>"u")throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var s=new EBML.Reader,h=new EBML.Decoder,b=EBML.tools,g=new FileReader;g.onload=function(x){var l=h.decode(this.result);l.forEach(function(U){s.read(U)}),s.stop();var E=b.makeMetadataSeekable(s.metadatas,s.duration,s.cues),P=this.result.slice(s.metadataSize),T=new Blob([E,P],{type:"video/webm"});r(T)},g.readAsArrayBuffer(u)}typeof t<"u"&&(t.invokeSaveAsDialog=oe,t.getTracks=B,t.getSeekableBlob=F,t.bytesToSize=K,t.isElectron=Q);/**
 * Storage is a standalone object used by {@link RecordRTC} to store reusable objects e.g. "new AudioContext".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * Storage.AudioContext === webkitAudioContext
 * @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var C={};typeof p<"u"?C.AudioContext=p:typeof webkitAudioContext<"u"&&(C.AudioContext=webkitAudioContext),typeof t<"u"&&(t.Storage=C);function q(){if(L||$||R)return!0;var u=navigator.userAgent,r=""+parseFloat(navigator.appVersion),s=parseInt(navigator.appVersion,10),h,b;return(A||w)&&(h=u.indexOf("Chrome"),r=u.substring(h+7)),(b=r.indexOf(";"))!==-1&&(r=r.substring(0,b)),(b=r.indexOf(" "))!==-1&&(r=r.substring(0,b)),s=parseInt(""+r,10),isNaN(s)&&(r=""+parseFloat(navigator.appVersion),s=parseInt(navigator.appVersion,10)),s>=49}/**
 * MediaStreamRecorder is an abstraction layer for {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}. It is used by {@link RecordRTC} to record MediaStream(s) in both Chrome and Firefox.
 * @summary Runs top over {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://github.com/muaz-khan|Muaz Khan}
 * @typedef MediaStreamRecorder
 * @class
 * @example
 * var config = {
 *     mimeType: 'video/webm', // vp8, vp9, h264, mkv, opus/vorbis
 *     audioBitsPerSecond : 256 * 8 * 1024,
 *     videoBitsPerSecond : 256 * 8 * 1024,
 *     bitsPerSecond: 256 * 8 * 1024,  // if this is provided, skip above two
 *     checkForInactiveTracks: true,
 *     timeSlice: 1000, // concatenate intervals based blobs
 *     ondataavailable: function() {} // get intervals based blobs
 * }
 * var recorder = new MediaStreamRecorder(mediaStream, config);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs:true, initCallback: function, mimeType: "video/webm", timeSlice: 1000}
 * @throws Will throw an error if first argument "MediaStream" is missing. Also throws error if "MediaRecorder API" are not supported by the browser.
 */function z(u,r){var T=this;if(typeof u>"u")throw'First argument "MediaStream" is required.';if(typeof MediaRecorder>"u")throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if(r=r||{mimeType:"video/webm"},r.type==="audio"){if(B(u,"video").length&&B(u,"audio").length){var s;navigator.mozGetUserMedia?(s=new W,s.addTrack(B(u,"audio")[0])):s=new W(B(u,"audio")),u=s}(!r.mimeType||r.mimeType.toString().toLowerCase().indexOf("audio")===-1)&&(r.mimeType=A?"audio/webm":"audio/ogg"),r.mimeType&&r.mimeType.toString().toLowerCase()!=="audio/ogg"&&navigator.mozGetUserMedia&&(r.mimeType="audio/ogg")}var h=[];this.getArrayOfBlobs=function(){return h},this.record=function(){T.blob=null,T.clearRecordedData(),T.timestamps=[],P=[],h=[];var U=r;r.disableLogs||console.log("Passing following config over MediaRecorder API.",U),l&&(l=null),A&&!q()&&(U="video/vp8"),typeof MediaRecorder.isTypeSupported=="function"&&U.mimeType&&(MediaRecorder.isTypeSupported(U.mimeType)||(r.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",U.mimeType),U.mimeType=r.type==="audio"?"audio/webm":"video/webm"));try{l=new MediaRecorder(u,U),r.mimeType=U.mimeType}catch{l=new MediaRecorder(u)}U.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in l&&l.canRecordMimeType(U.mimeType)===!1&&(r.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",U.mimeType)),l.ondataavailable=function(M){if(M.data&&P.push("ondataavailable: "+K(M.data.size)),typeof r.timeSlice=="number"){if(M.data&&M.data.size&&(h.push(M.data),b(),typeof r.ondataavailable=="function")){var D=r.getNativeBlob?M.data:new Blob([M.data],{type:g(U)});r.ondataavailable(D)}return}if(!M.data||!M.data.size||M.data.size<100||T.blob){T.recordingCallback&&(T.recordingCallback(new Blob([],{type:g(U)})),T.recordingCallback=null);return}T.blob=r.getNativeBlob?M.data:new Blob([M.data],{type:g(U)}),T.recordingCallback&&(T.recordingCallback(T.blob),T.recordingCallback=null)},l.onstart=function(){P.push("started")},l.onpause=function(){P.push("paused")},l.onresume=function(){P.push("resumed")},l.onstop=function(){P.push("stopped")},l.onerror=function(M){M&&(M.name||(M.name="UnknownError"),P.push("error: "+M),r.disableLogs||(M.name.toString().toLowerCase().indexOf("invalidstate")!==-1?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",M):M.name.toString().toLowerCase().indexOf("notsupported")!==-1?console.error("MIME type (",U.mimeType,") is not supported.",M):M.name.toString().toLowerCase().indexOf("security")!==-1?console.error("MediaRecorder security error",M):M.name==="OutOfMemory"?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",M):M.name==="IllegalStreamModification"?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",M):M.name==="OtherRecordingError"?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",M):M.name==="GenericError"?console.error("The UA cannot provide the codec or recording option that has been requested.",M):console.error("MediaRecorder Error",M)),function(D){if(!T.manuallyStopped&&l&&l.state==="inactive"){delete r.timeslice,l.start(10*60*1e3);return}setTimeout(D,1e3)}(),l.state!=="inactive"&&l.state!=="stopped"&&l.stop())},typeof r.timeSlice=="number"?(b(),l.start(r.timeSlice)):l.start(36e5),r.initCallback&&r.initCallback()},this.timestamps=[];function b(){T.timestamps.push(new Date().getTime()),typeof r.onTimeStamp=="function"&&r.onTimeStamp(T.timestamps[T.timestamps.length-1],T.timestamps)}function g(U){return l&&l.mimeType?l.mimeType:U.mimeType||"video/webm"}this.stop=function(U){U=U||function(){},T.manuallyStopped=!0,l&&(this.recordingCallback=U,l.state==="recording"&&l.stop(),typeof r.timeSlice=="number"&&setTimeout(function(){T.blob=new Blob(h,{type:g(r)}),T.recordingCallback(T.blob)},100))},this.pause=function(){l&&l.state==="recording"&&l.pause()},this.resume=function(){l&&l.state==="paused"&&l.resume()},this.clearRecordedData=function(){l&&l.state==="recording"&&T.stop(x),x()};function x(){h=[],l=null,T.timestamps=[]}var l;this.getInternalRecorder=function(){return l};function E(){if("active"in u){if(!u.active)return!1}else if("ended"in u&&u.ended)return!1;return!0}this.blob=null,this.getState=function(){return l&&l.state||"inactive"};var P=[];this.getAllStates=function(){return P},typeof r.checkForInactiveTracks>"u"&&(r.checkForInactiveTracks=!1);var T=this;(function U(){if(!(!l||r.checkForInactiveTracks===!1)){if(E()===!1){r.disableLogs||console.log("MediaStream seems stopped."),T.stop();return}setTimeout(U,1e3)}})(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}typeof t<"u"&&(t.MediaStreamRecorder=z);/**
 * StereoAudioRecorder is a standalone class used by {@link RecordRTC} to bring "stereo" audio-recording in chrome.
 * @summary JavaScript standalone object for stereo audio recording.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef StereoAudioRecorder
 * @class
 * @example
 * var recorder = new StereoAudioRecorder(MediaStream, {
 *     sampleRate: 44100,
 *     bufferSize: 4096
 * });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}
 */function X(u,r){if(!B(u,"audio").length)throw"Your stream has no audio tracks.";r=r||{};var s=this,h=[],b=[],g=!1,x=0,l,E=2,P=r.desiredSampRate;r.leftChannel===!0&&(E=1),r.numberOfAudioChannels===1&&(E=1),(!E||E<1)&&(E=2),r.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+E),typeof r.checkForInactiveTracks>"u"&&(r.checkForInactiveTracks=!0);function T(){if(r.checkForInactiveTracks===!1)return!0;if("active"in u){if(!u.active)return!1}else if("ended"in u&&u.ended)return!1;return!0}this.record=function(){if(T()===!1)throw"Please make sure MediaStream is active.";V(),y=O=!1,g=!0,typeof r.timeSlice<"u"&&Z()};function U(Y,pe){function be(le,St){var Ie=le.numberOfAudioChannels,Le=le.leftBuffers.slice(0),He=le.rightBuffers.slice(0),Me=le.sampleRate,Ye=le.internalInterleavedLength,Be=le.desiredSampRate;Ie===2&&(Le=gr(Le,Ye),He=gr(He,Ye),Be&&(Le=Tt(Le,Be,Me),He=Tt(He,Be,Me))),Ie===1&&(Le=gr(Le,Ye),Be&&(Le=Tt(Le,Be,Me))),Be&&(Me=Be);function Tt(he,je,De){var Oe=Math.round(he.length*(je/De)),ye=[],Ke=Number((he.length-1)/(Oe-1));ye[0]=he[0];for(var ft=1;ft<Oe-1;ft++){var yr=ft*Ke,Xr=Number(Math.floor(yr)).toFixed(),ui=Number(Math.ceil(yr)).toFixed(),fi=yr-Xr;ye[ft]=ni(he[Xr],he[ui],fi)}return ye[Oe-1]=he[he.length-1],ye}function ni(he,je,De){return he+(je-he)*De}function gr(he,je){for(var De=new Float64Array(je),Oe=0,ye=he.length,Ke=0;Ke<ye;Ke++){var ft=he[Ke];De.set(ft,Oe),Oe+=ft.length}return De}function ii(he,je){for(var De=he.length+je.length,Oe=new Float64Array(De),ye=0,Ke=0;Ke<De;)Oe[Ke++]=he[ye],Oe[Ke++]=je[ye],ye++;return Oe}function Wt(he,je,De){for(var Oe=De.length,ye=0;ye<Oe;ye++)he.setUint8(je+ye,De.charCodeAt(ye))}var qt;Ie===2&&(qt=ii(Le,He)),Ie===1&&(qt=Le);var Vt=qt.length,oi=44+Vt*2,br=new ArrayBuffer(oi),we=new DataView(br);Wt(we,0,"RIFF"),we.setUint32(4,36+Vt*2,!0),Wt(we,8,"WAVE"),Wt(we,12,"fmt "),we.setUint32(16,16,!0),we.setUint16(20,1,!0),we.setUint16(22,Ie,!0),we.setUint32(24,Me,!0),we.setUint32(28,Me*Ie*2,!0),we.setUint16(32,Ie*2,!0),we.setUint16(34,16,!0),Wt(we,36,"data"),we.setUint32(40,Vt*2,!0);for(var ai=Vt,Jr=44,si=1,wr=0;wr<ai;wr++)we.setInt16(Jr,qt[wr]*(32767*si),!0),Jr+=2;if(St)return St({buffer:br,view:we});postMessage({buffer:br,view:we})}if(Y.noWorker){be(Y,function(le){pe(le.buffer,le.view)});return}var $e=M(be);$e.onmessage=function(le){pe(le.data.buffer,le.data.view),_.revokeObjectURL($e.workerURL),$e.terminate()},$e.postMessage(Y)}function M(Y){var pe=_.createObjectURL(new Blob([Y.toString(),";this.onmessage =  function (eee) {"+Y.name+"(eee.data);}"],{type:"application/javascript"})),be=new Worker(pe);return be.workerURL=pe,be}this.stop=function(Y){Y=Y||function(){},g=!1,U({desiredSampRate:P,sampleRate:m,numberOfAudioChannels:E,internalInterleavedLength:x,leftBuffers:h,rightBuffers:E===1?[]:b,noWorker:r.noWorker},function(pe,be){s.blob=new Blob([be],{type:"audio/wav"}),s.buffer=new ArrayBuffer(be.buffer.byteLength),s.view=be,s.sampleRate=P||m,s.bufferSize=J,s.length=x,y=!1,Y&&Y(s.blob)})},typeof t.Storage>"u"&&(t.Storage={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}),(!t.Storage.AudioContextConstructor||t.Storage.AudioContextConstructor.state==="closed")&&(t.Storage.AudioContextConstructor=new t.Storage.AudioContext);var D=t.Storage.AudioContextConstructor,k=D.createMediaStreamSource(u),G=[0,256,512,1024,2048,4096,8192,16384],J=typeof r.bufferSize>"u"?4096:r.bufferSize;if(G.indexOf(J)===-1&&(r.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(G,null,"	"))),D.createJavaScriptNode)l=D.createJavaScriptNode(J,E,E);else if(D.createScriptProcessor)l=D.createScriptProcessor(J,E,E);else throw"WebAudio API has no support on this browser.";k.connect(l),r.bufferSize||(J=l.bufferSize);var m=typeof r.sampleRate<"u"?r.sampleRate:D.sampleRate||44100;(m<22050||m>96e3)&&(r.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),r.disableLogs||r.desiredSampRate&&console.log("Desired sample-rate: "+r.desiredSampRate);var O=!1;this.pause=function(){O=!0},this.resume=function(){if(T()===!1)throw"Please make sure MediaStream is active.";if(!g){r.disableLogs||console.log("Seems recording has been restarted."),this.record();return}O=!1},this.clearRecordedData=function(){r.checkForInactiveTracks=!1,g&&this.stop(d),d()};function V(){h=[],b=[],x=0,y=!1,g=!1,O=!1,D=null,s.leftchannel=h,s.rightchannel=b,s.numberOfAudioChannels=E,s.desiredSampRate=P,s.sampleRate=m,s.recordingLength=x,j={left:[],right:[],recordingLength:0}}function d(){l&&(l.onaudioprocess=null,l.disconnect(),l=null),k&&(k.disconnect(),k=null),V()}this.name="StereoAudioRecorder",this.toString=function(){return this.name};var y=!1;function N(Y){if(!O){if(T()===!1&&(r.disableLogs||console.log("MediaStream seems stopped."),l.disconnect(),g=!1),!g){k&&(k.disconnect(),k=null);return}y||(y=!0,r.onAudioProcessStarted&&r.onAudioProcessStarted(),r.initCallback&&r.initCallback());var pe=Y.inputBuffer.getChannelData(0),be=new Float32Array(pe);if(h.push(be),E===2){var $e=Y.inputBuffer.getChannelData(1),le=new Float32Array($e);b.push(le)}x+=J,s.recordingLength=x,typeof r.timeSlice<"u"&&(j.recordingLength+=J,j.left.push(be),E===2&&j.right.push(le))}}l.onaudioprocess=N,D.createMediaStreamDestination?l.connect(D.createMediaStreamDestination()):l.connect(D.destination),this.leftchannel=h,this.rightchannel=b,this.numberOfAudioChannels=E,this.desiredSampRate=P,this.sampleRate=m,s.recordingLength=x;var j={left:[],right:[],recordingLength:0};function Z(){!g||typeof r.ondataavailable!="function"||typeof r.timeSlice>"u"||(j.left.length?(U({desiredSampRate:P,sampleRate:m,numberOfAudioChannels:E,internalInterleavedLength:j.recordingLength,leftBuffers:j.left,rightBuffers:E===1?[]:j.right},function(Y,pe){var be=new Blob([pe],{type:"audio/wav"});r.ondataavailable(be),setTimeout(Z,r.timeSlice)}),j={left:[],right:[],recordingLength:0}):setTimeout(Z,r.timeSlice))}}typeof t<"u"&&(t.StereoAudioRecorder=X);/**
 * CanvasRecorder is a standalone class used by {@link RecordRTC} to bring HTML5-Canvas recording into video WebM. It uses HTML2Canvas library and runs top over {@link Whammy}.
 * @summary HTML2Canvas recording into video WebM.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef CanvasRecorder
 * @class
 * @example
 * var recorder = new CanvasRecorder(htmlElement, { disableLogs: true, useWhammyRecorder: true });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.
 * @param {object} config - {disableLogs:true, initCallback: function}
 */function H(u,r){if(typeof html2canvas>"u")throw"Please link: https://www.webrtc-experiment.com/screenshot.js";r=r||{},r.frameInterval||(r.frameInterval=10);var s=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(G){G in document.createElement("canvas")&&(s=!0)});var h=(!!window.webkitRTCPeerConnection||!!window.webkitGetUserMedia)&&!!window.chrome,b=50,g=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);h&&g&&g[2]&&(b=parseInt(g[2],10)),h&&b<52&&(s=!1),r.useWhammyRecorder&&(s=!1);var x,l;if(s)if(r.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),u instanceof HTMLCanvasElement)x=u;else if(u instanceof CanvasRenderingContext2D)x=u.canvas;else throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";else navigator.mozGetUserMedia&&(r.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));var E;this.record=function(){if(E=!0,s&&!r.useWhammyRecorder){var G;"captureStream"in x?G=x.captureStream(25):"mozCaptureStream"in x?G=x.mozCaptureStream(25):"webkitCaptureStream"in x&&(G=x.webkitCaptureStream(25));try{var J=new W;J.addTrack(B(G,"video")[0]),G=J}catch{}if(!G)throw"captureStream API are NOT available.";l=new z(G,{mimeType:r.mimeType||"video/webm"}),l.record()}else k.frames=[],D=new Date().getTime(),M();r.initCallback&&r.initCallback()},this.getWebPImages=function(G){if(u.nodeName.toLowerCase()!=="canvas"){G();return}var J=k.frames.length;k.frames.forEach(function(m,O){var V=J-O;r.disableLogs||console.log(V+"/"+J+" frames remaining"),r.onEncodingCallback&&r.onEncodingCallback(V,J);var d=m.image.toDataURL("image/webp",1);k.frames[O].image=d}),r.disableLogs||console.log("Generating WebM"),G()},this.stop=function(G){E=!1;var J=this;if(s&&l){l.stop(G);return}this.getWebPImages(function(){k.compile(function(m){r.disableLogs||console.log("Recording finished!"),J.blob=m,J.blob.forEach&&(J.blob=new Blob([],{type:"video/webm"})),G&&G(J.blob),k.frames=[]})})};var P=!1;this.pause=function(){if(P=!0,l instanceof z){l.pause();return}},this.resume=function(){if(P=!1,l instanceof z){l.resume();return}E||this.record()},this.clearRecordedData=function(){E&&this.stop(T),T()};function T(){k.frames=[],E=!1,P=!1}this.name="CanvasRecorder",this.toString=function(){return this.name};function U(){var G=document.createElement("canvas"),J=G.getContext("2d");return G.width=u.width,G.height=u.height,J.drawImage(u,0,0),G}function M(){if(P)return D=new Date().getTime(),setTimeout(M,500);if(u.nodeName.toLowerCase()==="canvas"){var G=new Date().getTime()-D;D=new Date().getTime(),k.frames.push({image:U(),duration:G}),E&&setTimeout(M,r.frameInterval);return}html2canvas(u,{grabMouse:typeof r.showMousePointer>"u"||r.showMousePointer,onrendered:function(J){var m=new Date().getTime()-D;if(!m)return setTimeout(M,r.frameInterval);D=new Date().getTime(),k.frames.push({image:J.toDataURL("image/webp",1),duration:m}),E&&setTimeout(M,r.frameInterval)}})}var D=new Date().getTime(),k=new Te.Video(100)}typeof t<"u"&&(t.CanvasRecorder=H);/**
 * WhammyRecorder is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It runs top over {@link Whammy}.
 * @summary Video recording feature in Chrome.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WhammyRecorder
 * @class
 * @example
 * var recorder = new WhammyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}
 */function te(u,r){r=r||{},r.frameInterval||(r.frameInterval=10),r.disableLogs||console.log("Using frames-interval:",r.frameInterval),this.record=function(){r.width||(r.width=320),r.height||(r.height=240),r.video||(r.video={width:r.width,height:r.height}),r.canvas||(r.canvas={width:r.width,height:r.height}),E.width=r.canvas.width||320,E.height=r.canvas.height||240,P=E.getContext("2d"),r.video&&r.video instanceof HTMLVideoElement?(T=r.video.cloneNode(),r.initCallback&&r.initCallback()):(T=document.createElement("video"),S(u,T),T.onloadedmetadata=function(){r.initCallback&&r.initCallback()},T.width=r.video.width,T.height=r.video.height),T.muted=!0,T.play(),U=new Date().getTime(),M=new Te.Video,r.disableLogs||(console.log("canvas resolutions",E.width,"*",E.height),console.log("video width/height",T.width||E.width,"*",T.height||E.height)),s(r.frameInterval)};function s(D){D=typeof D<"u"?D:10;var k=new Date().getTime()-U;if(!k)return setTimeout(s,D,D);if(x)return U=new Date().getTime(),setTimeout(s,100);U=new Date().getTime(),T.paused&&T.play(),P.drawImage(T,0,0,E.width,E.height),M.frames.push({duration:k,image:E.toDataURL("image/webp")}),g||setTimeout(s,D,D)}function h(D){var k=-1,G=D.length;(function J(){if(k++,k===G){D.callback();return}setTimeout(function(){D.functionToLoop(J,k)},1)})()}function b(D,k,G,J,m){var O=document.createElement("canvas");O.width=E.width,O.height=E.height;var V=O.getContext("2d"),d=[],y=D.length,N={r:0,g:0,b:0},j=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),Z=0,Y=0,pe=!1;h({length:y,functionToLoop:function(be,$e){var le,St,Ie,Le=function(){!pe&&Ie-le<=Ie*Y||(pe=!0,d.push(D[$e])),be()};if(pe)Le();else{var He=new Image;He.onload=function(){V.drawImage(He,0,0,E.width,E.height);var Me=V.getImageData(0,0,E.width,E.height);le=0,St=Me.data.length,Ie=Me.data.length/4;for(var Ye=0;Ye<St;Ye+=4){var Be={r:Me.data[Ye],g:Me.data[Ye+1],b:Me.data[Ye+2]},Tt=Math.sqrt(Math.pow(Be.r-N.r,2)+Math.pow(Be.g-N.g,2)+Math.pow(Be.b-N.b,2));Tt<=j*Z&&le++}Le()},He.src=D[$e].image}},callback:function(){d=d.concat(D.slice(y)),d.length<=0&&d.push(D[D.length-1]),m(d)}})}var g=!1;this.stop=function(D){D=D||function(){},g=!0;var k=this;setTimeout(function(){b(M.frames,-1,null,null,function(G){M.frames=G,r.advertisement&&r.advertisement.length&&(M.frames=r.advertisement.concat(M.frames)),M.compile(function(J){k.blob=J,k.blob.forEach&&(k.blob=new Blob([],{type:"video/webm"})),D&&D(k.blob)})})},10)};var x=!1;this.pause=function(){x=!0},this.resume=function(){x=!1,g&&this.record()},this.clearRecordedData=function(){g||this.stop(l),l()};function l(){M.frames=[],g=!0,x=!1}this.name="WhammyRecorder",this.toString=function(){return this.name};var E=document.createElement("canvas"),P=E.getContext("2d"),T,U,M}typeof t<"u"&&(t.WhammyRecorder=te);/**
 * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}
 * @summary A real time javascript webm encoder based on a canvas hack.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef Whammy
 * @class
 * @example
 * var recorder = new Whammy().Video(15);
 * recorder.add(context || canvas || dataURL);
 * var output = recorder.compile();
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var Te=function(){function u(h){this.frames=[],this.duration=h||1,this.quality=.8}u.prototype.add=function(h,b){if("canvas"in h&&(h=h.canvas),"toDataURL"in h&&(h=h.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/ig.test(h))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:h,duration:b||this.duration})};function r(h){var b=_.createObjectURL(new Blob([h.toString(),"this.onmessage =  function (eee) {"+h.name+"(eee.data);}"],{type:"application/javascript"})),g=new Worker(b);return _.revokeObjectURL(b),g}function s(h){function b(m){var O=x(m);if(!O)return[];for(var V=3e4,d=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:G(O.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:O.width,id:176},{data:O.height,id:186}]}]}]}]}],y=0,N=0;y<m.length;){var j=[],Z=0;do j.push(m[y]),Z+=m[y].duration,y++;while(y<m.length&&Z<V);var Y=0,pe={id:524531317,data:g(N,Y,j)};d[1].data.push(pe),N+=Z}return T(d)}function g(m,O,V){return[{data:m,id:231}].concat(V.map(function(d){var y=U({frame:d.data.slice(4),trackNum:1,timecode:Math.round(O)});return O+=d.duration,{data:y,id:163}}))}function x(m){if(!m[0]){postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});return}for(var O=m[0].width,V=m[0].height,d=m[0].duration,y=1;y<m.length;y++)d+=m[y].duration;return{duration:d,width:O,height:V}}function l(m){for(var O=[];m>0;)O.push(m&255),m=m>>8;return new Uint8Array(O.reverse())}function E(m){return new Uint8Array(m.split("").map(function(O){return O.charCodeAt(0)}))}function P(m){var O=[],V=m.length%8?new Array(9-m.length%8).join("0"):"";m=V+m;for(var d=0;d<m.length;d+=8)O.push(parseInt(m.substr(d,8),2));return new Uint8Array(O)}function T(m){for(var O=[],V=0;V<m.length;V++){var d=m[V].data;typeof d=="object"&&(d=T(d)),typeof d=="number"&&(d=P(d.toString(2))),typeof d=="string"&&(d=E(d));var y=d.size||d.byteLength||d.length,N=Math.ceil(Math.ceil(Math.log(y)/Math.log(2))/8),j=y.toString(2),Z=new Array(N*7+7+1-j.length).join("0")+j,Y=new Array(N).join("0")+"1"+Z;O.push(l(m[V].id)),O.push(P(Y)),O.push(d)}return new Blob(O,{type:"video/webm"})}function U(m){var O=0;O|=128;var V=[m.trackNum|128,m.timecode>>8,m.timecode&255,O].map(function(d){return String.fromCharCode(d)}).join("")+m.frame;return V}function M(m){for(var O=m.RIFF[0].WEBP[0],V=O.indexOf("*"),d=0,y=[];d<4;d++)y[d]=O.charCodeAt(V+3+d);var N,j,Z;return Z=y[1]<<8|y[0],N=Z&16383,Z=y[3]<<8|y[2],j=Z&16383,{width:N,height:j,data:O,riff:m}}function D(m,O){return parseInt(m.substr(O+4,4).split("").map(function(V){var d=V.charCodeAt(0).toString(2);return new Array(8-d.length+1).join("0")+d}).join(""),2)}function k(m){for(var O=0,V={};O<m.length;){var d=m.substr(O,4),y=D(m,O),N=m.substr(O+4+4,y);O+=8+y,V[d]=V[d]||[],d==="RIFF"||d==="LIST"?V[d].push(k(N)):V[d].push(N)}return V}function G(m){return[].slice.call(new Uint8Array(new Float64Array([m]).buffer),0).map(function(O){return String.fromCharCode(O)}).reverse().join("")}var J=new b(h.map(function(m){var O=M(k(atob(m.image.slice(23))));return O.duration=m.duration,O}));postMessage(J)}return u.prototype.compile=function(h){var b=r(s);b.onmessage=function(g){if(g.data.error){console.error(g.data.error);return}h(g.data)},b.postMessage(this.frames)},{Video:u}}();typeof t<"u"&&(t.Whammy=Te);/**
 * DiskStorage is a standalone object used by {@link RecordRTC} to store recorded blobs in IndexedDB storage.
 * @summary Writing blobs into IndexedDB.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * DiskStorage.Store({
 *     audioBlob: yourAudioBlob,
 *     videoBlob: yourVideoBlob,
 *     gifBlob  : yourGifBlob
 * });
 * DiskStorage.Fetch(function(dataURL, type) {
 *     if(type === 'audioBlob') { }
 *     if(type === 'videoBlob') { }
 *     if(type === 'gifBlob')   { }
 * });
 * // DiskStorage.dataStoreName = 'recordRTC';
 * // DiskStorage.onError = function(error) { };
 * @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.
 * @property {function} Fetch - This method fetches stored blobs from IndexedDB.
 * @property {function} Store - This method stores blobs in IndexedDB.
 * @property {function} onError - This function is invoked for any known/unknown error.
 * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var ae={init:function(){var u=this;if(typeof indexedDB>"u"||typeof indexedDB.open>"u"){console.error("IndexedDB API are not available in this browser.");return}var r=1,s=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),h,b=indexedDB.open(s,r);function g(l){l.createObjectStore(u.dataStoreName)}function x(){var l=h.transaction([u.dataStoreName],"readwrite");u.videoBlob&&l.objectStore(u.dataStoreName).put(u.videoBlob,"videoBlob"),u.gifBlob&&l.objectStore(u.dataStoreName).put(u.gifBlob,"gifBlob"),u.audioBlob&&l.objectStore(u.dataStoreName).put(u.audioBlob,"audioBlob");function E(P){l.objectStore(u.dataStoreName).get(P).onsuccess=function(T){u.callback&&u.callback(T.target.result,P)}}E("audioBlob"),E("videoBlob"),E("gifBlob")}b.onerror=u.onError,b.onsuccess=function(){if(h=b.result,h.onerror=u.onError,h.setVersion)if(h.version!==r){var l=h.setVersion(r);l.onsuccess=function(){g(h),x()}}else x();else x()},b.onupgradeneeded=function(l){g(l.target.result)}},Fetch:function(u){return this.callback=u,this.init(),this},Store:function(u){return this.audioBlob=u.audioBlob,this.videoBlob=u.videoBlob,this.gifBlob=u.gifBlob,this.init(),this},onError:function(u){console.error(JSON.stringify(u,null,"	"))},dataStoreName:"recordRTC",dbName:null};typeof t<"u"&&(t.DiskStorage=ae);/**
 * GifRecorder is standalone calss used by {@link RecordRTC} to record video or canvas into animated gif.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GifRecorder
 * @class
 * @example
 * var recorder = new GifRecorder(mediaStream || canvas || context, { onGifPreview: function, onGifRecordingStarted: function, width: 1280, height: 720, frameRate: 200, quality: 10 });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     img.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.
 * @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}
 */function ge(u,r){if(typeof GIFEncoder>"u"){var s=document.createElement("script");s.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(s)}r=r||{};var h=u instanceof CanvasRenderingContext2D||u instanceof HTMLCanvasElement;this.record=function(){if(typeof GIFEncoder>"u"){setTimeout(D.record,1e3);return}if(!E){setTimeout(D.record,1e3);return}h||(r.width||(r.width=P.offsetWidth||320),r.height||(r.height=P.offsetHeight||240),r.video||(r.video={width:r.width,height:r.height}),r.canvas||(r.canvas={width:r.width,height:r.height}),x.width=r.canvas.width||320,x.height=r.canvas.height||240,P.width=r.video.width||320,P.height=r.video.height||240),M=new GIFEncoder,M.setRepeat(0),M.setDelay(r.frameRate||200),M.setQuality(r.quality||10),M.start(),typeof r.onGifRecordingStarted=="function"&&r.onGifRecordingStarted();function k(G){if(D.clearedRecordedData!==!0){if(b)return setTimeout(function(){k(G)},100);T=c(k),typeof U===void 0&&(U=G),!(G-U<90)&&(!h&&P.paused&&P.play(),h||l.drawImage(P,0,0,x.width,x.height),r.onGifPreview&&r.onGifPreview(x.toDataURL("image/png")),M.addFrame(l),U=G)}}T=c(k),r.initCallback&&r.initCallback()},this.stop=function(k){k=k||function(){},T&&v(T),this.blob=new Blob([new Uint8Array(M.stream().bin)],{type:"image/gif"}),k(this.blob),M.stream().bin=[]};var b=!1;this.pause=function(){b=!0},this.resume=function(){b=!1},this.clearRecordedData=function(){D.clearedRecordedData=!0,g()};function g(){M&&(M.stream().bin=[])}this.name="GifRecorder",this.toString=function(){return this.name};var x=document.createElement("canvas"),l=x.getContext("2d");h&&(u instanceof CanvasRenderingContext2D?(l=u,x=l.canvas):u instanceof HTMLCanvasElement&&(l=u.getContext("2d"),x=u));var E=!0;if(!h){var P=document.createElement("video");P.muted=!0,P.autoplay=!0,P.playsInline=!0,E=!1,P.onloadedmetadata=function(){E=!0},S(u,P),P.play()}var T=null,U,M,D=this}typeof t<"u"&&(t.GifRecorder=ge);function ke(u,r){var s="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(d){typeof t<"u"||d&&(typeof window<"u"||typeof ue>"u"||(ue.navigator={userAgent:s,getUserMedia:function(){}},ue.console||(ue.console={}),(typeof ue.console.log>"u"||typeof ue.console.error>"u")&&(ue.console.error=ue.console.log=ue.console.log||function(){console.log(arguments)}),typeof document>"u"&&(d.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var y={getContext:function(){return y},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return y},d.HTMLVideoElement=function(){}),typeof location>"u"&&(d.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(d.screen={width:0,height:0}),typeof P>"u"&&(d.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),d.window=ue))})(typeof ue<"u"?ue:null),r=r||"multi-streams-mixer";var h=[],b=!1,g=document.createElement("canvas"),x=g.getContext("2d");g.style.opacity=0,g.style.position="absolute",g.style.zIndex=-1,g.style.top="-1000em",g.style.left="-1000em",g.className=r,(document.body||document.documentElement).appendChild(g),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var l=this,E=window.AudioContext;typeof E>"u"&&(typeof webkitAudioContext<"u"&&(E=webkitAudioContext),typeof mozAudioContext<"u"&&(E=mozAudioContext));var P=window.URL;typeof P>"u"&&typeof webkitURL<"u"&&(P=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var T=window.MediaStream;typeof T>"u"&&typeof webkitMediaStream<"u"&&(T=webkitMediaStream),typeof T<"u"&&typeof T.prototype.stop>"u"&&(T.prototype.stop=function(){this.getTracks().forEach(function(d){d.stop()})});var U={};typeof E<"u"?U.AudioContext=E:typeof webkitAudioContext<"u"&&(U.AudioContext=webkitAudioContext);function M(d,y){"srcObject"in y?y.srcObject=d:"mozSrcObject"in y?y.mozSrcObject=d:y.srcObject=d}this.startDrawingFrames=function(){D()};function D(){if(!b){var d=h.length,y=!1,N=[];if(h.forEach(function(Z){Z.stream||(Z.stream={}),Z.stream.fullcanvas?y=Z:N.push(Z)}),y)g.width=y.stream.width,g.height=y.stream.height;else if(N.length){g.width=d>1?N[0].width*2:N[0].width;var j=1;(d===3||d===4)&&(j=2),(d===5||d===6)&&(j=3),(d===7||d===8)&&(j=4),(d===9||d===10)&&(j=5),g.height=N[0].height*j}else g.width=l.width||360,g.height=l.height||240;y&&y instanceof HTMLVideoElement&&k(y),N.forEach(function(Z,Y){k(Z,Y)}),setTimeout(D,l.frameInterval)}}function k(d,y){if(!b){var N=0,j=0,Z=d.width,Y=d.height;y===1&&(N=d.width),y===2&&(j=d.height),y===3&&(N=d.width,j=d.height),y===4&&(j=d.height*2),y===5&&(N=d.width,j=d.height*2),y===6&&(j=d.height*3),y===7&&(N=d.width,j=d.height*3),typeof d.stream.left<"u"&&(N=d.stream.left),typeof d.stream.top<"u"&&(j=d.stream.top),typeof d.stream.width<"u"&&(Z=d.stream.width),typeof d.stream.height<"u"&&(Y=d.stream.height),x.drawImage(d,N,j,Z,Y),typeof d.stream.onRender=="function"&&d.stream.onRender(x,N,j,Z,Y,y)}}function G(){b=!1;var d=J(),y=m();return y&&y.getTracks().filter(function(N){return N.kind==="audio"}).forEach(function(N){d.addTrack(N)}),u.forEach(function(N){N.fullcanvas}),d}function J(){V();var d;"captureStream"in g?d=g.captureStream():"mozCaptureStream"in g?d=g.mozCaptureStream():l.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var y=new T;return d.getTracks().filter(function(N){return N.kind==="video"}).forEach(function(N){y.addTrack(N)}),g.stream=y,y}function m(){U.AudioContextConstructor||(U.AudioContextConstructor=new U.AudioContext),l.audioContext=U.AudioContextConstructor,l.audioSources=[],l.useGainNode===!0&&(l.gainNode=l.audioContext.createGain(),l.gainNode.connect(l.audioContext.destination),l.gainNode.gain.value=0);var d=0;if(u.forEach(function(y){if(y.getTracks().filter(function(j){return j.kind==="audio"}).length){d++;var N=l.audioContext.createMediaStreamSource(y);l.useGainNode===!0&&N.connect(l.gainNode),l.audioSources.push(N)}}),!!d)return l.audioDestination=l.audioContext.createMediaStreamDestination(),l.audioSources.forEach(function(y){y.connect(l.audioDestination)}),l.audioDestination.stream}function O(d){var y=document.createElement("video");return M(d,y),y.className=r,y.muted=!0,y.volume=0,y.width=d.width||l.width||360,y.height=d.height||l.height||240,y.play(),y}this.appendStreams=function(d){if(!d)throw"First parameter is required.";d instanceof Array||(d=[d]),d.forEach(function(y){var N=new T;if(y.getTracks().filter(function(Y){return Y.kind==="video"}).length){var j=O(y);j.stream=y,h.push(j),N.addTrack(y.getTracks().filter(function(Y){return Y.kind==="video"})[0])}if(y.getTracks().filter(function(Y){return Y.kind==="audio"}).length){var Z=l.audioContext.createMediaStreamSource(y);l.audioDestination=l.audioContext.createMediaStreamDestination(),Z.connect(l.audioDestination),N.addTrack(l.audioDestination.stream.getTracks().filter(function(Y){return Y.kind==="audio"})[0])}u.push(N)})},this.releaseStreams=function(){h=[],b=!0,l.gainNode&&(l.gainNode.disconnect(),l.gainNode=null),l.audioSources.length&&(l.audioSources.forEach(function(d){d.disconnect()}),l.audioSources=[]),l.audioDestination&&(l.audioDestination.disconnect(),l.audioDestination=null),l.audioContext&&l.audioContext.close(),l.audioContext=null,x.clearRect(0,0,g.width,g.height),g.stream&&(g.stream.stop(),g.stream=null)},this.resetVideoStreams=function(d){d&&!(d instanceof Array)&&(d=[d]),V(d)};function V(d){h=[],d=d||u,d.forEach(function(y){if(y.getTracks().filter(function(j){return j.kind==="video"}).length){var N=O(y);N.stream=y,h.push(N)}})}this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=G}typeof t>"u"&&(e.exports=ke);/**
 * MultiStreamRecorder can record multiple videos in single container.
 * @summary Multi-videos recorder.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MultiStreamRecorder
 * @class
 * @example
 * var options = {
 *     mimeType: 'video/webm'
 * }
 * var recorder = new MultiStreamRecorder(ArrayOfMediaStreams, options);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStreams} mediaStreams - Array of MediaStreams.
 * @param {object} config - {disableLogs:true, frameInterval: 1, mimeType: "video/webm"}
 */function ce(u,r){u=u||[];var s=this,h,b;r=r||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}},r.frameInterval||(r.frameInterval=10),r.video||(r.video={}),r.video.width||(r.video.width=360),r.video.height||(r.video.height=240),this.record=function(){h=new ke(u,r.elementClass||"multi-streams-mixer"),g().length&&(h.frameInterval=r.frameInterval||10,h.width=r.video.width||360,h.height=r.video.height||240,h.startDrawingFrames()),r.previewStream&&typeof r.previewStream=="function"&&r.previewStream(h.getMixedStream()),b=new z(h.getMixedStream(),r),b.record()};function g(){var x=[];return u.forEach(function(l){B(l,"video").forEach(function(E){x.push(E)})}),x}this.stop=function(x){b&&b.stop(function(l){s.blob=l,x(l),s.clearRecordedData()})},this.pause=function(){b&&b.pause()},this.resume=function(){b&&b.resume()},this.clearRecordedData=function(){b&&(b.clearRecordedData(),b=null),h&&(h.releaseStreams(),h=null)},this.addStreams=function(x){if(!x)throw"First parameter is required.";x instanceof Array||(x=[x]),u.concat(x),!(!b||!h)&&(h.appendStreams(x),r.previewStream&&typeof r.previewStream=="function"&&r.previewStream(h.getMixedStream()))},this.resetVideoStreams=function(x){h&&(x&&!(x instanceof Array)&&(x=[x]),h.resetVideoStreams(x))},this.getMixer=function(){return h},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}typeof t<"u"&&(t.MultiStreamRecorder=ce);/**
 * RecordRTCPromisesHandler adds promises support in {@link RecordRTC}. Try a {@link https://github.com/muaz-khan/RecordRTC/blob/master/simple-demos/RecordRTCPromisesHandler.html|demo here}
 * @summary Promises for {@link RecordRTC}
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCPromisesHandler
 * @class
 * @example
 * var recorder = new RecordRTCPromisesHandler(mediaStream, options);
 * recorder.startRecording()
 *         .then(successCB)
 *         .catch(errorCB);
 * // Note: You can access all RecordRTC API using "recorder.recordRTC" e.g. 
 * recorder.recordRTC.onStateChanged = function(state) {};
 * recorder.recordRTC.setRecordingDuration(5000);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 * @throws Will throw an error if "new" keyword is not used to initiate "RecordRTCPromisesHandler". Also throws error if first argument "MediaStream" is missing.
 * @requires {@link RecordRTC}
 */function fe(u,r){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(typeof u>"u")throw'First argument "MediaStream" is required.';var s=this;s.recordRTC=new t(u,r),this.startRecording=function(){return new Promise(function(h,b){try{s.recordRTC.startRecording(),h()}catch(g){b(g)}})},this.stopRecording=function(){return new Promise(function(h,b){try{s.recordRTC.stopRecording(function(g){if(s.blob=s.recordRTC.getBlob(),!s.blob||!s.blob.size){b("Empty blob.",s.blob);return}h(g)})}catch(g){b(g)}})},this.pauseRecording=function(){return new Promise(function(h,b){try{s.recordRTC.pauseRecording(),h()}catch(g){b(g)}})},this.resumeRecording=function(){return new Promise(function(h,b){try{s.recordRTC.resumeRecording(),h()}catch(g){b(g)}})},this.getDataURL=function(h){return new Promise(function(b,g){try{s.recordRTC.getDataURL(function(x){b(x)})}catch(x){g(x)}})},this.getBlob=function(){return new Promise(function(h,b){try{h(s.recordRTC.getBlob())}catch(g){b(g)}})},this.getInternalRecorder=function(){return new Promise(function(h,b){try{h(s.recordRTC.getInternalRecorder())}catch(g){b(g)}})},this.reset=function(){return new Promise(function(h,b){try{h(s.recordRTC.reset())}catch(g){b(g)}})},this.destroy=function(){return new Promise(function(h,b){try{h(s.recordRTC.destroy())}catch(g){b(g)}})},this.getState=function(){return new Promise(function(h,b){try{h(s.recordRTC.getState())}catch(g){b(g)}})},this.blob=null,this.version="5.6.2"}typeof t<"u"&&(t.RecordRTCPromisesHandler=fe);/**
 * WebAssemblyRecorder lets you create webm videos in JavaScript via WebAssembly. The library consumes raw RGBA32 buffers (4 bytes per pixel) and turns them into a webm video with the given framerate and quality. This makes it compatible out-of-the-box with ImageData from a CANVAS. With realtime mode you can also use webm-wasm for streaming webm videos.
 * @summary Video recording feature in Chrome, Firefox and maybe Edge.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WebAssemblyRecorder
 * @class
 * @example
 * var recorder = new WebAssemblyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {webAssemblyPath:'webm-wasm.wasm',workerPath: 'webm-worker.js', frameRate: 30, width: 1920, height: 1080, bitrate: 1024, realtime: true}
 */function ve(u,r){(typeof ReadableStream>"u"||typeof WritableStream>"u")&&console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),r=r||{},r.width=r.width||640,r.height=r.height||480,r.frameRate=r.frameRate||30,r.bitrate=r.bitrate||1200,r.realtime=r.realtime||!0;var s;function h(){return new ReadableStream({start:function(P){var T=document.createElement("canvas"),U=document.createElement("video"),M=!0;U.srcObject=u,U.muted=!0,U.height=r.height,U.width=r.width,U.volume=0,U.onplaying=function(){T.width=r.width,T.height=r.height;var D=T.getContext("2d"),k=1e3/r.frameRate,G=setInterval(function(){if(s&&(clearInterval(G),P.close()),M&&(M=!1,r.onVideoProcessStarted&&r.onVideoProcessStarted()),D.drawImage(U,0,0),P._controlledReadableStream.state!=="closed")try{P.enqueue(D.getImageData(0,0,r.width,r.height))}catch{}},k)},U.play()}})}var b;function g(P,T){if(!r.workerPath&&!T){s=!1,fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then(function(M){M.arrayBuffer().then(function(D){g(P,D)})});return}if(!r.workerPath&&T instanceof ArrayBuffer){var U=new Blob([T],{type:"text/javascript"});r.workerPath=_.createObjectURL(U)}r.workerPath||console.error("workerPath parameter is missing."),b=new Worker(r.workerPath),b.postMessage(r.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),b.addEventListener("message",function(M){M.data==="READY"?(b.postMessage({width:r.width,height:r.height,bitrate:r.bitrate||1200,timebaseDen:r.frameRate||30,realtime:r.realtime}),h().pipeTo(new WritableStream({write:function(D){if(s){console.error("Got image, but recorder is finished!");return}b.postMessage(D.data.buffer,[D.data.buffer])}}))):M.data&&(x||E.push(M.data))})}this.record=function(){E=[],x=!1,this.blob=null,g(u),typeof r.initCallback=="function"&&r.initCallback()};var x;this.pause=function(){x=!0},this.resume=function(){x=!1};function l(P){if(!b){P&&P();return}b.addEventListener("message",function(T){T.data===null&&(b.terminate(),b=null,P&&P())}),b.postMessage(null)}var E=[];this.stop=function(P){s=!0;var T=this;l(function(){T.blob=new Blob(E,{type:"video/webm"}),P(T.blob)})},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){E=[],x=!1,this.blob=null},this.blob=null}typeof t<"u"&&(t.WebAssemblyRecorder=ve)}(Tr)),Tr.exports}var $o=Go();const gn=zo($o);var Ho=Se('<input type="checkbox" class="h-5 w-5">'),Yo=Se('<input type="number" class="w-full px-3 py-2 border rounded focus:outline-none focus:ring">'),Ko=Se('<input type="text" class="w-full px-3 py-2 border rounded focus:outline-none focus:ring">'),Qo=Se('<div class="mb-4"><span class="block mb-2 font-medium"> </span> <!></div>'),Jo=Se('<div class="fixed inset-0 bg-black/10 flex items-center justify-center z-50"><div class="bg-[#f4ede1] p-8 min-w-[320px] max-w-[90vw] shadow-lg rounded-3xl"><h2 class="text-xl font-bold mb-6"> </h2> <button class="border rounded-3xl p-4">record voice</button> <form><!> <div class="flex gap-3 justify-end mt-6"><button type="button" class="px-4 py-2 rounded border bg-gray-100 hover:bg-gray-200">취소</button> <button type="submit" class="px-4 py-2 rounded bg-lime-600 text-white hover:bg-lime-700">확인</button></div></form></div></div>');function Xo(e,t){wt(t,!1);const[n,i]=mr(),o=()=>ht(Et,"$ApprovalModalStore",n);let a=Ve(t,"name",8),c=Ve(t,"parameters",8),f=qe({}),v=qe(null);Kr(()=>{re(f,{...c()})});function p(){var F,C;if(I(v)==null){alert("please record voice");return}const S={};for(const q in I(f)){const z=c()[q],X=I(f)[q];switch(typeof z){case"number":S[q]=Number(X);break;case"boolean":S[q]=!!X;break;default:S[q]=X}}S.voice=I(v),(C=(F=o())==null?void 0:F.resolver)==null||C.call(F,S),Et.set(null)}function _(){var S,F;(F=(S=o())==null?void 0:S.resolver)==null||F.call(S,null),Et.set(null)}async function R(){const S=await navigator.mediaDevices.getUserMedia({audio:!0}),F=new gn(S,{type:"audio",mimeType:"audio/wav",recorderType:gn.StereoAudioRecorder,desiredSampRate:16e3,numberOfAudioChannels:1});return F.startRecording(),await ir("녹음이 시작되었습니다.","녹음 시작!"),new Promise((C,q)=>{setTimeout(()=>{F.stopRecording(async()=>{try{const z=F.getDataURL(X=>{const H=X.split(",")[1];S.getTracks().forEach(te=>te.stop()),F.destroy(),ir("녹음이 완료되었습니다.","분석 중..."),C(H)})}catch(z){S.getTracks().forEach(X=>X.stop()),F.destroy(),q(z)}})},1e4)})}pr();var w=Jo(),L=se(w),A=se(L),$=se(A),W=me(A,2),K=me(W,2),oe=se(K);Xn(oe,1,()=>Object.entries(I(f)),Jn,(S,F)=>{let C=()=>I(F)[0];var q=Qo(),z=se(q),X=se(z),H=me(z,2);{var te=ae=>{var ge=Ho();Co(ge,()=>I(f)[C()],ke=>Rr(f,I(f)[C()]=ke)),de(ae,ge)},Te=(ae,ge)=>{{var ke=fe=>{var ve=Yo();Ur(ve,()=>I(f)[C()],u=>Rr(f,I(f)[C()]=u)),de(fe,ve)},ce=fe=>{var ve=Ko();Ur(ve,()=>I(f)[C()],u=>Rr(f,I(f)[C()]=u)),de(fe,ve)};Je(ae,fe=>{typeof c()[C()]=="number"?fe(ke):fe(ce,!1)},ge)}};Je(H,ae=>{typeof c()[C()]=="boolean"?ae(te):ae(Te,!1)})}pt(()=>dt(X,C())),de(S,q)});var Q=me(oe,2),B=se(Q);pt(()=>dt($,a())),$t("click",W,()=>R().then(S=>re(v,S))),$t("click",B,_),$t("submit",K,Lo(p)),de(e,w),yt(),i()}const Zo=""+new URL("../images/tool_failed.png",import.meta.url).href;var ea=Se('<div class="mb-4 text-red-600 font-semibold"> </div>'),ta=Se('<div class="fixed inset-0 bg-black/10 flex items-center justify-center z-50"><div class="bg-[#f5ecdd] rounded-lg p-8 w-96 shadow-lg"><h2 class="text-xl font-bold mb-6">비정상적 송금 금액입니다.</h2> <div class="mb-4"><!> <div class="flex justify-center items-center w-full"><img width="50%" height="50%" alt=""></div></div> <div class="flex gap-3 justify-end mt-6"><button type="button" class="px-4 py-2 rounded border bg-gray-100 hover:bg-gray-200">확인</button></div></div></div>');function ra(e,t){wt(t,!1);const[n,i]=mr(),o=()=>ht(rr,"$DepositWarningModalStore",n);Ve(t,"name",8);let a=Ve(t,"parameters",8),c=Ve(t,"exceedLimit",8),f=qe({});Kr(()=>{re(f,{...a()})});let v=qe("");function p(){var Q,B;(B=(Q=o())==null?void 0:Q.resolver)==null||B.call(Q,null),rr.set(null)}Pn(()=>(I(f),Hr(c())),()=>{I(f).amount!=null&&I(f).balance!=null&&I(f).amount>I(f).balance?re(v,`💸 현재 보유 금액(${I(f).balance.toLocaleString()}원)을 초과하여 ${I(f).amount.toLocaleString()}원을 송금하려고 합니다.`):I(f).amount!=null&&I(f).amount>=c()?re(v,`💸 제한 금액(${c().toLocaleString()}원)을 초과하여 ${I(f).amount.toLocaleString()}원을 송금하려고 합니다.`):re(v,"")}),In(),pr();var _=ta(),R=se(_),w=me(se(R),2),L=se(w);{var A=Q=>{var B=ea(),S=se(B);pt(()=>dt(S,I(v))),de(Q,B)};Je(L,Q=>{I(v)&&Q(A)})}var $=me(L,2),W=se($);Zn(W,"src",Zo);var K=me(w,2),oe=se(K);$t("click",oe,p),de(e,_),yt(),i()}const na=""+new URL("../images/tool_success.png",import.meta.url).href;var ia=Se('<div class="fixed inset-0 bg-black/10 flex items-center justify-center z-50"><div class="bg-[#f4ede1] rounded-3xl p-8 w-96 shadow-lg aspect-square"><h2 class="text-xl font-extrabold mb-6 text-center w-full"> <br> <span class="font-light text-sm"> </span></h2> <div class="flex justify-center items-center w-full h-3/4"><img width="50%" height="50%" alt=""></div></div></div>');function oa(e,t){wt(t,!1);const[n,i]=mr(),o=()=>ht(nr,"$ToolModalStore",n);let a=Ve(t,"name",8),c=Ve(t,"title",8);function f(){var W,K;(K=(W=o())==null?void 0:W.resolver)==null||K.call(W,null),nr.set(null)}setTimeout(()=>{f()},1500),pr();var v=ia(),p=se(v),_=se(p),R=se(_),w=me(R,3),L=se(w),A=me(_,2),$=se(A);Zn($,"src",na),pt(W=>{dt(R,c()||"도구를 사용했어요!"),dt(L,`- ${W??""} -`)},[()=>a().toLowerCase()],fr),de(e,v),yt(),i()}const aa=(e,t)=>e.key==="Enter"&&t();var sa=Se('<div class="w-full bg-amber-50/70 rounded-xl  px-3 py-2 text-sm break-words"><span class="text-xs text-gray-500">실행</span> </div>'),ua=Se('<span class="text-xs text-gray-500">Bella</span><br>',1),fa=Se("<div><!> </div>"),la=Se('<div class="h-full w-full flex flex-col mx-auto p-8"><div class="flex-1 overflow-auto p-2 space-y-2"></div> <div class="flex gap-2 p-2"><input class="flex-1 px-3 py-2 text-lg rounded-3xl h-16 bg-white" placeholder="메시지 입력"> <button class="px-3 py-2 text-sm bg-white rounded-3xl aspect-square">전송</button></div></div> <!> <!> <!>',1);function da(e,t){wt(t,!0);const[n,i]=mr(),o=()=>ht(Et,"$ApprovalModalStore",n),a=()=>ht(rr,"$DepositWarningModalStore",n),c=()=>ht(nr,"$ToolModalStore",n);let f=crypto.randomUUID();var v=!1;setInterval(async()=>{v&&(await(await fetch("/check-agent-request",{method:"POST"})).json()).status&&(v=!1,await ir("신청한 송금이 승인되었습니다","승인되었어요 !"),p.push({role:"assistant",content:"송금신청이 승인 되었습니다!",type:"tool"}))},3e3);let p=tt([{role:"assistant",content:"안녕하세요!"},{role:"user",content:"안녕하세요!"}]),_=Qe(""),R;async function w(H,te,Te=!0){typeof H=="string"?p.push({role:"user",content:H}):p.push({role:"user",content:"APPROVAL_REQUIRED"});const ae=await fetch("/stream",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({thread_id:te,query:H})});if(!ae.body)return;const ge=ae.body.getReader(),ke=new TextDecoder;let ce=null;for(;;){const{value:fe,done:ve}=await ge.read();if(ve)break;const u=ke.decode(fe);for(let r of u.split(`

`)){if(!r.startsWith("data: "))continue;const s=r.slice(6);if(s!=="[DONE]")if(/^\[TOOL_END\](.*)\[\/TOOL_END\]$/.test(s)){const h=JSON.parse(s.match(/^\[TOOL_END\](.*)\[\/TOOL_END\]$/)[1]);p.push({role:"assistant",content:`${h.name} 도구가 사용되었습니다`,type:"tool"}),await ir(h.name),h.name=="sendAgentRequest"&&h.content.includes("성공")&&(v=!0)}else if(/^\[APPROVAL_REQUIRED\](.*)\[\/APPROVAL_REQUIRED\]$/.test(s))if(Te){const[h,b,g]=s.match(/\[APPROVAL_REQUIRED\](.*?):\s*(\{.*\})\[\/APPROVAL_REQUIRED\]/)||[];if(b&&g)return{name:b,parameters:JSON.parse(g)}}else{const h=s.match(/^\[APPROVAL_REQUIRED\](.*)\[\/APPROVAL_REQUIRED\]$/)[1];p.push({role:"assistant",content:h,type:"tool"})}else ce?p[p.length-1].content=p[p.length-1].content+s:(ce={role:"assistant",content:s},p.push(ce))}}return setTimeout(()=>R==null?void 0:R.scrollTo({top:R.scrollHeight}),0),null}let L=5e4;async function A(){const H=I(_).trim(),te=await w(H,f);if(te){te.parameters.amount>=L&&await Vo(te.name,te.parameters,L);const Te=await qo(te.name,te.parameters);await w(Te||{to_address:"",from_address:"",amount:0},f,!1)}}var $=la(),W=Lt($),K=se(W);Xn(K,21,()=>p,Jn,(H,te)=>{var Te=Ht(),ae=Lt(Te);{var ge=ce=>{var fe=sa(),ve=me(se(fe));pt(()=>dt(ve,` : ${I(te).content??""}`)),de(ce,fe)},ke=ce=>{var fe=fa(),ve=se(fe);{var u=s=>{var h=ua();de(s,h)};Je(ve,s=>{I(te).role=="assistant"&&I(te).type!="tool"&&s(u)})}var r=me(ve);pt(()=>{_o(fe,1,`max-w-[85%] px-3 py-2 text-base break-words rounded-xl w-full
			${I(te).role==="user"?"text-right ml-auto bg-gray-100/70":"text-left bg-amber-50/70"}`),dt(r,` ${I(te).content??""}`)}),de(ce,fe)};Je(ae,ce=>{I(te).type=="tool"?ce(ge):ce(ke,!1)})}de(H,Te)}),ko(K,H=>R=H,()=>R);var oe=me(K,2),Q=se(oe);Q.__keydown=[aa,A];var B=me(Q,2);B.__click=A;var S=me(W,2);{var F=H=>{Xo(H,{get name(){return o().name},get parameters(){return o().parameters}})};Je(S,H=>{o()&&H(F)})}var C=me(S,2);{var q=H=>{ra(H,{get name(){return a().name},get parameters(){return a().parameters},exceedLimit:L})};Je(C,H=>{a()&&H(q)})}var z=me(C,2);{var X=H=>{oa(H,{get name(){return c().name},get title(){return c().title}})};Je(z,H=>{c()&&H(X)})}Ur(Q,()=>I(_),H=>re(_,H)),de(e,$),yt(),i()}lo(["keydown","click"]);var ca=Se('<div class="w-[360px] h-[640px] bg-white border rounded-3xl shadow-lg p-4 flex flex-col"><!></div>'),va=Se('<main class="w-screen h-screen flex"><nav class="flex-1 flex flex-col items-center justify-center space-y-6 bg-gray-50"><a href="#/" class="text-xl hover:underline svelte-xnbhzl">홈</a> <a href="#/LLM" class="text-xl hover:underline svelte-xnbhzl">채팅</a></nav> <div class="flex-1 flex items-center justify-center bg-[url(/assets/images/background.png)] bg-center rounded-3xl"><!></div> <div class="flex-1 flex items-center justify-center bg-gray-50">pintech-team01</div></main>');function ha(e){const t={"/":Wo,"/LLM":da};var n=va(),i=me(se(n),2),o=se(i);No(o,{routes:t,useHash:!0,children:Fi,$$slots:{default:(a,c)=>{const f=fr(()=>c.Component);var v=ca(),p=se(v);Or(p,()=>I(f),(_,R)=>{R(_,{})}),de(a,v)}}}),de(e,n)}vo(ha,{target:document.getElementById("app")});
